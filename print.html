<!DOCTYPE HTML>
<html lang="en" class="dark sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Intuition Beta Contracts Documentation</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        <!-- Include Mermaid -->
        <script src='https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js'></script>
        
        <!-- Include MathJax -->
        <script>
          window.MathJax = { tex: { inlineMath: [['$', '$'], ['\\(', '\\)']], displayMath: [['$$', '$$'], ['\\[', '\\]']],
          processEscapes: true, processEnvironments: true }, options: { skipHtmlTags: ['script', 'noscript', 'style',
          'textarea', 'pre'] } };
        </script>
        <script
          type='text/javascript'
          id='MathJax-script'
          async
          src='https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
        >
        </script>
        
        <script>
          window.addEventListener('load', function() { mermaid.initialize({ startOnLoad: true, theme: 'dark', securityLevel:
          'loose', themeVariables: { darkMode: true }, flowchart: { htmlLabels: true, curve: 'basis', useMaxWidth: true }, zoom:
          { enabled: true, maxZoom: 10, minZoom: 0.1 }, menu: { enabled: true, showMenu: true, menuItems: [ { name: 'Zoom In',
          action: function() { mermaid.mermaidAPI.zoomIn(); } }, { name: 'Zoom Out', action: function() {
          mermaid.mermaidAPI.zoomOut(); } }, { name: 'Reset Zoom', action: function() { mermaid.mermaidAPI.reset(); } } ] } });
          });
        </script>
        
        <style>
          .mermaid { width: 100% !important; } /* Style the menu */ .mermaid-menu { background-color: #2d2d2d !important;
          border: 1px solid #444 !important; padding: 5px !important; border-radius: 4px !important; } .mermaid-menu-item {
          color: #fff !important; padding: 5px 10px !important; cursor: pointer !important; } .mermaid-menu-item:hover {
          background-color: #444 !important; }
        </style>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="book.css">


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "dark";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('dark')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Intuition Beta Contracts Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/0xIntuition/intuition-beta-contracts" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="intuition-protocol"><a class="header" href="#intuition-protocol">Intuition Protocol</a></h1>
<p>Intuition is an Ethereum-based attestation protocol harnessing the wisdom of the crowds to create an open knowledge and reputation graph. Our infrastructure makes it easy for applications and their users to capture, explore, and curate verifiable data. We’ve prioritized making developer integrations easy and have implemented incentive structures that prioritize ‘useful’ data and discourage spam.</p>
<p>In bringing this new data layer to the decentralized web, we’re opening the flood gates to countless new use cases that we believe will kick off a consumer application boom.</p>
<p>The Intuition Knowledge Graph will be recognized as an organic flywheel, where the more developers that implement it, the more valuable the data it houses becomes.</p>
<h2 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h2>
<ul>
<li><a href="index.html#intuition-protocol">Intuition Protocol</a>
<ul>
<li><a href="index.html#getting-started">Getting Started</a></li>
<li><a href="index.html#documentation">Documentation</a>
<ul>
<li><a href="index.html#known-nuances">Known Nuances</a></li>
</ul>
</li>
<li><a href="index.html#building-and-running-tests">Building and Running Tests</a>
<ul>
<li><a href="index.html#prerequisites">Prerequisites</a></li>
<li><a href="index.html#step-by-step-guide">Step by Step Guide</a>
<ul>
<li><a href="index.html#install-dependencies">Install Dependencies</a></li>
<li><a href="index.html#build">Build</a></li>
<li><a href="index.html#run-tests">Run Tests</a></li>
<li><a href="index.html#run-fuzz-tests">Run Fuzz Tests</a></li>
<li><a href="index.html#run-slither-static-analysis">Run Slither (Static Analysis)</a></li>
<li><a href="index.html#run-manticore-symbolic-execution">Run Manticore (Symbolic Execution)</a></li>
</ul>
</li>
<li><a href="index.html#deployment-process">Deployment Process</a></li>
<li><a href="index.html#deployment-verification">Deployment Verification</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="documentation"><a class="header" href="#documentation">Documentation</a></h2>
<p>To get a basic understanding of the Intuition protocol, please check out the following:</p>
<ul>
<li><a href="https://intuition.systems">Official Website</a></li>
<li><a href="https://docs.intuition.systems">Official Documentation</a></li>
<li><a href="https://intuition.gitbook.io/intuition-or-beta-contracts">Deep Dive into Our Smart Contracts</a></li>
<li><a href="https://0xintuition.github.io/intuition-beta-contracts">Full Contracts Documentation</a></li>
</ul>
<h3 id="rationale"><a class="header" href="#rationale">Rationale</a></h3>
<ul>
<li>This repository contains a sort of frankenstein of the previously audited EthMultiVault and the new Bonding Curve Registry features.</li>
<li>All bonding curve related activities have their own methods / routes in the EthMultiVault.</li>
<li>This results in duplicative code, but enables us to keep the old EthMultiVault and the new Bonding Curve Registry features separate.</li>
<li>The next version of the MultiVault will consolidate and converge these disparate pathways into a far more elegant and organized system.</li>
</ul>
<h2 id="building-and-running-tests"><a class="header" href="#building-and-running-tests">Building and Running Tests</a></h2>
<p>To build the project and run tests, follow these steps:</p>
<h3 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h3>
<ul>
<li><a href="https://nodejs.org/en/download/">Node.js</a></li>
<li><a href="https://getfoundry.sh">Foundry</a></li>
</ul>
<h3 id="step-by-step-guide"><a class="header" href="#step-by-step-guide">Step by Step Guide</a></h3>
<h4 id="install-dependencies"><a class="header" href="#install-dependencies">Install Dependencies</a></h4>
<pre><code class="language-shell">$ npm i
$ forge install
</code></pre>
<h4 id="build"><a class="header" href="#build">Build</a></h4>
<pre><code class="language-shell">$ forge build
</code></pre>
<h4 id="run-tests"><a class="header" href="#run-tests">Run Tests</a></h4>
<pre><code class="language-shell">$ forge test -vvv
</code></pre>
<h4 id="run-fuzz-tests"><a class="header" href="#run-fuzz-tests">Run Fuzz Tests</a></h4>
<ul>
<li>Make sure you have at least node 16 and python 3.6 installed on your local machine</li>
<li>Add your FUZZ_AP_KEY to the .env file locally</li>
<li>Run the following command to install the <code>diligence-fuzzing</code> package:</li>
</ul>
<pre><code class="language-shell">$ pip3 install diligence-fuzzing
</code></pre>
<ul>
<li>After the installation is completed, run the fuzzing CLI:</li>
</ul>
<pre><code class="language-shell">$ fuzz forge test
</code></pre>
<ul>
<li>Finally, check your Diligence Fuzzing dashboard to see the results of the fuzzing tests</li>
</ul>
<h4 id="run-slither-static-analysis"><a class="header" href="#run-slither-static-analysis">Run Slither (Static Analysis)</a></h4>
<ul>
<li>Install the <code>slither-analyzer</code> package:</li>
</ul>
<pre><code class="language-shell">  $ pip3 install slither-analyzer
</code></pre>
<ul>
<li>After the installation is completed, run the slither analysis bash script:</li>
</ul>
<pre><code class="language-shell">  $ npm run slither
</code></pre>
<h4 id="run-manticore-symbolic-execution"><a class="header" href="#run-manticore-symbolic-execution">Run Manticore (Symbolic Execution)</a></h4>
<ul>
<li>
<p>Make sure you have <a href="https://docker.com/products/docker-desktop">Docker</a> installed on your local machine</p>
</li>
<li>
<p>Build the Docker image:</p>
</li>
</ul>
<pre><code class="language-shell">  $ docker build -t manticore-analysis .
</code></pre>
<ul>
<li>Run the Docker container:</li>
</ul>
<pre><code class="language-shell">  $ docker run --rm -v "$(pwd)":/app manticore-analysis
</code></pre>
<h3 id="deployment-process"><a class="header" href="#deployment-process">Deployment Process</a></h3>
<p>To deploy the Beta smart contract system on to a public testnet or mainnet, you’ll need the following:</p>
<ul>
<li>RPC URL of the network that you’re trying to deploy to (as for us, we’re targeting Base Sepolia testnet as our target chain for the testnet deployments)</li>
<li>Export <code>PRIVATE_KEY</code> of a deployer account in the terminal, and fund it with some test ETH to be able to cover the gas fees for the smart contract deployments</li>
<li>For Base Sepolia, there is a reliable <a href="https://alchemy.com/faucets/base-sepolia">testnet faucet</a> deployed by Alchemy</li>
<li>Deploy smart contracts using the following command:</li>
</ul>
<pre><code class="language-shell">$ forge script script/Deploy.s.sol --broadcast --rpc-url &lt;your_rpc_url&gt; --private-key $PRIVATE_KEY
</code></pre>
<h3 id="deployment-verification"><a class="header" href="#deployment-verification">Deployment Verification</a></h3>
<p>To verify the deployed smart contracts on Etherscan, you’ll need to export your Etherscan API key as <code>ETHERSCAN_API_KEY</code> in the terminal, and then run the following command:</p>
<pre><code class="language-shell">$ forge verify-contract &lt;0x_contract_address&gt; ContractName --watch --chain-id &lt;chain_id&gt;
</code></pre>
<p><strong>Notes:</strong></p>
<ul>
<li>When verifying your smart contracts, you can use an optional parameter <code>--constructor-args</code> to pass the constructor arguments of the smart contract in the ABI-encoded format</li>
<li>The chain ID for Base Sepolia is <code>84532</code>, whereas the chain ID for Base Mainnet is <code>8453</code></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contract-architecture"><a class="header" href="#contract-architecture">Contract Architecture</a></h1>
<p>This document provides an overview of the core contracts and their relationships. Click on any contract to view its detailed documentation.</p>
<pre class="mermaid">graph TB
    Interfaces((&quot;Interfaces&quot;))
    Core((&quot;Core&quot;))
    Libraries((&quot;Libraries&quot;))

    subgraph InterfacesList [&quot;Interfaces&quot;]
        direction LR
        IBaseCurve &amp; IBondingCurveRegistry
        IEthMultiVault &amp; IPermit2
    end
    Interfaces --&gt; InterfacesList

    subgraph CoreList [&quot;Core&quot;]
        direction LR
        AtomWallet &amp; BaseCurve
        BondingCurveRegistry &amp; EthMultiVault
        LinearCurve &amp; OffsetProgressiveCurve
        ProgressiveCurve
    end
    Core --&gt; CoreList

    subgraph LibrariesList [&quot;Libraries&quot;]
        direction LR
        Errors
    end
    Libraries --&gt; LibrariesList

    %% Style definitions
    classDef default fill:#f4f4f4,stroke:#333,stroke-width:2px,font-size:24px,font-family:Arial,rounded:true,color:#000;
    classDef root fill:#6366f1,color:#fff,stroke:#4338ca,stroke-width:4px,font-size:32px,font-weight:bold,font-family:Arial,rx:40px;
    classDef category fill:none,stroke:none,color:#000,font-size:24px,font-weight:bold,font-family:Arial;
    
    %% Apply styles
    class Interfaces,Core,Libraries root;
    class InterfacesList,CoreList,LibrariesList category;

    %% Click actions
    click IPermit2 &quot;http://localhost:3000/src/interfaces/IPermit2.sol/interface.IPermit2.html&quot; &quot;IPermit2 documentation&quot;
    click IEthMultiVault &quot;http://localhost:3000/src/interfaces/IEthMultiVault.sol/interface.IEthMultiVault.html&quot; &quot;IEthMultiVault documentation&quot;
    click IBaseCurve &quot;http://localhost:3000/src/interfaces/IBaseCurve.sol/interface.IBaseCurve.html&quot; &quot;IBaseCurve documentation&quot;
    click IBondingCurveRegistry &quot;http://localhost:3000/src/interfaces/IBondingCurveRegistry.sol/interface.IBondingCurveRegistry.html&quot; &quot;IBondingCurveRegistry documentation&quot;
    click EthMultiVault &quot;EthMultiVault.html&quot; &quot;EthMultiVault documentation&quot;
    click LinearCurve &quot;LinearCurve.html&quot; &quot;LinearCurve documentation&quot;
    click AtomWallet &quot;AtomWallet.html&quot; &quot;AtomWallet documentation&quot;
    click ProgressiveCurve &quot;ProgressiveCurve.html&quot; &quot;ProgressiveCurve documentation&quot;
    click BondingCurveRegistry &quot;BondingCurveRegistry.html&quot; &quot;BondingCurveRegistry documentation&quot;
    click BaseCurve &quot;BaseCurve.html&quot; &quot;BaseCurve documentation&quot;
    click OffsetProgressiveCurve &quot;OffsetProgressiveCurve.html&quot; &quot;OffsetProgressiveCurve documentation&quot;
    click Errors &quot;http://localhost:3000/src/libraries/Errors.sol/library.Errors.html&quot; &quot;Errors documentation&quot;
</pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ethmultivault"><a class="header" href="#ethmultivault">EthMultiVault</a></h1>
<p>Detailed view of the EthMultiVault contract and its members. Click on any member to view its documentation.</p>
<pre class="mermaid">graph TB
    root((&quot;EthMultiVault&quot;))

    %% Style definitions
    classDef default fill:#f4f4f4,stroke:#333,stroke-width:2px,font-size:28px,font-family:Arial,rounded:true;
    classDef root fill:#6366f1,color:#fff,stroke:#4338ca,stroke-width:4px,font-size:32px,font-weight:bold,font-family:Arial,rx:40px;
    classDef stateVar fill:#dbeafe,stroke:#3b82f6,stroke-width:2px,color:#1e40af,font-size:28px,font-family:Arial,rounded:true;
    classDef function fill:#e0e7ff,stroke:#818cf8,stroke-width:2px,color:#4338ca,font-size:28px,font-family:Arial,rounded:true;
    classDef contract fill:#fef3c7,stroke:#f59e0b,stroke-width:2px,color:#b45309,font-size:28px,font-family:Arial,rounded:true;
    classDef category fill:none,stroke:none,color:#333,font-size:28px,font-weight:bold,font-family:Arial;
    
    %% Apply styles
    class root root;
    class StateVars,CoreFunctions,Getters,Setters,PreviewFunctions,ConversionFunctions,Initialization,Uses,Inheritance category;

    %% Click actions
    click root &quot;http://localhost:3000/src/EthMultiVault.sol/contract.EthMultiVault.html&quot; &quot;EthMultiVault documentation&quot;
</pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bondingcurveregistry"><a class="header" href="#bondingcurveregistry">BondingCurveRegistry</a></h1>
<p>Detailed view of the BondingCurveRegistry contract and its members. Click on any member to view its documentation.</p>
<pre class="mermaid">graph TB
    root((&quot;BondingCurveRegistry&quot;))

    %% Style definitions
    classDef default fill:#f4f4f4,stroke:#333,stroke-width:2px,font-size:28px,font-family:Arial,rounded:true;
    classDef root fill:#6366f1,color:#fff,stroke:#4338ca,stroke-width:4px,font-size:32px,font-weight:bold,font-family:Arial,rx:40px;
    classDef stateVar fill:#dbeafe,stroke:#3b82f6,stroke-width:2px,color:#1e40af,font-size:28px,font-family:Arial,rounded:true;
    classDef function fill:#e0e7ff,stroke:#818cf8,stroke-width:2px,color:#4338ca,font-size:28px,font-family:Arial,rounded:true;
    classDef contract fill:#fef3c7,stroke:#f59e0b,stroke-width:2px,color:#b45309,font-size:28px,font-family:Arial,rounded:true;
    classDef category fill:none,stroke:none,color:#333,font-size:28px,font-weight:bold,font-family:Arial;
    
    %% Apply styles
    class root root;
    class StateVars,CoreFunctions,Getters,Setters,PreviewFunctions,ConversionFunctions,Initialization,Uses,Inheritance category;

    %% Click actions
    click root &quot;http://localhost:3000/src/BondingCurveRegistry.sol/contract.BondingCurveRegistry.html&quot; &quot;BondingCurveRegistry documentation&quot;
</pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basecurve"><a class="header" href="#basecurve">BaseCurve</a></h1>
<p>Detailed view of the BaseCurve contract and its members. Click on any member to view its documentation.</p>
<pre class="mermaid">graph TB
    root((&quot;BaseCurve&quot;))

    %% Style definitions
    classDef default fill:#f4f4f4,stroke:#333,stroke-width:2px,font-size:28px,font-family:Arial,rounded:true;
    classDef root fill:#6366f1,color:#fff,stroke:#4338ca,stroke-width:4px,font-size:32px,font-weight:bold,font-family:Arial,rx:40px;
    classDef stateVar fill:#dbeafe,stroke:#3b82f6,stroke-width:2px,color:#1e40af,font-size:28px,font-family:Arial,rounded:true;
    classDef function fill:#e0e7ff,stroke:#818cf8,stroke-width:2px,color:#4338ca,font-size:28px,font-family:Arial,rounded:true;
    classDef contract fill:#fef3c7,stroke:#f59e0b,stroke-width:2px,color:#b45309,font-size:28px,font-family:Arial,rounded:true;
    classDef category fill:none,stroke:none,color:#333,font-size:28px,font-weight:bold,font-family:Arial;
    
    %% Apply styles
    class root root;
    class StateVars,CoreFunctions,Getters,Setters,PreviewFunctions,ConversionFunctions,Initialization,Uses,Inheritance category;

    %% Click actions
    click root &quot;http://localhost:3000/src/BaseCurve.sol/contract.BaseCurve.html&quot; &quot;BaseCurve documentation&quot;
</pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="linearcurve"><a class="header" href="#linearcurve">LinearCurve</a></h1>
<p>Detailed view of the LinearCurve contract and its members. Click on any member to view its documentation.</p>
<pre class="mermaid">graph TB
    root((&quot;LinearCurve&quot;))

    %% Style definitions
    classDef default fill:#f4f4f4,stroke:#333,stroke-width:2px,font-size:28px,font-family:Arial,rounded:true;
    classDef root fill:#6366f1,color:#fff,stroke:#4338ca,stroke-width:4px,font-size:32px,font-weight:bold,font-family:Arial,rx:40px;
    classDef stateVar fill:#dbeafe,stroke:#3b82f6,stroke-width:2px,color:#1e40af,font-size:28px,font-family:Arial,rounded:true;
    classDef function fill:#e0e7ff,stroke:#818cf8,stroke-width:2px,color:#4338ca,font-size:28px,font-family:Arial,rounded:true;
    classDef contract fill:#fef3c7,stroke:#f59e0b,stroke-width:2px,color:#b45309,font-size:28px,font-family:Arial,rounded:true;
    classDef category fill:none,stroke:none,color:#333,font-size:28px,font-weight:bold,font-family:Arial;
    
    %% Apply styles
    class root root;
    class StateVars,CoreFunctions,Getters,Setters,PreviewFunctions,ConversionFunctions,Initialization,Uses,Inheritance category;

    %% Click actions
    click root &quot;http://localhost:3000/src/LinearCurve.sol/contract.LinearCurve.html&quot; &quot;LinearCurve documentation&quot;
</pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="progressivecurve"><a class="header" href="#progressivecurve">ProgressiveCurve</a></h1>
<p>Detailed view of the ProgressiveCurve contract and its members. Click on any member to view its documentation.</p>
<pre class="mermaid">graph TB
    root((&quot;ProgressiveCurve&quot;))

    %% Style definitions
    classDef default fill:#f4f4f4,stroke:#333,stroke-width:2px,font-size:28px,font-family:Arial,rounded:true;
    classDef root fill:#6366f1,color:#fff,stroke:#4338ca,stroke-width:4px,font-size:32px,font-weight:bold,font-family:Arial,rx:40px;
    classDef stateVar fill:#dbeafe,stroke:#3b82f6,stroke-width:2px,color:#1e40af,font-size:28px,font-family:Arial,rounded:true;
    classDef function fill:#e0e7ff,stroke:#818cf8,stroke-width:2px,color:#4338ca,font-size:28px,font-family:Arial,rounded:true;
    classDef contract fill:#fef3c7,stroke:#f59e0b,stroke-width:2px,color:#b45309,font-size:28px,font-family:Arial,rounded:true;
    classDef category fill:none,stroke:none,color:#333,font-size:28px,font-weight:bold,font-family:Arial;
    
    %% Apply styles
    class root root;
    class StateVars,CoreFunctions,Getters,Setters,PreviewFunctions,ConversionFunctions,Initialization,Uses,Inheritance category;

    %% Click actions
    click root &quot;http://localhost:3000/src/ProgressiveCurve.sol/contract.ProgressiveCurve.html&quot; &quot;ProgressiveCurve documentation&quot;
</pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="atomwallet"><a class="header" href="#atomwallet">AtomWallet</a></h1>
<p>Detailed view of the AtomWallet contract and its members. Click on any member to view its documentation.</p>
<pre class="mermaid">graph TB
    root((&quot;AtomWallet&quot;))

    %% Style definitions
    classDef default fill:#f4f4f4,stroke:#333,stroke-width:2px,font-size:28px,font-family:Arial,rounded:true;
    classDef root fill:#6366f1,color:#fff,stroke:#4338ca,stroke-width:4px,font-size:32px,font-weight:bold,font-family:Arial,rx:40px;
    classDef stateVar fill:#dbeafe,stroke:#3b82f6,stroke-width:2px,color:#1e40af,font-size:28px,font-family:Arial,rounded:true;
    classDef function fill:#e0e7ff,stroke:#818cf8,stroke-width:2px,color:#4338ca,font-size:28px,font-family:Arial,rounded:true;
    classDef contract fill:#fef3c7,stroke:#f59e0b,stroke-width:2px,color:#b45309,font-size:28px,font-family:Arial,rounded:true;
    classDef category fill:none,stroke:none,color:#333,font-size:28px,font-weight:bold,font-family:Arial;
    
    %% Apply styles
    class root root;
    class StateVars,CoreFunctions,Getters,Setters,PreviewFunctions,ConversionFunctions,Initialization,Uses,Inheritance category;

    %% Click actions
    click root &quot;http://localhost:3000/src/AtomWallet.sol/contract.AtomWallet.html&quot; &quot;AtomWallet documentation&quot;
</pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="attestoor"><a class="header" href="#attestoor">Attestoor</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="attestoorfactory"><a class="header" href="#attestoorfactory">AttestoorFactory</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="custommulticall3"><a class="header" href="#custommulticall3">CustomMulticall3</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents"><a class="header" href="#contents">Contents</a></h1>
<ul>
<li><a href="src/interfaces/IBaseCurve.sol/interface.IBaseCurve.html">IBaseCurve</a></li>
<li><a href="src/interfaces/IBondingCurveRegistry.sol/interface.IBondingCurveRegistry.html">IBondingCurveRegistry</a></li>
<li><a href="src/interfaces/IEthMultiVault.sol/interface.IEthMultiVault.html">IEthMultiVault</a></li>
<li><a href="src/interfaces/IPermit2.sol/interface.IPermit2.html">IPermit2</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ibasecurve"><a class="header" href="#ibasecurve">IBaseCurve</a></h1>
<p><a href="https://github.com/0xIntuition/intuition-beta-contracts/blob/b0ea23601a4ad6822949563dc7e770696d588bfe/src/interfaces/IBaseCurve.sol">Git Source</a></p>
<p><strong>Author:</strong>
0xIntuition</p>
<p>Interface for bonding curves in the Intuition protocol.
All curves must implement these functions to be compatible with the protocol.</p>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<h3 id="name"><a class="header" href="#name">name</a></h3>
<p>Get the name of the curve</p>
<pre><code class="language-solidity">function name() external view returns (string memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>string</code></td><td>name The name of the curve</td></tr>
</tbody></table>
</div>
<h3 id="maxshares"><a class="header" href="#maxshares">maxShares</a></h3>
<p>Get the maximum number of shares the curve can handle</p>
<pre><code class="language-solidity">function maxShares() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The maximum number of shares</td></tr>
</tbody></table>
</div>
<h3 id="maxassets"><a class="header" href="#maxassets">maxAssets</a></h3>
<p>Get the maximum number of assets the curve can handle</p>
<pre><code class="language-solidity">function maxAssets() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The maximum number of assets</td></tr>
</tbody></table>
</div>
<h3 id="previewdeposit"><a class="header" href="#previewdeposit">previewDeposit</a></h3>
<p>Preview how many shares would be minted for a deposit of assets</p>
<pre><code class="language-solidity">function previewDeposit(uint256 assets, uint256 totalAssets, uint256 totalShares)
    external
    view
    returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to deposit</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares that would be minted</td></tr>
</tbody></table>
</div>
<h3 id="previewredeem"><a class="header" href="#previewredeem">previewRedeem</a></h3>
<p>Preview how many assets would be returned for burning a specific amount of shares</p>
<pre><code class="language-solidity">function previewRedeem(uint256 shares, uint256 totalShares, uint256 totalAssets)
    external
    view
    returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to burn</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets that would be returned</td></tr>
</tbody></table>
</div>
<h3 id="previewwithdraw"><a class="header" href="#previewwithdraw">previewWithdraw</a></h3>
<p>Preview how many shares would be redeemed for a withdrawal of assets</p>
<pre><code class="language-solidity">function previewWithdraw(uint256 assets, uint256 totalAssets, uint256 totalShares)
    external
    view
    returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to withdraw</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares that would need to be redeemed</td></tr>
</tbody></table>
</div>
<h3 id="previewmint"><a class="header" href="#previewmint">previewMint</a></h3>
<p>Preview how many assets would be required to mint a specific amount of shares</p>
<pre><code class="language-solidity">function previewMint(uint256 shares, uint256 totalShares, uint256 totalAssets) external view returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to mint</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets that would be required to mint the shares</td></tr>
</tbody></table>
</div>
<h3 id="converttoshares"><a class="header" href="#converttoshares">convertToShares</a></h3>
<p>Convert assets to shares at a specific point on the curve</p>
<pre><code class="language-solidity">function convertToShares(uint256 assets, uint256 totalAssets, uint256 totalShares)
    external
    view
    returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to convert to shares</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares equivalent to the given assets</td></tr>
</tbody></table>
</div>
<h3 id="converttoassets"><a class="header" href="#converttoassets">convertToAssets</a></h3>
<p>Convert shares to assets at a specific point on the curve</p>
<pre><code class="language-solidity">function convertToAssets(uint256 shares, uint256 totalShares, uint256 totalAssets)
    external
    view
    returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to convert to assets</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets equivalent to the given shares</td></tr>
</tbody></table>
</div>
<h3 id="currentprice"><a class="header" href="#currentprice">currentPrice</a></h3>
<p>Get the current price of a share</p>
<pre><code class="language-solidity">function currentPrice(uint256 totalShares) external view returns (uint256 sharePrice);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharePrice</code></td><td><code>uint256</code></td><td>The current price of a share, scaled by 1e18</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ibondingcurveregistry"><a class="header" href="#ibondingcurveregistry">IBondingCurveRegistry</a></h1>
<p><a href="https://github.com/0xIntuition/intuition-beta-contracts/blob/b0ea23601a4ad6822949563dc7e770696d588bfe/src/interfaces/IBondingCurveRegistry.sol">Git Source</a></p>
<p><strong>Author:</strong>
0xIntuition</p>
<p>Interface for the BondingCurveRegistry contract. Routes access to the curves associated with atoms &amp; triples.</p>
<h2 id="functions-1"><a class="header" href="#functions-1">Functions</a></h2>
<h3 id="previewdeposit-1"><a class="header" href="#previewdeposit-1">previewDeposit</a></h3>
<p>Preview how many shares would be minted for a deposit of assets</p>
<pre><code class="language-solidity">function previewDeposit(uint256 assets, uint256 totalAssets, uint256 totalShares, uint256 id)
    external
    view
    returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to deposit</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to use for the calculation</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares that would be minted</td></tr>
</tbody></table>
</div>
<h3 id="previewredeem-1"><a class="header" href="#previewredeem-1">previewRedeem</a></h3>
<p>Preview how many assets would be returned for burning a specific amount of shares</p>
<pre><code class="language-solidity">function previewRedeem(uint256 shares, uint256 totalShares, uint256 totalAssets, uint256 id)
    external
    view
    returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to burn</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to use for the calculation</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets that would be returned</td></tr>
</tbody></table>
</div>
<h3 id="previewwithdraw-1"><a class="header" href="#previewwithdraw-1">previewWithdraw</a></h3>
<p>Preview how many shares would be redeemed for a withdrawal of assets</p>
<pre><code class="language-solidity">function previewWithdraw(uint256 assets, uint256 totalAssets, uint256 totalShares, uint256 id)
    external
    view
    returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to withdraw</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to use for the calculation</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares that would need to be redeemed</td></tr>
</tbody></table>
</div>
<h3 id="previewmint-1"><a class="header" href="#previewmint-1">previewMint</a></h3>
<p>Preview how many assets would be required to mint a specific amount of shares</p>
<pre><code class="language-solidity">function previewMint(uint256 shares, uint256 totalShares, uint256 totalAssets, uint256 id)
    external
    view
    returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to mint</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to use for the calculation</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets that would be required to mint the shares</td></tr>
</tbody></table>
</div>
<h3 id="converttoshares-1"><a class="header" href="#converttoshares-1">convertToShares</a></h3>
<p>Convert assets to shares at a specific point on the curve</p>
<pre><code class="language-solidity">function convertToShares(uint256 assets, uint256 totalAssets, uint256 totalShares, uint256 id)
    external
    view
    returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to convert to shares</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to use for the calculation</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares equivalent to the given assets</td></tr>
</tbody></table>
</div>
<h3 id="converttoassets-1"><a class="header" href="#converttoassets-1">convertToAssets</a></h3>
<p>Convert shares to assets at a specific point on the curve</p>
<pre><code class="language-solidity">function convertToAssets(uint256 shares, uint256 totalShares, uint256 totalAssets, uint256 id)
    external
    view
    returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to convert to assets</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to use for the calculation</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets equivalent to the given shares</td></tr>
</tbody></table>
</div>
<h3 id="currentprice-1"><a class="header" href="#currentprice-1">currentPrice</a></h3>
<p>Get the current price of a share</p>
<pre><code class="language-solidity">function currentPrice(uint256 totalShares, uint256 id) external view returns (uint256 sharePrice);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to use for the calculation</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharePrice</code></td><td><code>uint256</code></td><td>The current price of a share</td></tr>
</tbody></table>
</div>
<h3 id="getcurvename"><a class="header" href="#getcurvename">getCurveName</a></h3>
<p>Get the name of a curve</p>
<pre><code class="language-solidity">function getCurveName(uint256 id) external view returns (string memory name);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to query</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>name</code></td><td><code>string</code></td><td>The name of the curve</td></tr>
</tbody></table>
</div>
<h3 id="getcurvemaxshares"><a class="header" href="#getcurvemaxshares">getCurveMaxShares</a></h3>
<p>Get the maximum number of shares a curve can handle</p>
<pre><code class="language-solidity">function getCurveMaxShares(uint256 id) external view returns (uint256 maxShares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to query</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>maxShares</code></td><td><code>uint256</code></td><td>The maximum number of shares</td></tr>
</tbody></table>
</div>
<h3 id="getcurvemaxassets"><a class="header" href="#getcurvemaxassets">getCurveMaxAssets</a></h3>
<p>Get the maximum number of assets a curve can handle</p>
<pre><code class="language-solidity">function getCurveMaxAssets(uint256 id) external view returns (uint256 maxAssets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to query</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>maxAssets</code></td><td><code>uint256</code></td><td>The maximum number of assets</td></tr>
</tbody></table>
</div>
<h3 id="count"><a class="header" href="#count">count</a></h3>
<p>Get the number of curves registered in the registry</p>
<pre><code class="language-solidity">function count() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>count The number of curves registered</td></tr>
</tbody></table>
</div>
<h3 id="curveaddresses"><a class="header" href="#curveaddresses">curveAddresses</a></h3>
<p>Get the curve address for a given ID</p>
<pre><code class="language-solidity">function curveAddresses(uint256 id) external view returns (address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>The curve ID to query</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>The address of the curve</td></tr>
</tbody></table>
</div>
<h3 id="curveids"><a class="header" href="#curveids">curveIds</a></h3>
<p>Get the curve ID for a given address</p>
<pre><code class="language-solidity">function curveIds(address curve) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>curve</code></td><td><code>address</code></td><td>The curve address to query</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The ID of the curve</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iethmultivault"><a class="header" href="#iethmultivault">IEthMultiVault</a></h1>
<p><a href="https://github.com/0xIntuition/intuition-beta-contracts/blob/b0ea23601a4ad6822949563dc7e770696d588bfe/src/interfaces/IEthMultiVault.sol">Git Source</a></p>
<p><strong>Author:</strong>
0xIntuition</p>
<p>Interface for managing many ERC4626 style vaults in a single contract</p>
<h2 id="functions-2"><a class="header" href="#functions-2">Functions</a></h2>
<h3 id="init"><a class="header" href="#init">init</a></h3>
<p>Initializes the EthMultiVault contract</p>
<pre><code class="language-solidity">function init(
    GeneralConfig memory _generalConfig,
    AtomConfig memory _atomConfig,
    TripleConfig memory _tripleConfig,
    WalletConfig memory _walletConfig,
    VaultFees memory _defaultVaultFees,
    BondingCurveConfig memory _bondingCurveConfig
) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_generalConfig</code></td><td><code>GeneralConfig</code></td><td>General configuration struct</td></tr>
<tr><td><code>_atomConfig</code></td><td><code>AtomConfig</code></td><td>Atom configuration struct</td></tr>
<tr><td><code>_tripleConfig</code></td><td><code>TripleConfig</code></td><td>Triple configuration struct</td></tr>
<tr><td><code>_walletConfig</code></td><td><code>WalletConfig</code></td><td>Wallet configuration struct</td></tr>
<tr><td><code>_defaultVaultFees</code></td><td><code>VaultFees</code></td><td>Default vault fees struct NOTE: This function is called only once (during contract deployment)</td></tr>
<tr><td><code>_bondingCurveConfig</code></td><td><code>BondingCurveConfig</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="pause"><a class="header" href="#pause">pause</a></h3>
<p><em>pauses the pausable contract methods</em></p>
<pre><code class="language-solidity">function pause() external;
</code></pre>
<h3 id="unpause"><a class="header" href="#unpause">unpause</a></h3>
<p><em>unpauses the pausable contract methods</em></p>
<pre><code class="language-solidity">function unpause() external;
</code></pre>
<h3 id="scheduleoperation"><a class="header" href="#scheduleoperation">scheduleOperation</a></h3>
<p><em>schedule an operation to be executed after a delay</em></p>
<pre><code class="language-solidity">function scheduleOperation(bytes32 operationId, bytes calldata data) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>operationId</code></td><td><code>bytes32</code></td><td>unique identifier for the operation</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>data to be executed</td></tr>
</tbody></table>
</div>
<h3 id="canceloperation"><a class="header" href="#canceloperation">cancelOperation</a></h3>
<p><em>execute a scheduled operation</em></p>
<pre><code class="language-solidity">function cancelOperation(bytes32 operationId, bytes calldata data) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>operationId</code></td><td><code>bytes32</code></td><td>unique identifier for the operation</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>data to be executed</td></tr>
</tbody></table>
</div>
<h3 id="setadmin"><a class="header" href="#setadmin">setAdmin</a></h3>
<p>Requires new admin to 'confirm' the timelocked operation</p>
<p><em>set admin</em></p>
<pre><code class="language-solidity">function setAdmin(address admin) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>admin</code></td><td><code>address</code></td><td>address of the new admin</td></tr>
</tbody></table>
</div>
<h3 id="setprotocolmultisig"><a class="header" href="#setprotocolmultisig">setProtocolMultisig</a></h3>
<p><em>set protocol multisig</em></p>
<pre><code class="language-solidity">function setProtocolMultisig(address protocolMultisig) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>protocolMultisig</code></td><td><code>address</code></td><td>address of the new protocol multisig</td></tr>
</tbody></table>
</div>
<h3 id="setmindeposit"><a class="header" href="#setmindeposit">setMinDeposit</a></h3>
<p><em>sets the minimum deposit amount for atoms and triples</em></p>
<pre><code class="language-solidity">function setMinDeposit(uint256 minDeposit) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>minDeposit</code></td><td><code>uint256</code></td><td>new minimum deposit amount</td></tr>
</tbody></table>
</div>
<h3 id="setminshare"><a class="header" href="#setminshare">setMinShare</a></h3>
<p><em>sets the minimum share amount for atoms and triples</em></p>
<pre><code class="language-solidity">function setMinShare(uint256 minShare) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>minShare</code></td><td><code>uint256</code></td><td>new minimum share amount</td></tr>
</tbody></table>
</div>
<h3 id="setatomurimaxlength"><a class="header" href="#setatomurimaxlength">setAtomUriMaxLength</a></h3>
<p><em>sets the atom URI max length</em></p>
<pre><code class="language-solidity">function setAtomUriMaxLength(uint256 atomUriMaxLength) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>atomUriMaxLength</code></td><td><code>uint256</code></td><td>new atom URI max length</td></tr>
</tbody></table>
</div>
<h3 id="setatomwalletinitialdepositamount"><a class="header" href="#setatomwalletinitialdepositamount">setAtomWalletInitialDepositAmount</a></h3>
<p><em>sets the atom share lock fee</em></p>
<pre><code class="language-solidity">function setAtomWalletInitialDepositAmount(uint256 atomWalletInitialDepositAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>atomWalletInitialDepositAmount</code></td><td><code>uint256</code></td><td>new atom share lock fee</td></tr>
</tbody></table>
</div>
<h3 id="setatomcreationprotocolfee"><a class="header" href="#setatomcreationprotocolfee">setAtomCreationProtocolFee</a></h3>
<p><em>sets the atom creation fee</em></p>
<pre><code class="language-solidity">function setAtomCreationProtocolFee(uint256 atomCreationProtocolFee) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>atomCreationProtocolFee</code></td><td><code>uint256</code></td><td>new atom creation fee</td></tr>
</tbody></table>
</div>
<h3 id="settriplecreationprotocolfee"><a class="header" href="#settriplecreationprotocolfee">setTripleCreationProtocolFee</a></h3>
<p><em>sets fee charged in wei when creating a triple to protocol multisig</em></p>
<pre><code class="language-solidity">function setTripleCreationProtocolFee(uint256 tripleCreationProtocolFee) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tripleCreationProtocolFee</code></td><td><code>uint256</code></td><td>new fee in wei</td></tr>
</tbody></table>
</div>
<h3 id="settotalatomdepositsontriplecreation"><a class="header" href="#settotalatomdepositsontriplecreation">setTotalAtomDepositsOnTripleCreation</a></h3>
<p><em>sets the atom deposit fraction on triple creation used to increase the amount of assets
in the underlying atom vaults on triple creation</em></p>
<pre><code class="language-solidity">function setTotalAtomDepositsOnTripleCreation(uint256 totalAtomDepositsOnTripleCreation) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalAtomDepositsOnTripleCreation</code></td><td><code>uint256</code></td><td>new atom deposit fraction on triple creation</td></tr>
</tbody></table>
</div>
<h3 id="settotalatomdepositsfortriple"><a class="header" href="#settotalatomdepositsfortriple">setTotalAtomDepositsForTriple</a></h3>
<p><em>sets the atom deposit fraction percentage for atoms used in triples
(number to be divided by <code>generalConfig.feeDenominator</code>)</em></p>
<pre><code class="language-solidity">function setTotalAtomDepositsForTriple(uint256 totalAtomDepositsForTriple) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalAtomDepositsForTriple</code></td><td><code>uint256</code></td><td>new atom deposit fraction percentage</td></tr>
</tbody></table>
</div>
<h3 id="setentryfee"><a class="header" href="#setentryfee">setEntryFee</a></h3>
<p><em>sets entry fees for the specified vault (id=0 sets the default fees for all vaults)
id = 0 changes the default entry fee, id = n changes fees for vault n specifically</em></p>
<p><em>admin cannot set the entry fee to be greater than <code>maxEntryFeePercentage</code>, which is
set to be the 10% of <code>generalConfig.feeDenominator</code> (which represents 100%), to avoid
being able to prevent users from depositing assets with unreasonable fees</em></p>
<pre><code class="language-solidity">function setEntryFee(uint256 id, uint256 entryFee) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to set entry fee for</td></tr>
<tr><td><code>entryFee</code></td><td><code>uint256</code></td><td>entry fee to set</td></tr>
</tbody></table>
</div>
<h3 id="setexitfee"><a class="header" href="#setexitfee">setExitFee</a></h3>
<p><em>sets exit fees for the specified vault (id=0 sets the default fees for all vaults)
id = 0 changes the default exit fee, id = n changes fees for vault n specifically</em></p>
<p><em>admin cannot set the exit fee to be greater than <code>maxExitFeePercentage</code>, which is
set to be the 10% of <code>generalConfig.feeDenominator</code> (which represents 100%), to avoid
being able to prevent users from withdrawing their assets</em></p>
<pre><code class="language-solidity">function setExitFee(uint256 id, uint256 exitFee) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to set exit fee for</td></tr>
<tr><td><code>exitFee</code></td><td><code>uint256</code></td><td>exit fee to set</td></tr>
</tbody></table>
</div>
<h3 id="setprotocolfee"><a class="header" href="#setprotocolfee">setProtocolFee</a></h3>
<p><em>sets protocol fees for the specified vault (id=0 sets the default fees for all vaults)
id = 0 changes the default protocol fee, id = n changes fees for vault n specifically</em></p>
<p><em>admin cannot set the protocol fee to be greater than <code>maxProtocolFeePercentage</code>, which is
set to be the 10% of <code>generalConfig.feeDenominator</code> (which represents 100%), to avoid
being able to prevent users from depositing or withdrawing their assets with unreasonable fees</em></p>
<pre><code class="language-solidity">function setProtocolFee(uint256 id, uint256 protocolFee) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to set protocol fee for</td></tr>
<tr><td><code>protocolFee</code></td><td><code>uint256</code></td><td>protocol fee to set</td></tr>
</tbody></table>
</div>
<h3 id="setatomwarden"><a class="header" href="#setatomwarden">setAtomWarden</a></h3>
<p><em>sets the atomWarden address</em></p>
<pre><code class="language-solidity">function setAtomWarden(address atomWarden) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>atomWarden</code></td><td><code>address</code></td><td>address of the new atomWarden</td></tr>
</tbody></table>
</div>
<h3 id="deployatomwallet"><a class="header" href="#deployatomwallet">deployAtomWallet</a></h3>
<p>deploy a given atom wallet</p>
<pre><code class="language-solidity">function deployAtomWallet(uint256 atomId) external returns (address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>atomId</code></td><td><code>uint256</code></td><td>vault id of atom</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>atomWallet the address of the atom wallet NOTE: deploys an ERC4337 account (atom wallet) through a BeaconProxy. Reverts if the atom vault does not exist</td></tr>
</tbody></table>
</div>
<h3 id="approve"><a class="header" href="#approve">approve</a></h3>
<p>Set the approval type for a sender to act on behalf of the receiver</p>
<pre><code class="language-solidity">function approve(address sender, ApprovalTypes approvalType) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sender</code></td><td><code>address</code></td><td>address to set approval for</td></tr>
<tr><td><code>approvalType</code></td><td><code>ApprovalTypes</code></td><td>type of approval to grant (NONE = 0, DEPOSIT = 1, REDEMPTION = 2, BOTH = 3)</td></tr>
</tbody></table>
</div>
<h3 id="createatom"><a class="header" href="#createatom">createAtom</a></h3>
<p>Create an atom and return its vault id</p>
<pre><code class="language-solidity">function createAtom(bytes calldata atomUri) external payable returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>atomUri</code></td><td><code>bytes</code></td><td>atom data to create atom with</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>id vault id of the atom NOTE: This function will revert if called with less than <code>getAtomCost()</code> in <code>msg.value</code></td></tr>
</tbody></table>
</div>
<h3 id="batchcreateatom"><a class="header" href="#batchcreateatom">batchCreateAtom</a></h3>
<p>Batch create atoms and return their vault ids</p>
<pre><code class="language-solidity">function batchCreateAtom(bytes[] calldata atomUris) external payable returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>atomUris</code></td><td><code>bytes[]</code></td><td>atom data array to create atoms with</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>ids vault ids array of the atoms NOTE: This function will revert if called with less than <code>getAtomCost()</code> * <code>atomUris.length</code> in <code>msg.value</code></td></tr>
</tbody></table>
</div>
<h3 id="createtriple"><a class="header" href="#createtriple">createTriple</a></h3>
<p>create a triple and return its vault id</p>
<pre><code class="language-solidity">function createTriple(uint256 subjectId, uint256 predicateId, uint256 objectId) external payable returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>subjectId</code></td><td><code>uint256</code></td><td>vault id of the subject atom</td></tr>
<tr><td><code>predicateId</code></td><td><code>uint256</code></td><td>vault id of the predicate atom</td></tr>
<tr><td><code>objectId</code></td><td><code>uint256</code></td><td>vault id of the object atom</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>id vault id of the triple NOTE: This function will revert if called with less than <code>getTripleCost()</code> in <code>msg.value</code>. This function will revert if any of the atoms do not exist or if any ids are triple vaults.</td></tr>
</tbody></table>
</div>
<h3 id="batchcreatetriple"><a class="header" href="#batchcreatetriple">batchCreateTriple</a></h3>
<p>batch create triples and return their vault ids</p>
<pre><code class="language-solidity">function batchCreateTriple(uint256[] calldata subjectIds, uint256[] calldata predicateIds, uint256[] calldata objectIds)
    external
    payable
    returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>subjectIds</code></td><td><code>uint256[]</code></td><td>vault ids array of subject atoms</td></tr>
<tr><td><code>predicateIds</code></td><td><code>uint256[]</code></td><td>vault ids array of predicate atoms</td></tr>
<tr><td><code>objectIds</code></td><td><code>uint256[]</code></td><td>vault ids array of object atoms NOTE: This function will revert if called with less than <code>getTripleCost()</code> * <code>array.length</code> in <code>msg.value</code>. This function will revert if any of the atoms do not exist or if any ids are triple vaults.</td></tr>
</tbody></table>
</div>
<h3 id="depositatom"><a class="header" href="#depositatom">depositAtom</a></h3>
<p>deposit eth into an atom vault and grant ownership of 'shares' to 'reciever'
*payable msg.value amount of eth to deposit</p>
<p><em>assets parameter is omitted in favor of msg.value, unlike in ERC4626</em></p>
<pre><code class="language-solidity">function depositAtom(address receiver, uint256 id) external payable returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receive the shares</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>the vault ID of the atom</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares the amount of shares minted NOTE: this function will revert if the minimum deposit amount of eth is not met and if the vault ID does not exist/is not an atom.</td></tr>
</tbody></table>
</div>
<h3 id="depositatomcurve"><a class="header" href="#depositatomcurve">depositAtomCurve</a></h3>
<p>deposit eth into an atom vault and grant ownership of 'shares' to 'reciever'
*payable msg.value amount of eth to deposit</p>
<p><em>assets parameter is omitted in favor of msg.value, unlike in ERC4626</em></p>
<pre><code class="language-solidity">function depositAtomCurve(address receiver, uint256 atomId, uint256 curveId) external payable returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receive the shares</td></tr>
<tr><td><code>atomId</code></td><td><code>uint256</code></td><td>the vault ID of the atom</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>the vault ID of the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares the amount of shares minted NOTE: this function will revert if the minimum deposit amount of eth is not met and if the vault ID does not exist/is not an atom.</td></tr>
</tbody></table>
</div>
<h3 id="redeematom"><a class="header" href="#redeematom">redeemAtom</a></h3>
<p>redeem assets from an atom vault</p>
<pre><code class="language-solidity">function redeemAtom(uint256 shares, address receiver, uint256 id) external returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>the amount of shares to redeem</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receiver the assets</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>the vault ID of the atom</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets the amount of assets/eth withdrawn NOTE: Emergency redemptions without any fees being charged are always possible, even if the contract is paused See <code>getRedeemAssetsAndFees</code> for more details on the fees charged</td></tr>
</tbody></table>
</div>
<h3 id="redeematomcurve"><a class="header" href="#redeematomcurve">redeemAtomCurve</a></h3>
<p>redeem shares from a bonding curve atom vault for assets</p>
<pre><code class="language-solidity">function redeemAtomCurve(uint256 shares, address receiver, uint256 atomId, uint256 curveId)
    external
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>the amount of shares to redeem</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receiver the assets</td></tr>
<tr><td><code>atomId</code></td><td><code>uint256</code></td><td>the vault ID of the atom</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>the vault ID of the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets the amount of assets/eth withdrawn NOTE: Emergency redemptions without any fees being charged are always possible, even if the contract is paused See <code>getRedeemAssetsAndFees</code> for more details on the fees charged</td></tr>
</tbody></table>
</div>
<h3 id="deposittriple"><a class="header" href="#deposittriple">depositTriple</a></h3>
<p>deposits assets of underlying tokens into a triple vault and grants ownership of 'shares' to 'receiver'
*payable msg.value amount of eth to deposit</p>
<p><em>assets parameter is omitted in favor of msg.value, unlike in ERC4626</em></p>
<pre><code class="language-solidity">function depositTriple(address receiver, uint256 id) external payable returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receive the shares</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>the vault ID of the triple</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares the amount of shares minted NOTE: this function will revert if the minimum deposit amount of eth is not met and if the vault ID does not exist/is not a triple.</td></tr>
</tbody></table>
</div>
<h3 id="deposittriplecurve"><a class="header" href="#deposittriplecurve">depositTripleCurve</a></h3>
<p>deposit eth into a bonding curve triple vault and grant ownership of 'shares' to 'receiver'
*payable msg.value amount of eth to deposit</p>
<p><em>assets parameter is omitted in favor of msg.value, unlike in ERC4626</em></p>
<pre><code class="language-solidity">function depositTripleCurve(address receiver, uint256 tripleId, uint256 curveId) external payable returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receive the shares</td></tr>
<tr><td><code>tripleId</code></td><td><code>uint256</code></td><td>the vault ID of the triple</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>the vault ID of the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares the amount of shares minted NOTE: this function will revert if the minimum deposit amount of eth is not met and if the vault ID does not exist/is not a triple.</td></tr>
</tbody></table>
</div>
<h3 id="redeemtriple"><a class="header" href="#redeemtriple">redeemTriple</a></h3>
<p>redeems 'shares' number of shares from the triple vault and send 'assets' eth
from the contract to 'reciever' factoring in exit fees</p>
<pre><code class="language-solidity">function redeemTriple(uint256 shares, address receiver, uint256 id) external returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>the amount of shares to redeem</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receiver the assets</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>the vault ID of the triple</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets the amount of assets/eth withdrawn NOTE: Emergency redemptions without any fees being charged are always possible, even if the contract is paused See <code>getRedeemAssetsAndFees</code> for more details on the fees charged</td></tr>
</tbody></table>
</div>
<h3 id="redeemtriplecurve"><a class="header" href="#redeemtriplecurve">redeemTripleCurve</a></h3>
<p>redeem shares from a bonding curve triple vault for assets</p>
<pre><code class="language-solidity">function redeemTripleCurve(uint256 shares, address receiver, uint256 tripleId, uint256 curveId)
    external
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>the amount of shares to redeem</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receiver the assets</td></tr>
<tr><td><code>tripleId</code></td><td><code>uint256</code></td><td>the vault ID of the triple</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>the vault ID of the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets the amount of assets/eth withdrawn NOTE: Emergency redemptions without any fees being charged are always possible, even if the contract is paused See <code>getRedeemAssetsAndFees</code> for more details on the fees charged</td></tr>
</tbody></table>
</div>
<h3 id="batchdeposit"><a class="header" href="#batchdeposit">batchDeposit</a></h3>
<p>deposit eth into multiple terms and grant ownership of 'shares' to 'reciever'
*payable msg.value amount of eth to deposit
works with atoms, triples, and counter-triples</p>
<pre><code class="language-solidity">function batchDeposit(address receiver, uint256[] calldata termIds, uint256[] calldata amounts)
    external
    payable
    returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receive the shares</td></tr>
<tr><td><code>termIds</code></td><td><code>uint256[]</code></td><td>the IDs of the terms (atoms, triples, or counter-triples) to deposit into</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>array of the amount to deposit in each vault</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>shares the amount of shares minted for each atom</td></tr>
</tbody></table>
</div>
<h3 id="batchdepositcurve"><a class="header" href="#batchdepositcurve">batchDepositCurve</a></h3>
<p>deposit eth into an atom vault and grant ownership of 'shares' to 'reciever'
*payable msg.value amount of eth to deposit</p>
<pre><code class="language-solidity">function batchDepositCurve(
    address receiver,
    uint256[] calldata termIds,
    uint256[] calldata curveIds,
    uint256[] calldata amounts
) external payable returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receive the shares</td></tr>
<tr><td><code>termIds</code></td><td><code>uint256[]</code></td><td>array of the vault IDs of the terms (atoms, triples, or counter-triples)</td></tr>
<tr><td><code>curveIds</code></td><td><code>uint256[]</code></td><td>array of the vault IDs of the curves</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>array of the amount to deposit in each vault</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>shares array of the amount of shares minted in the specified vaults</td></tr>
</tbody></table>
</div>
<h3 id="batchredeem"><a class="header" href="#batchredeem">batchRedeem</a></h3>
<p>redeem shares from an atom vault for assets -- works for atoms, triples and counter-triples</p>
<pre><code class="language-solidity">function batchRedeem(uint256 percentage, address receiver, uint256[] calldata ids)
    external
    returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>percentage</code></td><td><code>uint256</code></td><td>the percentage of shares to redeem from each vault (i.e. 50% -&gt; 50, 100% -&gt; 100)</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receiver the assets</td></tr>
<tr><td><code>ids</code></td><td><code>uint256[]</code></td><td>array of IDs of the term (atom, triple or counter-triple) to redeem from</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>assets the amount of assets/eth withdrawn</td></tr>
</tbody></table>
</div>
<h3 id="batchredeemcurve"><a class="header" href="#batchredeemcurve">batchRedeemCurve</a></h3>
<p>redeem shares from bonding curve atom vaults for assets</p>
<pre><code class="language-solidity">function batchRedeemCurve(uint256 percentage, address receiver, uint256[] calldata termIds, uint256[] calldata curveIds)
    external
    returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>percentage</code></td><td><code>uint256</code></td><td>the percentage of shares to redeem from the vaults</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receiver the assets</td></tr>
<tr><td><code>termIds</code></td><td><code>uint256[]</code></td><td>array of the IDs of the terms (atoms, triples, or counter-triples)</td></tr>
<tr><td><code>curveIds</code></td><td><code>uint256[]</code></td><td>array of the IDs of the curves for each term</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>assets array of the amounts of assets/eth withdrawn</td></tr>
</tbody></table>
</div>
<h3 id="getatomcost"><a class="header" href="#getatomcost">getAtomCost</a></h3>
<p>returns the cost of creating an atom</p>
<pre><code class="language-solidity">function getAtomCost() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>atomCost the cost of creating an atom</td></tr>
</tbody></table>
</div>
<h3 id="gettriplecost"><a class="header" href="#gettriplecost">getTripleCost</a></h3>
<p>returns the cost of creating a triple</p>
<pre><code class="language-solidity">function getTripleCost() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>tripleCost the cost of creating a triple</td></tr>
</tbody></table>
</div>
<h3 id="getdepositfees"><a class="header" href="#getdepositfees">getDepositFees</a></h3>
<p>returns the total fees that would be charged for depositing 'assets' into a vault</p>
<pre><code class="language-solidity">function getDepositFees(uint256 assets, uint256 id) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of <code>assets</code> to calculate fees on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding fees for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>totalFees total fees that would be charged for depositing 'assets' into a vault</td></tr>
</tbody></table>
</div>
<h3 id="getdepositsharesandfees"><a class="header" href="#getdepositsharesandfees">getDepositSharesAndFees</a></h3>
<p>returns the shares for recipient and other important values when depositing 'assets' into a vault</p>
<pre><code class="language-solidity">function getDepositSharesAndFees(uint256 assets, uint256 id)
    external
    view
    returns (uint256, uint256, uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of <code>assets</code> to calculate fees on (should always be msg.value - protocolFee)</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding fees for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>totalAssetsDelta changes in vault's total assets</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>sharesForReceiver changes in vault's total shares (shares owed to receiver)</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>userAssetsAfterTotalFees amount of assets that goes towards minting shares for the receiver</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>entryFee amount of assets that would be charged for the entry fee</td></tr>
</tbody></table>
</div>
<h3 id="getredeemassetsandfees"><a class="header" href="#getredeemassetsandfees">getRedeemAssetsAndFees</a></h3>
<p>returns the assets for receiver and other important values when redeeming 'shares' from a vault</p>
<pre><code class="language-solidity">function getRedeemAssetsAndFees(uint256 shares, uint256 id)
    external
    view
    returns (uint256, uint256, uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>amount of <code>shares</code> to calculate fees on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding fees for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>totalUserAssets total amount of assets user would receive if redeeming 'shares', not including fees</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assetsForReceiver amount of assets that is redeemable by the receiver</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>protocolFee amount of assets that would be sent to the protocol multisig</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>exitFee amount of assets that would be charged for the exit fee</td></tr>
</tbody></table>
</div>
<h3 id="entryfeeamount"><a class="header" href="#entryfeeamount">entryFeeAmount</a></h3>
<p>returns amount of assets that would be charged for the entry fee given an amount of 'assets' provided</p>
<pre><code class="language-solidity">function entryFeeAmount(uint256 assets, uint256 id) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of assets to calculate fee on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding fees for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>feeAmount amount of assets that would be charged for the entry fee NOTE: if the vault being deposited on has a vault total shares of 0, the entry fee is not applied</td></tr>
</tbody></table>
</div>
<h3 id="exitfeeamount"><a class="header" href="#exitfeeamount">exitFeeAmount</a></h3>
<p>returns amount of assets that would be charged for the exit fee given an amount of 'assets' provided</p>
<pre><code class="language-solidity">function exitFeeAmount(uint256 assets, uint256 id) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of assets to calculate fee on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding fees for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>feeAmount amount of assets that would be charged for the exit fee NOTE: if the vault  being redeemed from given the shares to redeem results in a total shares after of 0, the exit fee is not applied</td></tr>
</tbody></table>
</div>
<h3 id="protocolfeeamount"><a class="header" href="#protocolfeeamount">protocolFeeAmount</a></h3>
<p>returns amount of assets that would be charged by a vault on protocol fee given amount of 'assets'
provided</p>
<pre><code class="language-solidity">function protocolFeeAmount(uint256 assets, uint256 id) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of assets to calculate fee on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding fees for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>feeAmount amount of assets that would be charged by vault on protocol fee</td></tr>
</tbody></table>
</div>
<h3 id="atomdepositsamount"><a class="header" href="#atomdepositsamount">atomDepositsAmount</a></h3>
<p>returns atom deposit given amount of 'assets' provided</p>
<pre><code class="language-solidity">function atomDepositsAmount(uint256 assets, uint256 id) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of assets to calculate fee on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>feeAmount amount of assets that would be used as atom deposit fraction NOTE: only applies to triple vaults</td></tr>
</tbody></table>
</div>
<h3 id="currentshareprice"><a class="header" href="#currentshareprice">currentSharePrice</a></h3>
<p>returns the current share price for the given vault id</p>
<pre><code class="language-solidity">function currentSharePrice(uint256 id) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding share price for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>price current share price for the given vault id</td></tr>
</tbody></table>
</div>
<h3 id="maxredeem"><a class="header" href="#maxredeem">maxRedeem</a></h3>
<p>returns max amount of shares that can be redeemed from the 'owner' balance through a redeem call</p>
<pre><code class="language-solidity">function maxRedeem(address owner, uint256 id) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>address of the account to get max redeemable shares for</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding shares for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares amount of shares that can be redeemed from the 'owner' balance through a redeem call</td></tr>
</tbody></table>
</div>
<h3 id="converttoshares-2"><a class="header" href="#converttoshares-2">convertToShares</a></h3>
<p>returns amount of shares that would be exchanged by vault given amount of 'assets' provided</p>
<pre><code class="language-solidity">function convertToShares(uint256 assets, uint256 id) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of assets to calculate shares on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding shares for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares amount of shares that would be exchanged by vault given amount of 'assets' provided</td></tr>
</tbody></table>
</div>
<h3 id="converttoassets-2"><a class="header" href="#converttoassets-2">convertToAssets</a></h3>
<p>returns amount of assets that would be exchanged by vault given amount of 'shares' provided</p>
<pre><code class="language-solidity">function convertToAssets(uint256 shares, uint256 id) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>amount of shares to calculate assets on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding assets for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets amount of assets that would be exchanged by vault given amount of 'shares' provided</td></tr>
</tbody></table>
</div>
<h3 id="previewdeposit-2"><a class="header" href="#previewdeposit-2">previewDeposit</a></h3>
<p>simulates the effects of the deposited amount of 'assets' and returns the estimated
amount of shares that would be minted from the deposit of <code>assets</code></p>
<pre><code class="language-solidity">function previewDeposit(uint256 assets, uint256 id) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of assets to calculate shares on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding shares for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares amount of shares that would be minted from the deposit of <code>assets</code> NOTE: this function pessimistically estimates the amount of shares that would be minted from the input amount of assets so if the vault is empty before the deposit the caller receives more shares than returned by this function, reference internal _depositIntoVault logic for details</td></tr>
</tbody></table>
</div>
<h3 id="previewredeem-2"><a class="header" href="#previewredeem-2">previewRedeem</a></h3>
<p>simulates the effects of the redemption of <code>shares</code> and returns the estimated
amount of assets estimated to be returned to the receiver of the redeem</p>
<pre><code class="language-solidity">function previewRedeem(uint256 shares, uint256 id) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>amount of shares to calculate assets on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding assets for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets amount of assets estimated to be returned to the receiver</td></tr>
</tbody></table>
</div>
<h3 id="triplehash"><a class="header" href="#triplehash">tripleHash</a></h3>
<p>returns the corresponding hash for the given RDF triple, given the triple vault id</p>
<pre><code class="language-solidity">function tripleHash(uint256 id) external view returns (bytes32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id of the triple</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td>hash the corresponding hash for the given RDF triple NOTE: only applies to triple vault IDs as input</td></tr>
</tbody></table>
</div>
<h3 id="istripleid"><a class="header" href="#istripleid">isTripleId</a></h3>
<p>returns whether the supplied vault id is a triple</p>
<pre><code class="language-solidity">function isTripleId(uint256 id) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to check</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool whether the supplied vault id is a triple</td></tr>
</tbody></table>
</div>
<h3 id="gettripleatoms"><a class="header" href="#gettripleatoms">getTripleAtoms</a></h3>
<p>returns the atoms that make up a triple/counter-triple</p>
<pre><code class="language-solidity">function getTripleAtoms(uint256 id) external view returns (uint256, uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id of the triple/counter-triple</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>tuple(atomIds) the atoms that make up the triple/counter-triple NOTE: only applies to triple vault IDs as input</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="triplehashfromatoms"><a class="header" href="#triplehashfromatoms">tripleHashFromAtoms</a></h3>
<p>returns the corresponding hash for the given RDF triple, given the atoms that make up the triple</p>
<pre><code class="language-solidity">function tripleHashFromAtoms(uint256 subjectId, uint256 predicateId, uint256 objectId)
    external
    pure
    returns (bytes32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>subjectId</code></td><td><code>uint256</code></td><td>the subject atom's vault id</td></tr>
<tr><td><code>predicateId</code></td><td><code>uint256</code></td><td>the predicate atom's vault id</td></tr>
<tr><td><code>objectId</code></td><td><code>uint256</code></td><td>the object atom's vault id</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td>hash the corresponding hash for the given RDF triple based on the atom vault ids</td></tr>
</tbody></table>
</div>
<h3 id="getcounteridfromtriple"><a class="header" href="#getcounteridfromtriple">getCounterIdFromTriple</a></h3>
<p>returns the counter id from the given triple id</p>
<pre><code class="language-solidity">function getCounterIdFromTriple(uint256 id) external returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id of the triple</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>counterId the counter vault id from the given triple id NOTE: only applies to triple vault IDs as input</td></tr>
</tbody></table>
</div>
<h3 id="getatomwarden"><a class="header" href="#getatomwarden">getAtomWarden</a></h3>
<p>returns the address of the atom warden</p>
<pre><code class="language-solidity">function getAtomWarden() external view returns (address);
</code></pre>
<h3 id="getvaultstateforuser"><a class="header" href="#getvaultstateforuser">getVaultStateForUser</a></h3>
<p>returns the number of shares and assets (less fees) user has in the vault</p>
<pre><code class="language-solidity">function getVaultStateForUser(uint256 vaultId, address receiver) external view returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>vaultId</code></td><td><code>uint256</code></td><td>vault id of the vault</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>address of the receiver</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares number of shares user has in the vault</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets number of assets user has in the vault</td></tr>
</tbody></table>
</div>
<h3 id="getdepositsharesandfeescurve"><a class="header" href="#getdepositsharesandfeescurve">getDepositSharesAndFeesCurve</a></h3>
<p>returns the shares for recipient and other important values when depositing 'assets' into a bonding curve vault</p>
<pre><code class="language-solidity">function getDepositSharesAndFeesCurve(uint256 assets, uint256 vaultId, uint256 curveId)
    external
    view
    returns (uint256, uint256, uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of <code>assets</code> to calculate fees on (should always be msg.value - protocolFee)</td></tr>
<tr><td><code>vaultId</code></td><td><code>uint256</code></td><td>vault id to get corresponding fees for</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>curve id to get corresponding fees for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>totalAssetsDelta changes in vault's total assets</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>sharesForReceiver changes in vault's total shares (shares owed to receiver)</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>userAssetsAfterTotalFees amount of assets that goes towards minting shares for the receiver</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>entryFee amount of assets that would be charged for the entry fee</td></tr>
</tbody></table>
</div>
<h3 id="getredeemassetsandfeescurve"><a class="header" href="#getredeemassetsandfeescurve">getRedeemAssetsAndFeesCurve</a></h3>
<p>returns the assets for receiver and other important values when redeeming 'shares' from a bonding curve vault</p>
<pre><code class="language-solidity">function getRedeemAssetsAndFeesCurve(uint256 shares, uint256 vaultId, uint256 curveId)
    external
    view
    returns (uint256, uint256, uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>amount of <code>shares</code> to calculate fees on</td></tr>
<tr><td><code>vaultId</code></td><td><code>uint256</code></td><td>vault id to get corresponding fees for</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>curve id to get corresponding fees for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>totalUserAssets total amount of assets user would receive if redeeming 'shares', not including fees</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assetsForReceiver amount of assets that is redeemable by the receiver</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>protocolFee amount of assets that would be sent to the protocol multisig</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>exitFee amount of assets that would be charged for the exit fee</td></tr>
</tbody></table>
</div>
<h3 id="currentsharepricecurve"><a class="header" href="#currentsharepricecurve">currentSharePriceCurve</a></h3>
<p>returns the current share price for the given vault id and curve id</p>
<pre><code class="language-solidity">function currentSharePriceCurve(uint256 vaultId, uint256 curveId) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>vaultId</code></td><td><code>uint256</code></td><td>vault id to get corresponding share price for</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>curve id to get corresponding share price for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>price current share price for the given vault id and curve id</td></tr>
</tbody></table>
</div>
<h3 id="maxdepositcurve"><a class="header" href="#maxdepositcurve">maxDepositCurve</a></h3>
<p>returns max amount of assets that can be deposited into the vault through a deposit call for a specific curve</p>
<pre><code class="language-solidity">function maxDepositCurve(uint256 curveId) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>curve id to get corresponding max deposit for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>maxAssets amount of assets that can be deposited into the vault through a deposit call</td></tr>
</tbody></table>
</div>
<h3 id="maxredeemcurve"><a class="header" href="#maxredeemcurve">maxRedeemCurve</a></h3>
<p>returns max amount of shares that can be redeemed from the 'owner' balance through a redeem call for a specific curve</p>
<pre><code class="language-solidity">function maxRedeemCurve(address owner, uint256 vaultId, uint256 curveId) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>address of the account to get max redeemable shares for</td></tr>
<tr><td><code>vaultId</code></td><td><code>uint256</code></td><td>vault id to get corresponding shares for</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>curve id to get corresponding shares for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares amount of shares that can be redeemed from the 'owner' balance through a redeem call</td></tr>
</tbody></table>
</div>
<h3 id="converttosharescurve"><a class="header" href="#converttosharescurve">convertToSharesCurve</a></h3>
<p>returns amount of shares that would be exchanged by vault given amount of 'assets' provided for a specific curve</p>
<pre><code class="language-solidity">function convertToSharesCurve(uint256 assets, uint256 vaultId, uint256 curveId) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of assets to calculate shares on</td></tr>
<tr><td><code>vaultId</code></td><td><code>uint256</code></td><td>vault id to get corresponding shares for</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>curve id to get corresponding shares for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares amount of shares that would be exchanged by vault given amount of 'assets' provided</td></tr>
</tbody></table>
</div>
<h3 id="converttoassetscurve"><a class="header" href="#converttoassetscurve">convertToAssetsCurve</a></h3>
<p>returns amount of assets that would be exchanged by vault given amount of 'shares' provided for a specific curve</p>
<pre><code class="language-solidity">function convertToAssetsCurve(uint256 shares, uint256 vaultId, uint256 curveId) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>amount of shares to calculate assets on</td></tr>
<tr><td><code>vaultId</code></td><td><code>uint256</code></td><td>vault id to get corresponding assets for</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>curve id to get corresponding assets for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets amount of assets that would be exchanged by vault given amount of 'shares' provided</td></tr>
</tbody></table>
</div>
<h3 id="previewdepositcurve"><a class="header" href="#previewdepositcurve">previewDepositCurve</a></h3>
<p>simulates the effects of the deposited amount of 'assets' and returns the estimated
amount of shares that would be minted from the deposit of <code>assets</code> for a specific curve</p>
<pre><code class="language-solidity">function previewDepositCurve(uint256 assets, uint256 vaultId, uint256 curveId) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of assets to calculate shares on</td></tr>
<tr><td><code>vaultId</code></td><td><code>uint256</code></td><td>vault id to get corresponding shares for</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>curve id to get corresponding shares for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares amount of shares that would be minted from the deposit of <code>assets</code> NOTE: this function pessimistically estimates the amount of shares that would be minted from the input amount of assets so if the vault is empty before the deposit the caller receives more shares than returned by this function, reference internal _depositIntoVault logic for details</td></tr>
</tbody></table>
</div>
<h3 id="previewredeemcurve"><a class="header" href="#previewredeemcurve">previewRedeemCurve</a></h3>
<p>simulates the effects of the redemption of <code>shares</code> and returns the estimated
amount of assets estimated to be returned to the receiver of the redeem for a specific curve</p>
<pre><code class="language-solidity">function previewRedeemCurve(uint256 shares, uint256 vaultId, uint256 curveId) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>amount of shares to calculate assets on</td></tr>
<tr><td><code>vaultId</code></td><td><code>uint256</code></td><td>vault id to get corresponding assets for</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>curve id to get corresponding assets for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets amount of assets estimated to be returned to the receiver</td></tr>
</tbody></table>
</div>
<h3 id="computeatomwalletaddr"><a class="header" href="#computeatomwalletaddr">computeAtomWalletAddr</a></h3>
<p>returns the Atom Wallet address for the given atom data</p>
<pre><code class="language-solidity">function computeAtomWalletAddr(uint256 id) external view returns (address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id of the atom associated to the atom wallet</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>atomWallet the address of the atom wallet NOTE: the create2 salt is based off of the vault ID</td></tr>
</tbody></table>
</div>
<h3 id="isapproveddeposit"><a class="header" href="#isapproveddeposit">isApprovedDeposit</a></h3>
<p>Check if a sender is approved to deposit on behalf of a receiver</p>
<pre><code class="language-solidity">function isApprovedDeposit(address sender, address receiver) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sender</code></td><td><code>address</code></td><td>The address of the sender</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The address of the receiver</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool Whether the sender is approved to deposit</td></tr>
</tbody></table>
</div>
<h3 id="isapprovedredeem"><a class="header" href="#isapprovedredeem">isApprovedRedeem</a></h3>
<p>Check if a sender is approved to redeem on behalf of a receiver</p>
<pre><code class="language-solidity">function isApprovedRedeem(address sender, address receiver) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sender</code></td><td><code>address</code></td><td>The address of the sender</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The address of the receiver</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool Whether the sender is approved to redeem</td></tr>
</tbody></table>
</div>
<h2 id="events"><a class="header" href="#events">Events</a></h2>
<h3 id="approvaltypeupdated"><a class="header" href="#approvaltypeupdated">ApprovalTypeUpdated</a></h3>
<p>Emitted when a receiver changes the approval type for a sender</p>
<pre><code class="language-solidity">event ApprovalTypeUpdated(address indexed sender, address indexed receiver, ApprovalTypes approvalType);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sender</code></td><td><code>address</code></td><td>address of the sender being approved/disapproved</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>address of the receiver granting/revoking approval</td></tr>
<tr><td><code>approvalType</code></td><td><code>ApprovalTypes</code></td><td>the type of approval granted (NONE = 0, DEPOSIT = 1, REDEMPTION = 2, BOTH = 3)</td></tr>
</tbody></table>
</div>
<h3 id="deposited"><a class="header" href="#deposited">Deposited</a></h3>
<p>Emitted upon the minting of shares in the vault by depositing assets</p>
<pre><code class="language-solidity">event Deposited(
    address indexed sender,
    address indexed receiver,
    uint256 receiverTotalSharesInVault,
    uint256 senderAssetsAfterTotalFees,
    uint256 sharesForReceiver,
    uint256 entryFee,
    uint256 vaultId,
    bool isTriple,
    bool isAtomWallet
);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sender</code></td><td><code>address</code></td><td>initializer of the deposit</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>beneficiary of the minted shares</td></tr>
<tr><td><code>receiverTotalSharesInVault</code></td><td><code>uint256</code></td><td>total shares held by the receiver in the vault</td></tr>
<tr><td><code>senderAssetsAfterTotalFees</code></td><td><code>uint256</code></td><td>total assets that go towards minting shares for the receiver</td></tr>
<tr><td><code>sharesForReceiver</code></td><td><code>uint256</code></td><td>total shares minted for the receiver</td></tr>
<tr><td><code>entryFee</code></td><td><code>uint256</code></td><td>total fee amount collected for entering the vault</td></tr>
<tr><td><code>vaultId</code></td><td><code>uint256</code></td><td>vault id of the vault being deposited into</td></tr>
<tr><td><code>isTriple</code></td><td><code>bool</code></td><td>whether the vault is a triple vault or not</td></tr>
<tr><td><code>isAtomWallet</code></td><td><code>bool</code></td><td>whether the receiver is an atom wallet or not</td></tr>
</tbody></table>
</div>
<h3 id="depositedcurve"><a class="header" href="#depositedcurve">DepositedCurve</a></h3>
<pre><code class="language-solidity">event DepositedCurve(
    address indexed sender,
    address indexed receiver,
    uint256 receiverTotalSharesInVault,
    uint256 senderAssetsAfterTotalFees,
    uint256 sharesForReceiver,
    uint256 entryFee,
    uint256 vaultId,
    uint256 curveId,
    bool isTriple,
    bool isAtomWallet
);
</code></pre>
<h3 id="redeemed"><a class="header" href="#redeemed">Redeemed</a></h3>
<p>Emitted upon the withdrawal of assets from the vault by redeeming shares</p>
<pre><code class="language-solidity">event Redeemed(
    address indexed sender,
    address indexed receiver,
    uint256 senderTotalSharesInVault,
    uint256 assetsForReceiver,
    uint256 sharesRedeemedBySender,
    uint256 exitFee,
    uint256 vaultId
);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sender</code></td><td><code>address</code></td><td>initializer of the withdrawal (owner of the shares)</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>beneficiary of the withdrawn assets (can be different from the sender)</td></tr>
<tr><td><code>senderTotalSharesInVault</code></td><td><code>uint256</code></td><td>total shares held by the sender in the vault</td></tr>
<tr><td><code>assetsForReceiver</code></td><td><code>uint256</code></td><td>quantity of assets withdrawn by the receiver</td></tr>
<tr><td><code>sharesRedeemedBySender</code></td><td><code>uint256</code></td><td>quantity of shares redeemed by the sender</td></tr>
<tr><td><code>exitFee</code></td><td><code>uint256</code></td><td>total fee amount collected for exiting the vault</td></tr>
<tr><td><code>vaultId</code></td><td><code>uint256</code></td><td>vault id of the vault being redeemed from</td></tr>
</tbody></table>
</div>
<h3 id="redeemedcurve"><a class="header" href="#redeemedcurve">RedeemedCurve</a></h3>
<pre><code class="language-solidity">event RedeemedCurve(
    address indexed sender,
    address indexed receiver,
    uint256 senderTotalSharesInVault,
    uint256 assetsForReceiver,
    uint256 sharesRedeemedBySender,
    uint256 exitFee,
    uint256 vaultId,
    uint256 curveId
);
</code></pre>
<h3 id="atomcreated"><a class="header" href="#atomcreated">AtomCreated</a></h3>
<p>emitted upon creation of an atom</p>
<pre><code class="language-solidity">event AtomCreated(address indexed creator, address indexed atomWallet, bytes atomData, uint256 vaultId);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>creator</code></td><td><code>address</code></td><td>address of the atom creator</td></tr>
<tr><td><code>atomWallet</code></td><td><code>address</code></td><td>address of the atom's associated abstract account</td></tr>
<tr><td><code>atomData</code></td><td><code>bytes</code></td><td>the atom's respective string</td></tr>
<tr><td><code>vaultId</code></td><td><code>uint256</code></td><td>the vault id of the atom</td></tr>
</tbody></table>
</div>
<h3 id="triplecreated"><a class="header" href="#triplecreated">TripleCreated</a></h3>
<p>emitted upon creation of a triple</p>
<pre><code class="language-solidity">event TripleCreated(address indexed creator, uint256 subjectId, uint256 predicateId, uint256 objectId, uint256 vaultId);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>creator</code></td><td><code>address</code></td><td>address of the triple creator</td></tr>
<tr><td><code>subjectId</code></td><td><code>uint256</code></td><td>the triple's respective subject atom</td></tr>
<tr><td><code>predicateId</code></td><td><code>uint256</code></td><td>the triple's respective predicate atom</td></tr>
<tr><td><code>objectId</code></td><td><code>uint256</code></td><td>the triple's respective object atom</td></tr>
<tr><td><code>vaultId</code></td><td><code>uint256</code></td><td>the vault id of the triple</td></tr>
</tbody></table>
</div>
<h3 id="feestransferred"><a class="header" href="#feestransferred">FeesTransferred</a></h3>
<p>emitted upon the transfer of fees to the protocol multisig</p>
<pre><code class="language-solidity">event FeesTransferred(address indexed sender, address indexed protocolMultisig, uint256 amount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sender</code></td><td><code>address</code></td><td>address of the sender</td></tr>
<tr><td><code>protocolMultisig</code></td><td><code>address</code></td><td>address of the protocol multisig</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>amount of fees transferred</td></tr>
</tbody></table>
</div>
<h3 id="operationscheduled"><a class="header" href="#operationscheduled">OperationScheduled</a></h3>
<p>emitted upon scheduling an operation</p>
<pre><code class="language-solidity">event OperationScheduled(bytes32 indexed operationId, bytes data, uint256 readyTime);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>operationId</code></td><td><code>bytes32</code></td><td>unique identifier for the operation</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>data to be executed</td></tr>
<tr><td><code>readyTime</code></td><td><code>uint256</code></td><td>block number when the operation is ready</td></tr>
</tbody></table>
</div>
<h3 id="operationexecuted"><a class="header" href="#operationexecuted">OperationExecuted</a></h3>
<p>emitted upon executing an operation</p>
<pre><code class="language-solidity">event OperationExecuted(bytes32 indexed operationId, bytes data);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>operationId</code></td><td><code>bytes32</code></td><td>unique identifier for the operation</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>data of the operation that was executed</td></tr>
</tbody></table>
</div>
<h3 id="operationcancelled"><a class="header" href="#operationcancelled">OperationCancelled</a></h3>
<p>emitted upon cancelling an operation</p>
<pre><code class="language-solidity">event OperationCancelled(bytes32 indexed operationId, bytes data);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>operationId</code></td><td><code>bytes32</code></td><td>unique identifier for the operation</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>data of the operation that was cancelled</td></tr>
</tbody></table>
</div>
<h3 id="adminset"><a class="header" href="#adminset">AdminSet</a></h3>
<p>emitted upon changing the admin</p>
<pre><code class="language-solidity">event AdminSet(address indexed newAdmin, address indexed oldAdmin);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newAdmin</code></td><td><code>address</code></td><td>address of the new admin</td></tr>
<tr><td><code>oldAdmin</code></td><td><code>address</code></td><td>address of the old admin</td></tr>
</tbody></table>
</div>
<h3 id="protocolmultisigset"><a class="header" href="#protocolmultisigset">protocolMultisigSet</a></h3>
<p>emitted upon changing the protocol multisig</p>
<pre><code class="language-solidity">event protocolMultisigSet(address indexed newProtocolMultisig, address indexed oldProtocolMultisig);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newProtocolMultisig</code></td><td><code>address</code></td><td>address of the new protocol multisig</td></tr>
<tr><td><code>oldProtocolMultisig</code></td><td><code>address</code></td><td>address of the old protocol multisig</td></tr>
</tbody></table>
</div>
<h3 id="mindepositset"><a class="header" href="#mindepositset">MinDepositSet</a></h3>
<p>emitted upon changing the minimum deposit amount</p>
<pre><code class="language-solidity">event MinDepositSet(uint256 newMinDeposit, uint256 oldMinDeposit);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newMinDeposit</code></td><td><code>uint256</code></td><td>new minimum deposit amount</td></tr>
<tr><td><code>oldMinDeposit</code></td><td><code>uint256</code></td><td>old minimum deposit amount</td></tr>
</tbody></table>
</div>
<h3 id="minshareset"><a class="header" href="#minshareset">MinShareSet</a></h3>
<p>emitted upon changing the minimum share amount</p>
<pre><code class="language-solidity">event MinShareSet(uint256 newMinShare, uint256 oldMinShare);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newMinShare</code></td><td><code>uint256</code></td><td>new minimum share amount</td></tr>
<tr><td><code>oldMinShare</code></td><td><code>uint256</code></td><td>old minimum share amount</td></tr>
</tbody></table>
</div>
<h3 id="atomurimaxlengthset"><a class="header" href="#atomurimaxlengthset">AtomUriMaxLengthSet</a></h3>
<p>emitted upon changing the atom URI max length</p>
<pre><code class="language-solidity">event AtomUriMaxLengthSet(uint256 newAtomUriMaxLength, uint256 oldAtomUriMaxLength);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newAtomUriMaxLength</code></td><td><code>uint256</code></td><td>new atom URI max length</td></tr>
<tr><td><code>oldAtomUriMaxLength</code></td><td><code>uint256</code></td><td>old atom URI max length</td></tr>
</tbody></table>
</div>
<h3 id="atomwalletinitialdepositamountset"><a class="header" href="#atomwalletinitialdepositamountset">AtomWalletInitialDepositAmountSet</a></h3>
<p>emitted upon changing the atom share lock fee</p>
<pre><code class="language-solidity">event AtomWalletInitialDepositAmountSet(
    uint256 newAtomWalletInitialDepositAmount, uint256 oldAtomWalletInitialDepositAmount
);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newAtomWalletInitialDepositAmount</code></td><td><code>uint256</code></td><td>new atom share lock fee</td></tr>
<tr><td><code>oldAtomWalletInitialDepositAmount</code></td><td><code>uint256</code></td><td>old atom share lock fee</td></tr>
</tbody></table>
</div>
<h3 id="atomcreationprotocolfeeset"><a class="header" href="#atomcreationprotocolfeeset">AtomCreationProtocolFeeSet</a></h3>
<p>emitted upon changing the atom creation fee</p>
<pre><code class="language-solidity">event AtomCreationProtocolFeeSet(uint256 newAtomCreationProtocolFee, uint256 oldAtomCreationProtocolFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newAtomCreationProtocolFee</code></td><td><code>uint256</code></td><td>new atom creation fee</td></tr>
<tr><td><code>oldAtomCreationProtocolFee</code></td><td><code>uint256</code></td><td>old atom creation fee</td></tr>
</tbody></table>
</div>
<h3 id="triplecreationprotocolfeeset"><a class="header" href="#triplecreationprotocolfeeset">TripleCreationProtocolFeeSet</a></h3>
<p>emitted upon changing the triple creation fee</p>
<pre><code class="language-solidity">event TripleCreationProtocolFeeSet(uint256 newTripleCreationProtocolFee, uint256 oldTripleCreationProtocolFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newTripleCreationProtocolFee</code></td><td><code>uint256</code></td><td>new triple creation fee</td></tr>
<tr><td><code>oldTripleCreationProtocolFee</code></td><td><code>uint256</code></td><td>old triple creation fee</td></tr>
</tbody></table>
</div>
<h3 id="totalatomdepositsontriplecreationset"><a class="header" href="#totalatomdepositsontriplecreationset">TotalAtomDepositsOnTripleCreationSet</a></h3>
<p>emitted upon changing the atom deposit fraction on triple creation</p>
<pre><code class="language-solidity">event TotalAtomDepositsOnTripleCreationSet(
    uint256 newTotalAtomDepositsOnTripleCreation, uint256 oldTotalAtomDepositsOnTripleCreation
);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newTotalAtomDepositsOnTripleCreation</code></td><td><code>uint256</code></td><td>new atom deposit fraction on triple creation</td></tr>
<tr><td><code>oldTotalAtomDepositsOnTripleCreation</code></td><td><code>uint256</code></td><td>old atom deposit fraction on triple creation</td></tr>
</tbody></table>
</div>
<h3 id="totalatomdepositsfortripleset"><a class="header" href="#totalatomdepositsfortripleset">TotalAtomDepositsForTripleSet</a></h3>
<p>emitted upon changing the atom deposit fraction for triples</p>
<pre><code class="language-solidity">event TotalAtomDepositsForTripleSet(uint256 newTotalAtomDepositsForTriple, uint256 oldTotalAtomDepositsForTriple);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newTotalAtomDepositsForTriple</code></td><td><code>uint256</code></td><td>new atom deposit fraction for triples</td></tr>
<tr><td><code>oldTotalAtomDepositsForTriple</code></td><td><code>uint256</code></td><td>old atom deposit fraction for triples</td></tr>
</tbody></table>
</div>
<h3 id="entryfeeset"><a class="header" href="#entryfeeset">EntryFeeSet</a></h3>
<p>emitted upon changing the entry fee</p>
<pre><code class="language-solidity">event EntryFeeSet(uint256 id, uint256 newEntryFee, uint256 oldEntryFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to set entry fee for</td></tr>
<tr><td><code>newEntryFee</code></td><td><code>uint256</code></td><td>new entry fee for the vault</td></tr>
<tr><td><code>oldEntryFee</code></td><td><code>uint256</code></td><td>old entry fee for the vault</td></tr>
</tbody></table>
</div>
<h3 id="exitfeeset"><a class="header" href="#exitfeeset">ExitFeeSet</a></h3>
<p>emitted upon changing the exit fee</p>
<pre><code class="language-solidity">event ExitFeeSet(uint256 id, uint256 newExitFee, uint256 oldExitFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to set exit fee for</td></tr>
<tr><td><code>newExitFee</code></td><td><code>uint256</code></td><td>new exit fee for the vault</td></tr>
<tr><td><code>oldExitFee</code></td><td><code>uint256</code></td><td>old exit fee for the vault</td></tr>
</tbody></table>
</div>
<h3 id="protocolfeeset"><a class="header" href="#protocolfeeset">ProtocolFeeSet</a></h3>
<p>emitted upon changing the protocol fee</p>
<pre><code class="language-solidity">event ProtocolFeeSet(uint256 id, uint256 newProtocolFee, uint256 oldProtocolFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to set protocol fee for</td></tr>
<tr><td><code>newProtocolFee</code></td><td><code>uint256</code></td><td>new protocol fee for the vault</td></tr>
<tr><td><code>oldProtocolFee</code></td><td><code>uint256</code></td><td>old protocol fee for the vault</td></tr>
</tbody></table>
</div>
<h3 id="atomwardenset"><a class="header" href="#atomwardenset">AtomWardenSet</a></h3>
<p>emitted upon changing the atomWarden</p>
<pre><code class="language-solidity">event AtomWardenSet(address indexed newAtomWarden, address indexed oldAtomWarden);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newAtomWarden</code></td><td><code>address</code></td><td>address of the new atomWarden</td></tr>
<tr><td><code>oldAtomWarden</code></td><td><code>address</code></td><td>address of the old atomWarden</td></tr>
</tbody></table>
</div>
<h3 id="atomwalletdeployed"><a class="header" href="#atomwalletdeployed">AtomWalletDeployed</a></h3>
<p>emitted upon deploying an atom wallet</p>
<pre><code class="language-solidity">event AtomWalletDeployed(uint256 indexed vaultId, address indexed atomWallet);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>vaultId</code></td><td><code>uint256</code></td><td>vault id of the atom</td></tr>
<tr><td><code>atomWallet</code></td><td><code>address</code></td><td>address of the atom wallet</td></tr>
</tbody></table>
</div>
<h3 id="sharepricechanged"><a class="header" href="#sharepricechanged">SharePriceChanged</a></h3>
<p>emitted upon changing the share price of a term base vault</p>
<pre><code class="language-solidity">event SharePriceChanged(uint256 indexed termId, uint256 newSharePrice, uint256 totalAssets, uint256 totalShares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>termId</code></td><td><code>uint256</code></td><td>id of the atom, triple or counter triple</td></tr>
<tr><td><code>newSharePrice</code></td><td><code>uint256</code></td><td>new share price of the vault</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>new total assets in vault</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>new total shares in vault</td></tr>
</tbody></table>
</div>
<h3 id="sharepricechangedcurve"><a class="header" href="#sharepricechangedcurve">SharePriceChangedCurve</a></h3>
<p>emitted upon changing the share price of a curve vault</p>
<pre><code class="language-solidity">event SharePriceChangedCurve(
    uint256 indexed termId, uint256 indexed curveId, uint256 newSharePrice, uint256 totalAssets, uint256 totalShares
);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>termId</code></td><td><code>uint256</code></td><td>id of the atom, triple or counter triple</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>curve id of the curve</td></tr>
<tr><td><code>newSharePrice</code></td><td><code>uint256</code></td><td>new share price of the curve vault</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>new total assets in vault</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>new total shares in vault</td></tr>
</tbody></table>
</div>
<h2 id="structs"><a class="header" href="#structs">Structs</a></h2>
<h3 id="generalconfig"><a class="header" href="#generalconfig">GeneralConfig</a></h3>
<p><em>General configuration struct</em></p>
<pre><code class="language-solidity">struct GeneralConfig {
    address admin;
    address protocolMultisig;
    uint256 feeDenominator;
    uint256 minDeposit;
    uint256 minShare;
    uint256 atomUriMaxLength;
    uint256 decimalPrecision;
    uint256 minDelay;
}
</code></pre>
<h3 id="bondingcurveconfig"><a class="header" href="#bondingcurveconfig">BondingCurveConfig</a></h3>
<pre><code class="language-solidity">struct BondingCurveConfig {
    address registry;
    uint256 defaultCurveId;
}
</code></pre>
<h3 id="atomconfig"><a class="header" href="#atomconfig">AtomConfig</a></h3>
<p><em>Atom configuration struct</em></p>
<pre><code class="language-solidity">struct AtomConfig {
    uint256 atomWalletInitialDepositAmount;
    uint256 atomCreationProtocolFee;
}
</code></pre>
<h3 id="tripleconfig"><a class="header" href="#tripleconfig">TripleConfig</a></h3>
<p><em>Triple configuration struct</em></p>
<pre><code class="language-solidity">struct TripleConfig {
    uint256 tripleCreationProtocolFee;
    uint256 totalAtomDepositsOnTripleCreation;
    uint256 totalAtomDepositsForTriple;
}
</code></pre>
<h3 id="walletconfig"><a class="header" href="#walletconfig">WalletConfig</a></h3>
<p><em>Atom wallet configuration struct</em></p>
<pre><code class="language-solidity">struct WalletConfig {
    IPermit2 permit2;
    address entryPoint;
    address atomWarden;
    address atomWalletBeacon;
}
</code></pre>
<h3 id="vaultstate"><a class="header" href="#vaultstate">VaultState</a></h3>
<p>Vault state struct</p>
<pre><code class="language-solidity">struct VaultState {
    uint256 totalAssets;
    uint256 totalShares;
    mapping(address account =&gt; uint256 balance) balanceOf;
}
</code></pre>
<h3 id="vaultfees"><a class="header" href="#vaultfees">VaultFees</a></h3>
<p>Vault fees struct</p>
<pre><code class="language-solidity">struct VaultFees {
    uint256 entryFee;
    uint256 exitFee;
    uint256 protocolFee;
}
</code></pre>
<h3 id="timelock"><a class="header" href="#timelock">Timelock</a></h3>
<p>Timelock struct</p>
<pre><code class="language-solidity">struct Timelock {
    bytes data;
    uint256 readyTime;
    bool executed;
}
</code></pre>
<h2 id="enums"><a class="header" href="#enums">Enums</a></h2>
<h3 id="approvaltypes"><a class="header" href="#approvaltypes">ApprovalTypes</a></h3>
<pre><code class="language-solidity">enum ApprovalTypes {
    NONE,
    DEPOSIT,
    REDEMPTION,
    BOTH
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ipermit2"><a class="header" href="#ipermit2">IPermit2</a></h1>
<p><a href="https://github.com/0xIntuition/intuition-beta-contracts/blob/b0ea23601a4ad6822949563dc7e770696d588bfe/src/interfaces/IPermit2.sol">Git Source</a></p>
<h2 id="functions-3"><a class="header" href="#functions-3">Functions</a></h2>
<h3 id="permittransferfrom"><a class="header" href="#permittransferfrom">permitTransferFrom</a></h3>
<p>Consume a permit2 message and transfer tokens</p>
<pre><code class="language-solidity">function permitTransferFrom(
    PermitTransferFrom calldata permit,
    SignatureTransferDetails calldata transferDetails,
    address owner,
    bytes calldata signature
) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>permit</code></td><td><code>PermitTransferFrom</code></td><td>The permit message</td></tr>
<tr><td><code>transferDetails</code></td><td><code>SignatureTransferDetails</code></td><td>Details for the transfer</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The owner of the tokens</td></tr>
<tr><td><code>signature</code></td><td><code>bytes</code></td><td>The signature for the permit message</td></tr>
</tbody></table>
</div>
<h2 id="structs-1"><a class="header" href="#structs-1">Structs</a></h2>
<h3 id="tokenpermissions"><a class="header" href="#tokenpermissions">TokenPermissions</a></h3>
<p>Token and amount in a permit message</p>
<pre><code class="language-solidity">struct TokenPermissions {
    IERC20 token;
    uint256 amount;
}
</code></pre>
<h3 id="permittransferfrom-1"><a class="header" href="#permittransferfrom-1">PermitTransferFrom</a></h3>
<p>The permit2 message</p>
<pre><code class="language-solidity">struct PermitTransferFrom {
    TokenPermissions permitted;
    uint256 nonce;
    uint256 deadline;
}
</code></pre>
<h3 id="signaturetransferdetails"><a class="header" href="#signaturetransferdetails">SignatureTransferDetails</a></h3>
<p>Transfer details for permitTransferFrom()</p>
<pre><code class="language-solidity">struct SignatureTransferDetails {
    address to;
    uint256 requestedAmount;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-1"><a class="header" href="#contents-1">Contents</a></h1>
<ul>
<li><a href="src/libraries/Errors.sol/library.Errors.html">Errors</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="errors"><a class="header" href="#errors">Errors</a></h1>
<p><a href="https://github.com/0xIntuition/intuition-beta-contracts/blob/b0ea23601a4ad6822949563dc7e770696d588bfe/src/libraries/Errors.sol">Git Source</a></p>
<p><strong>Author:</strong>
0xIntuition</p>
<p>Library containing all custom errors detailing cases where the Intuition Protocol may revert.</p>
<h2 id="errors-1"><a class="header" href="#errors-1">Errors</a></h2>
<h3 id="ethmultivault_adminonly"><a class="header" href="#ethmultivault_adminonly">EthMultiVault_AdminOnly</a></h3>
<pre><code class="language-solidity">error EthMultiVault_AdminOnly();
</code></pre>
<h3 id="ethmultivault_arraysnotsamelength"><a class="header" href="#ethmultivault_arraysnotsamelength">EthMultiVault_ArraysNotSameLength</a></h3>
<pre><code class="language-solidity">error EthMultiVault_ArraysNotSameLength();
</code></pre>
<h3 id="ethmultivault_atomdoesnotexist"><a class="header" href="#ethmultivault_atomdoesnotexist">EthMultiVault_AtomDoesNotExist</a></h3>
<pre><code class="language-solidity">error EthMultiVault_AtomDoesNotExist(uint256 atomId);
</code></pre>
<h3 id="ethmultivault_atomexists"><a class="header" href="#ethmultivault_atomexists">EthMultiVault_AtomExists</a></h3>
<pre><code class="language-solidity">error EthMultiVault_AtomExists(bytes atomUri, uint256 atomId);
</code></pre>
<h3 id="ethmultivault_atomuritoolong"><a class="header" href="#ethmultivault_atomuritoolong">EthMultiVault_AtomUriTooLong</a></h3>
<pre><code class="language-solidity">error EthMultiVault_AtomUriTooLong();
</code></pre>
<h3 id="ethmultivault_burnfromzeroaddress"><a class="header" href="#ethmultivault_burnfromzeroaddress">EthMultiVault_BurnFromZeroAddress</a></h3>
<pre><code class="language-solidity">error EthMultiVault_BurnFromZeroAddress();
</code></pre>
<h3 id="ethmultivault_burninsufficientbalance"><a class="header" href="#ethmultivault_burninsufficientbalance">EthMultiVault_BurnInsufficientBalance</a></h3>
<pre><code class="language-solidity">error EthMultiVault_BurnInsufficientBalance();
</code></pre>
<h3 id="ethmultivault_cannotapproveorrevokeself"><a class="header" href="#ethmultivault_cannotapproveorrevokeself">EthMultiVault_CannotApproveOrRevokeSelf</a></h3>
<pre><code class="language-solidity">error EthMultiVault_CannotApproveOrRevokeSelf();
</code></pre>
<h3 id="ethmultivault_deployaccountfailed"><a class="header" href="#ethmultivault_deployaccountfailed">EthMultiVault_DeployAccountFailed</a></h3>
<pre><code class="language-solidity">error EthMultiVault_DeployAccountFailed();
</code></pre>
<h3 id="ethmultivault_depositorwithdrawzeroshares"><a class="header" href="#ethmultivault_depositorwithdrawzeroshares">EthMultiVault_DepositOrWithdrawZeroShares</a></h3>
<pre><code class="language-solidity">error EthMultiVault_DepositOrWithdrawZeroShares();
</code></pre>
<h3 id="ethmultivault_depositexceedsmaxassets"><a class="header" href="#ethmultivault_depositexceedsmaxassets">EthMultiVault_DepositExceedsMaxAssets</a></h3>
<pre><code class="language-solidity">error EthMultiVault_DepositExceedsMaxAssets();
</code></pre>
<h3 id="ethmultivault_hascounterstake"><a class="header" href="#ethmultivault_hascounterstake">EthMultiVault_HasCounterStake</a></h3>
<pre><code class="language-solidity">error EthMultiVault_HasCounterStake();
</code></pre>
<h3 id="ethmultivault_insufficientbalance"><a class="header" href="#ethmultivault_insufficientbalance">EthMultiVault_InsufficientBalance</a></h3>
<pre><code class="language-solidity">error EthMultiVault_InsufficientBalance();
</code></pre>
<h3 id="ethmultivault_insufficientdepositamounttocoverfees"><a class="header" href="#ethmultivault_insufficientdepositamounttocoverfees">EthMultiVault_InsufficientDepositAmountToCoverFees</a></h3>
<pre><code class="language-solidity">error EthMultiVault_InsufficientDepositAmountToCoverFees();
</code></pre>
<h3 id="ethmultivault_insufficientremainingsharesinvault"><a class="header" href="#ethmultivault_insufficientremainingsharesinvault">EthMultiVault_InsufficientRemainingSharesInVault</a></h3>
<pre><code class="language-solidity">error EthMultiVault_InsufficientRemainingSharesInVault(uint256 remainingShares);
</code></pre>
<h3 id="ethmultivault_insufficientsharesinvault"><a class="header" href="#ethmultivault_insufficientsharesinvault">EthMultiVault_InsufficientSharesInVault</a></h3>
<pre><code class="language-solidity">error EthMultiVault_InsufficientSharesInVault();
</code></pre>
<h3 id="ethmultivault_invalidtotalatomdepositsfortriple"><a class="header" href="#ethmultivault_invalidtotalatomdepositsfortriple">EthMultiVault_InvalidTotalAtomDepositsForTriple</a></h3>
<pre><code class="language-solidity">error EthMultiVault_InvalidTotalAtomDepositsForTriple();
</code></pre>
<h3 id="ethmultivault_invalidentryfee"><a class="header" href="#ethmultivault_invalidentryfee">EthMultiVault_InvalidEntryFee</a></h3>
<pre><code class="language-solidity">error EthMultiVault_InvalidEntryFee();
</code></pre>
<h3 id="ethmultivault_invalidexitfee"><a class="header" href="#ethmultivault_invalidexitfee">EthMultiVault_InvalidExitFee</a></h3>
<pre><code class="language-solidity">error EthMultiVault_InvalidExitFee();
</code></pre>
<h3 id="ethmultivault_invalidprotocolfee"><a class="header" href="#ethmultivault_invalidprotocolfee">EthMultiVault_InvalidProtocolFee</a></h3>
<pre><code class="language-solidity">error EthMultiVault_InvalidProtocolFee();
</code></pre>
<h3 id="ethmultivault_minimumdeposit"><a class="header" href="#ethmultivault_minimumdeposit">EthMultiVault_MinimumDeposit</a></h3>
<pre><code class="language-solidity">error EthMultiVault_MinimumDeposit();
</code></pre>
<h3 id="ethmultivault_operationalreadyexecuted"><a class="header" href="#ethmultivault_operationalreadyexecuted">EthMultiVault_OperationAlreadyExecuted</a></h3>
<pre><code class="language-solidity">error EthMultiVault_OperationAlreadyExecuted();
</code></pre>
<h3 id="ethmultivault_operationalreadyscheduled"><a class="header" href="#ethmultivault_operationalreadyscheduled">EthMultiVault_OperationAlreadyScheduled</a></h3>
<pre><code class="language-solidity">error EthMultiVault_OperationAlreadyScheduled();
</code></pre>
<h3 id="ethmultivault_operationnotscheduled"><a class="header" href="#ethmultivault_operationnotscheduled">EthMultiVault_OperationNotScheduled</a></h3>
<pre><code class="language-solidity">error EthMultiVault_OperationNotScheduled();
</code></pre>
<h3 id="ethmultivault_receivenotallowed"><a class="header" href="#ethmultivault_receivenotallowed">EthMultiVault_ReceiveNotAllowed</a></h3>
<pre><code class="language-solidity">error EthMultiVault_ReceiveNotAllowed();
</code></pre>
<h3 id="ethmultivault_sendernotapproved"><a class="header" href="#ethmultivault_sendernotapproved">EthMultiVault_SenderNotApproved</a></h3>
<pre><code class="language-solidity">error EthMultiVault_SenderNotApproved();
</code></pre>
<h3 id="ethmultivault_redeemernotapproved"><a class="header" href="#ethmultivault_redeemernotapproved">EthMultiVault_RedeemerNotApproved</a></h3>
<pre><code class="language-solidity">error EthMultiVault_RedeemerNotApproved();
</code></pre>
<h3 id="ethmultivault_timelocknotexpired"><a class="header" href="#ethmultivault_timelocknotexpired">EthMultiVault_TimelockNotExpired</a></h3>
<pre><code class="language-solidity">error EthMultiVault_TimelockNotExpired();
</code></pre>
<h3 id="ethmultivault_transferfailed"><a class="header" href="#ethmultivault_transferfailed">EthMultiVault_TransferFailed</a></h3>
<pre><code class="language-solidity">error EthMultiVault_TransferFailed();
</code></pre>
<h3 id="ethmultivault_tripleexists"><a class="header" href="#ethmultivault_tripleexists">EthMultiVault_TripleExists</a></h3>
<pre><code class="language-solidity">error EthMultiVault_TripleExists(uint256 subjectId, uint256 predicateId, uint256 objectId);
</code></pre>
<h3 id="ethmultivault_vaultdoesnotexist"><a class="header" href="#ethmultivault_vaultdoesnotexist">EthMultiVault_VaultDoesNotExist</a></h3>
<pre><code class="language-solidity">error EthMultiVault_VaultDoesNotExist();
</code></pre>
<h3 id="ethmultivault_vaultistriple"><a class="header" href="#ethmultivault_vaultistriple">EthMultiVault_VaultIsTriple</a></h3>
<pre><code class="language-solidity">error EthMultiVault_VaultIsTriple(uint256 vaultId);
</code></pre>
<h3 id="ethmultivault_vaultnotatom"><a class="header" href="#ethmultivault_vaultnotatom">EthMultiVault_VaultNotAtom</a></h3>
<pre><code class="language-solidity">error EthMultiVault_VaultNotAtom();
</code></pre>
<h3 id="ethmultivault_vaultnottriple"><a class="header" href="#ethmultivault_vaultnottriple">EthMultiVault_VaultNotTriple</a></h3>
<pre><code class="language-solidity">error EthMultiVault_VaultNotTriple();
</code></pre>
<h3 id="atomwallet_invalidcalldatalength"><a class="header" href="#atomwallet_invalidcalldatalength">AtomWallet_InvalidCallDataLength</a></h3>
<pre><code class="language-solidity">error AtomWallet_InvalidCallDataLength();
</code></pre>
<h3 id="atomwallet_invalidsignature"><a class="header" href="#atomwallet_invalidsignature">AtomWallet_InvalidSignature</a></h3>
<pre><code class="language-solidity">error AtomWallet_InvalidSignature();
</code></pre>
<h3 id="atomwallet_invalidsignaturelength"><a class="header" href="#atomwallet_invalidsignaturelength">AtomWallet_InvalidSignatureLength</a></h3>
<pre><code class="language-solidity">error AtomWallet_InvalidSignatureLength(uint256 length);
</code></pre>
<h3 id="atomwallet_invalidsignatures"><a class="header" href="#atomwallet_invalidsignatures">AtomWallet_InvalidSignatureS</a></h3>
<pre><code class="language-solidity">error AtomWallet_InvalidSignatureS(bytes32 s);
</code></pre>
<h3 id="atomwallet_onlyowner"><a class="header" href="#atomwallet_onlyowner">AtomWallet_OnlyOwner</a></h3>
<pre><code class="language-solidity">error AtomWallet_OnlyOwner();
</code></pre>
<h3 id="atomwallet_onlyownerorentrypoint"><a class="header" href="#atomwallet_onlyownerorentrypoint">AtomWallet_OnlyOwnerOrEntryPoint</a></h3>
<pre><code class="language-solidity">error AtomWallet_OnlyOwnerOrEntryPoint();
</code></pre>
<h3 id="atomwallet_wrongarraylengths"><a class="header" href="#atomwallet_wrongarraylengths">AtomWallet_WrongArrayLengths</a></h3>
<pre><code class="language-solidity">error AtomWallet_WrongArrayLengths();
</code></pre>
<h3 id="custommulticall3_insufficientvalue"><a class="header" href="#custommulticall3_insufficientvalue">CustomMulticall3_InsufficientValue</a></h3>
<pre><code class="language-solidity">error CustomMulticall3_InsufficientValue();
</code></pre>
<h3 id="custommulticall3_invalidatomidslength"><a class="header" href="#custommulticall3_invalidatomidslength">CustomMulticall3_InvalidAtomIdsLength</a></h3>
<pre><code class="language-solidity">error CustomMulticall3_InvalidAtomIdsLength();
</code></pre>
<h3 id="custommulticall3_invalidatomurislength"><a class="header" href="#custommulticall3_invalidatomurislength">CustomMulticall3_InvalidAtomUrisLength</a></h3>
<pre><code class="language-solidity">error CustomMulticall3_InvalidAtomUrisLength();
</code></pre>
<h3 id="custommulticall3_invalidethmultivaultaddress"><a class="header" href="#custommulticall3_invalidethmultivaultaddress">CustomMulticall3_InvalidEthMultiVaultAddress</a></h3>
<pre><code class="language-solidity">error CustomMulticall3_InvalidEthMultiVaultAddress();
</code></pre>
<h3 id="custommulticall3_invalidvalue"><a class="header" href="#custommulticall3_invalidvalue">CustomMulticall3_InvalidValue</a></h3>
<pre><code class="language-solidity">error CustomMulticall3_InvalidValue();
</code></pre>
<h3 id="custommulticall3_invalidvalueslength"><a class="header" href="#custommulticall3_invalidvalueslength">CustomMulticall3_InvalidValuesLength</a></h3>
<pre><code class="language-solidity">error CustomMulticall3_InvalidValuesLength();
</code></pre>
<h3 id="custommulticall3_zerolengtharray"><a class="header" href="#custommulticall3_zerolengtharray">CustomMulticall3_ZeroLengthArray</a></h3>
<pre><code class="language-solidity">error CustomMulticall3_ZeroLengthArray();
</code></pre>
<h3 id="attestoor_deployattestoorfailed"><a class="header" href="#attestoor_deployattestoorfailed">Attestoor_DeployAttestoorFailed</a></h3>
<pre><code class="language-solidity">error Attestoor_DeployAttestoorFailed();
</code></pre>
<h3 id="attestoor_emptyattestorsarray"><a class="header" href="#attestoor_emptyattestorsarray">Attestoor_EmptyAttestorsArray</a></h3>
<pre><code class="language-solidity">error Attestoor_EmptyAttestorsArray();
</code></pre>
<h3 id="attestoor_insufficientvalue"><a class="header" href="#attestoor_insufficientvalue">Attestoor_InsufficientValue</a></h3>
<pre><code class="language-solidity">error Attestoor_InsufficientValue();
</code></pre>
<h3 id="attestoor_invalidethmultivaultaddress"><a class="header" href="#attestoor_invalidethmultivaultaddress">Attestoor_InvalidEthMultiVaultAddress</a></h3>
<pre><code class="language-solidity">error Attestoor_InvalidEthMultiVaultAddress();
</code></pre>
<h3 id="attestoor_notawhitelistedattestor"><a class="header" href="#attestoor_notawhitelistedattestor">Attestoor_NotAWhitelistedAttestor</a></h3>
<pre><code class="language-solidity">error Attestoor_NotAWhitelistedAttestor();
</code></pre>
<h3 id="attestoor_sharescannotberedeeemed"><a class="header" href="#attestoor_sharescannotberedeeemed">Attestoor_SharesCannotBeRedeeemed</a></h3>
<pre><code class="language-solidity">error Attestoor_SharesCannotBeRedeeemed();
</code></pre>
<h3 id="attestoor_wrongarraylengths"><a class="header" href="#attestoor_wrongarraylengths">Attestoor_WrongArrayLengths</a></h3>
<pre><code class="language-solidity">error Attestoor_WrongArrayLengths();
</code></pre>
<h3 id="bondingcurveregistry_curvealreadyexists"><a class="header" href="#bondingcurveregistry_curvealreadyexists">BondingCurveRegistry_CurveAlreadyExists</a></h3>
<pre><code class="language-solidity">error BondingCurveRegistry_CurveAlreadyExists();
</code></pre>
<h3 id="bondingcurveregistry_curvenamenotunique"><a class="header" href="#bondingcurveregistry_curvenamenotunique">BondingCurveRegistry_CurveNameNotUnique</a></h3>
<pre><code class="language-solidity">error BondingCurveRegistry_CurveNameNotUnique();
</code></pre>
<h3 id="bondingcurveregistry_onlyowner"><a class="header" href="#bondingcurveregistry_onlyowner">BondingCurveRegistry_OnlyOwner</a></h3>
<pre><code class="language-solidity">error BondingCurveRegistry_OnlyOwner();
</code></pre>
<h3 id="bondingcurveregistry_requiresowner"><a class="header" href="#bondingcurveregistry_requiresowner">BondingCurveRegistry_RequiresOwner</a></h3>
<pre><code class="language-solidity">error BondingCurveRegistry_RequiresOwner();
</code></pre>
<h3 id="basecurve_emptystringnotallowed"><a class="header" href="#basecurve_emptystringnotallowed">BaseCurve_EmptyStringNotAllowed</a></h3>
<pre><code class="language-solidity">error BaseCurve_EmptyStringNotAllowed();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="atomwallet-1"><a class="header" href="#atomwallet-1">AtomWallet</a></h1>
<p><a href="https://github.com/0xIntuition/intuition-beta-contracts/blob/b0ea23601a4ad6822949563dc7e770696d588bfe/src/AtomWallet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Initializable, BaseAccount, Ownable2StepUpgradeable, ReentrancyGuardUpgradeable</p>
<p><strong>Author:</strong>
0xIntuition</p>
<p>Core contract of the Intuition protocol. This contract is an abstract account
associated with a corresponding atom.</p>
<h2 id="state-variables"><a class="header" href="#state-variables">State Variables</a></h2>
<h3 id="ethmultivault-1"><a class="header" href="#ethmultivault-1">ethMultiVault</a></h3>
<p>The EthMultiVault contract address</p>
<pre><code class="language-solidity">IEthMultiVault public ethMultiVault;
</code></pre>
<h3 id="isclaimed"><a class="header" href="#isclaimed">isClaimed</a></h3>
<p>The flag to indicate if the wallet's ownership has been claimed by the user</p>
<pre><code class="language-solidity">bool public isClaimed;
</code></pre>
<h3 id="atomwalletownerstoragelocation"><a class="header" href="#atomwalletownerstoragelocation">AtomWalletOwnerStorageLocation</a></h3>
<p>The storage slot for the AtomWallet owner</p>
<pre><code class="language-solidity">bytes32 private constant AtomWalletOwnerStorageLocation =
    0x9016d09d72d40fdae2fd8ceac6b6234c7706214fd39c1cd1e609a0528c199300;
</code></pre>
<h3 id="atomwalletpendingownerstoragelocation"><a class="header" href="#atomwalletpendingownerstoragelocation">AtomWalletPendingOwnerStorageLocation</a></h3>
<p>The storage slot for the AtomWallet pending owner</p>
<pre><code class="language-solidity">bytes32 private constant AtomWalletPendingOwnerStorageLocation =
    0x237e158222e3e6968b72b9db0d8043aacf074ad9f650f0d1606b4d82ee432c00;
</code></pre>
<h3 id="_entrypoint"><a class="header" href="#_entrypoint">_entryPoint</a></h3>
<p>The entry point contract address</p>
<pre><code class="language-solidity">IEntryPoint private _entryPoint;
</code></pre>
<h3 id="__gap"><a class="header" href="#__gap">__gap</a></h3>
<p><em>Gap for upgrade safety</em></p>
<pre><code class="language-solidity">uint256[50] private __gap;
</code></pre>
<h2 id="functions-4"><a class="header" href="#functions-4">Functions</a></h2>
<h3 id="onlyownerorentrypoint"><a class="header" href="#onlyownerorentrypoint">onlyOwnerOrEntryPoint</a></h3>
<p><em>Modifier to allow only the owner or entry point to call a function</em></p>
<pre><code class="language-solidity">modifier onlyOwnerOrEntryPoint();
</code></pre>
<h3 id="init-1"><a class="header" href="#init-1">init</a></h3>
<p>Initialize the AtomWallet contract</p>
<pre><code class="language-solidity">function init(IEntryPoint anEntryPoint, IEthMultiVault _ethMultiVault) external initializer;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>anEntryPoint</code></td><td><code>IEntryPoint</code></td><td>the entry point contract address</td></tr>
<tr><td><code>_ethMultiVault</code></td><td><code>IEthMultiVault</code></td><td>the EthMultiVault contract address</td></tr>
</tbody></table>
</div>
<h3 id="receive"><a class="header" href="#receive">receive</a></h3>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h3 id="execute"><a class="header" href="#execute">execute</a></h3>
<pre><code class="language-solidity">function execute(address dest, uint256 value, bytes calldata func)
    external
    payable
    onlyOwnerOrEntryPoint
    nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dest</code></td><td><code>address</code></td><td>the target address</td></tr>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>the value to send</td></tr>
<tr><td><code>func</code></td><td><code>bytes</code></td><td>the function call data</td></tr>
</tbody></table>
</div>
<h3 id="executebatch"><a class="header" href="#executebatch">executeBatch</a></h3>
<p>Execute a sequence (batch) of transactions</p>
<pre><code class="language-solidity">function executeBatch(address[] calldata dest, uint256[] calldata values, bytes[] calldata func)
    external
    payable
    onlyOwnerOrEntryPoint
    nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dest</code></td><td><code>address[]</code></td><td>the target addresses array</td></tr>
<tr><td><code>values</code></td><td><code>uint256[]</code></td><td></td></tr>
<tr><td><code>func</code></td><td><code>bytes[]</code></td><td>the function call data array</td></tr>
</tbody></table>
</div>
<h3 id="adddeposit"><a class="header" href="#adddeposit">addDeposit</a></h3>
<p>Add deposit to the account in the entry point contract</p>
<pre><code class="language-solidity">function addDeposit() public payable;
</code></pre>
<h3 id="withdrawdepositto"><a class="header" href="#withdrawdepositto">withdrawDepositTo</a></h3>
<p>Withdraws value from the account's deposit</p>
<pre><code class="language-solidity">function withdrawDepositTo(address payable withdrawAddress, uint256 amount) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>withdrawAddress</code></td><td><code>address payable</code></td><td>target to send to</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>to withdraw</td></tr>
</tbody></table>
</div>
<h3 id="transferownership"><a class="header" href="#transferownership">transferOwnership</a></h3>
<p>Initiates the ownership transfer over the wallet to a new owner.</p>
<pre><code class="language-solidity">function transferOwnership(address newOwner) public override onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newOwner</code></td><td><code>address</code></td><td>the new owner of the wallet (becomes the pending owner) NOTE: Overrides the transferOwnership function of Ownable2StepUpgradeable</td></tr>
</tbody></table>
</div>
<h3 id="acceptownership"><a class="header" href="#acceptownership">acceptOwnership</a></h3>
<p>The new owner accepts the ownership over the wallet. If the wallet's ownership
is being accepted by the user, the wallet is considered claimed. Once claimed,
wallet is considered owned by the user and this action cannot be undone.
NOTE: Overrides the acceptOwnership function of Ownable2StepUpgradeable</p>
<pre><code class="language-solidity">function acceptOwnership() public override;
</code></pre>
<h3 id="getdeposit"><a class="header" href="#getdeposit">getDeposit</a></h3>
<p>Returns the deposit of the account in the entry point contract</p>
<pre><code class="language-solidity">function getDeposit() public view returns (uint256);
</code></pre>
<h3 id="entrypoint"><a class="header" href="#entrypoint">entryPoint</a></h3>
<p>Get the entry point contract address</p>
<pre><code class="language-solidity">function entryPoint() public view virtual override returns (IEntryPoint);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>IEntryPoint</code></td><td>the entry point contract address NOTE: Overrides the entryPoint function of BaseAccount</td></tr>
</tbody></table>
</div>
<h3 id="owner"><a class="header" href="#owner">owner</a></h3>
<p>Returns the owner of the wallet. If the wallet has been claimed, the owner
is the user. Otherwise, the owner is the atomWarden.</p>
<pre><code class="language-solidity">function owner() public view override returns (address);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>the owner of the wallet NOTE: Overrides the owner function of OwnableUpgradeable</td></tr>
</tbody></table>
</div>
<h3 id="_validatesignature"><a class="header" href="#_validatesignature">_validateSignature</a></h3>
<p>Validate the signature of the user operation</p>
<pre><code class="language-solidity">function _validateSignature(UserOperation calldata userOp, bytes32 userOpHash)
    internal
    virtual
    override
    returns (uint256 validationData);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>userOp</code></td><td><code>UserOperation</code></td><td>the user operation</td></tr>
<tr><td><code>userOpHash</code></td><td><code>bytes32</code></td><td>the hash of the user operation</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>validationData</code></td><td><code>uint256</code></td><td>the validation data (0 if successful) NOTE: Implements the template method of BaseAccount</td></tr>
</tbody></table>
</div>
<h3 id="_call"><a class="header" href="#_call">_call</a></h3>
<p>An internal method that calls a target address with value and data</p>
<pre><code class="language-solidity">function _call(address target, uint256 value, bytes memory data) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>target</code></td><td><code>address</code></td><td>the target address</td></tr>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>the value to send</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>the function call data</td></tr>
</tbody></table>
</div>
<h3 id="extractvaliduntilandvalidafter"><a class="header" href="#extractvaliduntilandvalidafter">extractValidUntilAndValidAfter</a></h3>
<p>Extract the validUntil and validAfter from the call data</p>
<pre><code class="language-solidity">function extractValidUntilAndValidAfter(bytes calldata callData)
    internal
    pure
    returns (uint256 validUntil, uint256 validAfter, bytes memory actualCallData);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>callData</code></td><td><code>bytes</code></td><td>the call data</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>validUntil</code></td><td><code>uint256</code></td><td>the valid until timestamp</td></tr>
<tr><td><code>validAfter</code></td><td><code>uint256</code></td><td>the valid after timestamp</td></tr>
<tr><td><code>actualCallData</code></td><td><code>bytes</code></td><td>the actual call data of the user operation</td></tr>
</tbody></table>
</div>
<h3 id="_getatomwalletownerstorage"><a class="header" href="#_getatomwalletownerstorage">_getAtomWalletOwnerStorage</a></h3>
<p><em>Get the storage slot for the AtomWallet contract owner</em></p>
<pre><code class="language-solidity">function _getAtomWalletOwnerStorage() private pure returns (OwnableStorage storage $);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>$</code></td><td><code>OwnableStorage</code></td><td>the storage slot</td></tr>
</tbody></table>
</div>
<h3 id="_getatomwalletpendingownerstorage"><a class="header" href="#_getatomwalletpendingownerstorage">_getAtomWalletPendingOwnerStorage</a></h3>
<p><em>Get the storage slot for the AtomWallet contract pending owner</em></p>
<pre><code class="language-solidity">function _getAtomWalletPendingOwnerStorage() private pure returns (Ownable2StepStorage storage $);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>$</code></td><td><code>Ownable2StepStorage</code></td><td>the storage slot</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="basecurve-1"><a class="header" href="#basecurve-1">BaseCurve</a></h1>
<p><a href="https://github.com/0xIntuition/intuition-beta-contracts/blob/b0ea23601a4ad6822949563dc7e770696d588bfe/src/BaseCurve.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/BaseCurve.sol//src/interfaces/IBaseCurve.sol/interface.IBaseCurve.html">IBaseCurve</a></p>
<p><strong>Author:</strong>
0xIntuition</p>
<p>Abstract contract for a bonding curve. Defines the interface for converting assets to shares and vice versa.</p>
<p><em>This contract is designed to be inherited by other bonding curve contracts, providing a common interface for
converting between assets and shares.</em></p>
<p><em>These curves handle the pure mathematical relationship for share price.  Pool ratio adjustments (such as
accomodating for the effect of fees, supply burn, airdrops, etc) are handled by the EthMultiVault instead
of the curves themselves.</em></p>
<h2 id="state-variables-1"><a class="header" href="#state-variables-1">State Variables</a></h2>
<h3 id="name-1"><a class="header" href="#name-1">name</a></h3>
<p>The name of the curve</p>
<pre><code class="language-solidity">string public name;
</code></pre>
<h2 id="functions-5"><a class="header" href="#functions-5">Functions</a></h2>
<h3 id="constructor"><a class="header" href="#constructor">constructor</a></h3>
<p>Construct the curve with a unique name</p>
<pre><code class="language-solidity">constructor(string memory _name);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>string</code></td><td>Unique name for the curve</td></tr>
</tbody></table>
</div>
<h3 id="maxshares-1"><a class="header" href="#maxshares-1">maxShares</a></h3>
<p>The maximum number of shares that this curve can handle without overflowing.</p>
<p><em>Checked by the EthMultiVault before transacting</em></p>
<pre><code class="language-solidity">function maxShares() external view virtual returns (uint256);
</code></pre>
<h3 id="maxassets-1"><a class="header" href="#maxassets-1">maxAssets</a></h3>
<p>The maximum number of assets that this curve can handle without overflowing.</p>
<p><em>Checked by the EthMultiVault before transacting</em></p>
<pre><code class="language-solidity">function maxAssets() external view virtual returns (uint256);
</code></pre>
<h3 id="previewdeposit-3"><a class="header" href="#previewdeposit-3">previewDeposit</a></h3>
<p>Preview how many shares would be minted for a deposit of assets</p>
<pre><code class="language-solidity">function previewDeposit(uint256 assets, uint256 totalAssets, uint256 totalShares)
    external
    view
    virtual
    returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to deposit</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares that would be minted</td></tr>
</tbody></table>
</div>
<h3 id="previewmint-2"><a class="header" href="#previewmint-2">previewMint</a></h3>
<p>Preview how many assets would be required to mint a specific amount of shares</p>
<pre><code class="language-solidity">function previewMint(uint256 shares, uint256 totalShares, uint256 totalAssets)
    external
    view
    virtual
    returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to mint</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets that would be required to mint the shares</td></tr>
</tbody></table>
</div>
<h3 id="previewwithdraw-2"><a class="header" href="#previewwithdraw-2">previewWithdraw</a></h3>
<p>Preview how many shares would be redeemed for a withdrawal of assets</p>
<pre><code class="language-solidity">function previewWithdraw(uint256 assets, uint256 totalAssets, uint256 totalShares)
    external
    view
    virtual
    returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to withdraw</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares that would need to be redeemed</td></tr>
</tbody></table>
</div>
<h3 id="previewredeem-3"><a class="header" href="#previewredeem-3">previewRedeem</a></h3>
<p>Preview how many assets would be returned for burning a specific amount of shares</p>
<pre><code class="language-solidity">function previewRedeem(uint256 shares, uint256 totalShares, uint256 totalAssets)
    external
    view
    virtual
    returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to burn</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets that would be returned</td></tr>
</tbody></table>
</div>
<h3 id="converttoshares-3"><a class="header" href="#converttoshares-3">convertToShares</a></h3>
<p>Convert assets to shares at a specific point on the curve</p>
<pre><code class="language-solidity">function convertToShares(uint256 assets, uint256 totalAssets, uint256 totalShares)
    external
    view
    virtual
    returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to convert to shares</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares equivalent to the given assets</td></tr>
</tbody></table>
</div>
<h3 id="converttoassets-3"><a class="header" href="#converttoassets-3">convertToAssets</a></h3>
<p>Convert shares to assets at a specific point on the curve</p>
<pre><code class="language-solidity">function convertToAssets(uint256 shares, uint256 totalShares, uint256 totalAssets)
    external
    view
    virtual
    returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to convert to assets</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets equivalent to the given shares</td></tr>
</tbody></table>
</div>
<h3 id="currentprice-2"><a class="header" href="#currentprice-2">currentPrice</a></h3>
<p>Get the current price of a share</p>
<pre><code class="language-solidity">function currentPrice(uint256 totalShares) public view virtual returns (uint256 sharePrice);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharePrice</code></td><td><code>uint256</code></td><td>The current price of a share, scaled by 1e18</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="bondingcurveregistry-1"><a class="header" href="#bondingcurveregistry-1">BondingCurveRegistry</a></h1>
<p><a href="https://github.com/0xIntuition/intuition-beta-contracts/blob/b0ea23601a4ad6822949563dc7e770696d588bfe/src/BondingCurveRegistry.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/BondingCurveRegistry.sol//src/interfaces/IBondingCurveRegistry.sol/interface.IBondingCurveRegistry.html">IBondingCurveRegistry</a></p>
<p><strong>Author:</strong>
0xIntuition</p>
<p>Registry contract for the Intuition protocol Bonding Curves. Routes access to the curves
associated with atoms &amp; triples.  Does not maintain any economic state -- this merely
performs computations based on the provided economic state.</p>
<p>An administrator may add new bonding curves to this registry, including those submitted
by community members, once they are verified to be safe, and conform to the BaseCurve
interface.  The EthMultiVault supports a growing registry of curves, with each curve
supplying a new "vault" for each term (atom or triple).</p>
<p><em>The registry is responsible for interacting with the curves, to fetch the mathematical
computations given the provided economic state and the desired curve implementation.
You can think of the registry as a concierge the EthMultiVault uses to access various
economic incentive patterns.</em></p>
<h2 id="state-variables-2"><a class="header" href="#state-variables-2">State Variables</a></h2>
<h3 id="count-1"><a class="header" href="#count-1">count</a></h3>
<pre><code class="language-solidity">uint256 public count;
</code></pre>
<h3 id="curveaddresses-1"><a class="header" href="#curveaddresses-1">curveAddresses</a></h3>
<pre><code class="language-solidity">mapping(uint256 =&gt; address) public curveAddresses;
</code></pre>
<h3 id="curveids-1"><a class="header" href="#curveids-1">curveIds</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public curveIds;
</code></pre>
<h3 id="registeredcurvenames"><a class="header" href="#registeredcurvenames">registeredCurveNames</a></h3>
<pre><code class="language-solidity">mapping(string =&gt; bool) public registeredCurveNames;
</code></pre>
<h3 id="admin"><a class="header" href="#admin">admin</a></h3>
<pre><code class="language-solidity">address public admin;
</code></pre>
<h2 id="functions-6"><a class="header" href="#functions-6">Functions</a></h2>
<h3 id="constructor-1"><a class="header" href="#constructor-1">constructor</a></h3>
<p>Initializes the BondingCurveRegistry contract</p>
<pre><code class="language-solidity">constructor(address _admin);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_admin</code></td><td><code>address</code></td><td>Address who may add curves to the registry NOTE: This function is called only once (during contract deployment)</td></tr>
</tbody></table>
</div>
<h3 id="addbondingcurve"><a class="header" href="#addbondingcurve">addBondingCurve</a></h3>
<p>Add a new bonding curve to the registry</p>
<pre><code class="language-solidity">function addBondingCurve(address bondingCurve) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>bondingCurve</code></td><td><code>address</code></td><td>Address of the new bonding curve</td></tr>
</tbody></table>
</div>
<h3 id="transferownership-1"><a class="header" href="#transferownership-1">transferOwnership</a></h3>
<p>Transfer the admin role to a new address</p>
<pre><code class="language-solidity">function transferOwnership(address newOwner) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newOwner</code></td><td><code>address</code></td><td>The new admin address</td></tr>
</tbody></table>
</div>
<h3 id="previewdeposit-4"><a class="header" href="#previewdeposit-4">previewDeposit</a></h3>
<p>Preview how many shares would be minted for a deposit of assets</p>
<pre><code class="language-solidity">function previewDeposit(uint256 assets, uint256 totalAssets, uint256 totalShares, uint256 id)
    external
    view
    returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to deposit</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to use for the calculation</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares that would be minted</td></tr>
</tbody></table>
</div>
<h3 id="previewredeem-4"><a class="header" href="#previewredeem-4">previewRedeem</a></h3>
<p>Preview how many assets would be returned for burning a specific amount of shares</p>
<pre><code class="language-solidity">function previewRedeem(uint256 shares, uint256 totalShares, uint256 totalAssets, uint256 id)
    external
    view
    returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to burn</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to use for the calculation</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets that would be returned</td></tr>
</tbody></table>
</div>
<h3 id="previewwithdraw-3"><a class="header" href="#previewwithdraw-3">previewWithdraw</a></h3>
<p>Preview how many shares would be redeemed for a withdrawal of assets</p>
<pre><code class="language-solidity">function previewWithdraw(uint256 assets, uint256 totalAssets, uint256 totalShares, uint256 id)
    external
    view
    returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to withdraw</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to use for the calculation</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares that would need to be redeemed</td></tr>
</tbody></table>
</div>
<h3 id="previewmint-3"><a class="header" href="#previewmint-3">previewMint</a></h3>
<p>Preview how many assets would be required to mint a specific amount of shares</p>
<pre><code class="language-solidity">function previewMint(uint256 shares, uint256 totalShares, uint256 totalAssets, uint256 id)
    external
    view
    returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to mint</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to use for the calculation</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets that would be required to mint the shares</td></tr>
</tbody></table>
</div>
<h3 id="converttoshares-4"><a class="header" href="#converttoshares-4">convertToShares</a></h3>
<p>Convert assets to shares at a specific point on the curve</p>
<pre><code class="language-solidity">function convertToShares(uint256 assets, uint256 totalAssets, uint256 totalShares, uint256 id)
    external
    view
    returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to convert to shares</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to use for the calculation</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares equivalent to the given assets</td></tr>
</tbody></table>
</div>
<h3 id="converttoassets-4"><a class="header" href="#converttoassets-4">convertToAssets</a></h3>
<p>Convert shares to assets at a specific point on the curve</p>
<pre><code class="language-solidity">function convertToAssets(uint256 shares, uint256 totalShares, uint256 totalAssets, uint256 id)
    external
    view
    returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to convert to assets</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>Total quantity of assets already staked into the curve</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to use for the calculation</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets equivalent to the given shares</td></tr>
</tbody></table>
</div>
<h3 id="currentprice-3"><a class="header" href="#currentprice-3">currentPrice</a></h3>
<p>Get the current price of a share</p>
<pre><code class="language-solidity">function currentPrice(uint256 totalShares, uint256 id) external view returns (uint256 sharePrice);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to use for the calculation</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharePrice</code></td><td><code>uint256</code></td><td>The current price of a share</td></tr>
</tbody></table>
</div>
<h3 id="getcurvename-1"><a class="header" href="#getcurvename-1">getCurveName</a></h3>
<p>Get the name of a curve</p>
<pre><code class="language-solidity">function getCurveName(uint256 id) external view returns (string memory name);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to query</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>name</code></td><td><code>string</code></td><td>The name of the curve</td></tr>
</tbody></table>
</div>
<h3 id="getcurvemaxshares-1"><a class="header" href="#getcurvemaxshares-1">getCurveMaxShares</a></h3>
<p>Get the maximum number of shares a curve can handle.  Curves compute this ceiling based on their constructor arguments, to avoid overflow.</p>
<pre><code class="language-solidity">function getCurveMaxShares(uint256 id) external view returns (uint256 maxShares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to query</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>maxShares</code></td><td><code>uint256</code></td><td>The maximum number of shares</td></tr>
</tbody></table>
</div>
<h3 id="getcurvemaxassets-1"><a class="header" href="#getcurvemaxassets-1">getCurveMaxAssets</a></h3>
<p>Get the maximum number of assets a curve can handle.  Curves compute this ceiling based on their constructor arguments, to avoid overflow.</p>
<pre><code class="language-solidity">function getCurveMaxAssets(uint256 id) external view returns (uint256 maxAssets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>Curve ID to query</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>maxAssets</code></td><td><code>uint256</code></td><td>The maximum number of assets</td></tr>
</tbody></table>
</div>
<h2 id="events-1"><a class="header" href="#events-1">Events</a></h2>
<h3 id="bondingcurveadded"><a class="header" href="#bondingcurveadded">BondingCurveAdded</a></h3>
<p>Emitted when a new curve is added to the registry</p>
<pre><code class="language-solidity">event BondingCurveAdded(uint256 indexed curveId, address indexed curveAddress, string indexed curveName);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>The ID of the curve</td></tr>
<tr><td><code>curveAddress</code></td><td><code>address</code></td><td>The address of the curve</td></tr>
<tr><td><code>curveName</code></td><td><code>string</code></td><td>The name of the curve</td></tr>
</tbody></table>
</div>
<h3 id="ownershiptransferred"><a class="header" href="#ownershiptransferred">OwnershipTransferred</a></h3>
<p>Emitted when the admin role is transferred</p>
<pre><code class="language-solidity">event OwnershipTransferred(address indexed oldAdmin, address indexed newAdmin);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>oldAdmin</code></td><td><code>address</code></td><td>The previous admin address</td></tr>
<tr><td><code>newAdmin</code></td><td><code>address</code></td><td>The new admin address</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ethmultivault-2"><a class="header" href="#ethmultivault-2">EthMultiVault</a></h1>
<p><a href="https://github.com/0xIntuition/intuition-beta-contracts/blob/b0ea23601a4ad6822949563dc7e770696d588bfe/src/EthMultiVault.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/EthMultiVault.sol//src/interfaces/IEthMultiVault.sol/interface.IEthMultiVault.html">IEthMultiVault</a>, Initializable, ReentrancyGuardUpgradeable, PausableUpgradeable</p>
<p><strong>Author:</strong>
0xIntuition</p>
<p>Core contract of the Intuition protocol. Manages the creation and management of vaults
associated with atoms &amp; triples.</p>
<p>A sophisticated vault management system that implements a dual-layer
semantic data structure through "atoms" and "triples", reminiscent of
RDF (Resource Description Framework) concepts.</p>
<p>Core protocol component managing the relationship between semantic data
structures and their economic representations through vault mechanics.
Implements ERC4626-style accounting with progressive bonding curves.</p>
<h2 id="key-components"><a class="header" href="#key-components">Key Components:</a></h2>
<ol>
<li>Vault Management</li>
</ol>
<ul>
<li>ETH deposits/withdrawals through ERC4626-style vault accounting</li>
<li>Progressive bonding curves for price discovery</li>
<li>Supports both standard pro-rata vaults and curve-specific vaults, for backwards compatibility.</li>
</ul>
<ol start="2">
<li>Semantic Structure</li>
</ol>
<ul>
<li>Atoms: Base-level vaults representing individual semantic units</li>
<li>Triples: Composite vaults linking three atoms in subject-predicate-object relationships</li>
<li>Each vault type maintains independent state and fee structures</li>
</ul>
<ol start="3">
<li>Security Features</li>
</ol>
<ul>
<li>Timelocked admin operations</li>
<li>Reentrancy protection</li>
<li>Pausable functionality</li>
<li>Granular fee controls with maximum caps</li>
<li>Approval system for delegated deposits</li>
</ul>
<ol start="4">
<li>Smart Account Integration</li>
</ol>
<ul>
<li>Deploys ERC4337-compatible atom wallets</li>
<li>BeaconProxy pattern for upgradeable wallet implementations</li>
<li>Maintains initialization deposits for wallet operations</li>
</ul>
<ol start="5">
<li>Fee Structure</li>
</ol>
<ul>
<li>Entry, exit, and protocol fees</li>
<li>Configurable per vault</li>
<li>Separate fee structures for atom/triple creation</li>
<li>Proportional deposit distribution for triple-related operations</li>
</ul>
<p><em>## Please note:
This implementation of the EthMultiVault is messy for a reason.  We wanted to keep all of
the audited code in place, while also enabling users to interact with Bonding Curve vaults.  For this
reason, there are separate functions for all Bonding Curve related activity.  While this bloats the
code size, it ensures that users can still use the audited pathways in the code if they wish, while also
enabling them to engage in more economically exciting activities like the Progressive Curve or Offset Curve.</em></p>
<p><em>The V2 of this contract will merge these pathways into one, providing a cleaner and more straightforward
interface for depositing and redeeming.</em></p>
<h2 id="state-variables-3"><a class="header" href="#state-variables-3">State Variables</a></h2>
<h3 id="set_admin"><a class="header" href="#set_admin">SET_ADMIN</a></h3>
<pre><code class="language-solidity">bytes32 public constant SET_ADMIN = keccak256("setAdmin");
</code></pre>
<h3 id="set_exit_fee"><a class="header" href="#set_exit_fee">SET_EXIT_FEE</a></h3>
<pre><code class="language-solidity">bytes32 public constant SET_EXIT_FEE = keccak256("setExitFee");
</code></pre>
<h3 id="generalconfig-1"><a class="header" href="#generalconfig-1">generalConfig</a></h3>
<p>Configuration structs</p>
<pre><code class="language-solidity">GeneralConfig public generalConfig;
</code></pre>
<h3 id="atomconfig-1"><a class="header" href="#atomconfig-1">atomConfig</a></h3>
<pre><code class="language-solidity">AtomConfig public atomConfig;
</code></pre>
<h3 id="tripleconfig-1"><a class="header" href="#tripleconfig-1">tripleConfig</a></h3>
<pre><code class="language-solidity">TripleConfig public tripleConfig;
</code></pre>
<h3 id="walletconfig-1"><a class="header" href="#walletconfig-1">walletConfig</a></h3>
<pre><code class="language-solidity">WalletConfig public walletConfig;
</code></pre>
<h3 id="count-2"><a class="header" href="#count-2">count</a></h3>
<p>ID of the last vault to be created</p>
<pre><code class="language-solidity">uint256 public count;
</code></pre>
<h3 id="vaults"><a class="header" href="#vaults">vaults</a></h3>
<p>Mapping of vault ID to vault state</p>
<pre><code class="language-solidity">mapping(uint256 vaultId =&gt; VaultState vaultState) public vaults;
</code></pre>
<h3 id="vaultfees-1"><a class="header" href="#vaultfees-1">vaultFees</a></h3>
<p>Mapping of vault ID to vault fees</p>
<pre><code class="language-solidity">mapping(uint256 vaultId =&gt; VaultFees vaultFees) public vaultFees;
</code></pre>
<h3 id="approvals"><a class="header" href="#approvals">approvals</a></h3>
<p>Mapping of receiver to sender to determine if a sender is allowed to deposit assets on behalf of a receiver</p>
<pre><code class="language-solidity">mapping(address receiver =&gt; mapping(address sender =&gt; uint8 approvalType)) public approvals;
</code></pre>
<h3 id="atoms"><a class="header" href="#atoms">atoms</a></h3>
<p>RDF (Resource Description Framework)</p>
<pre><code class="language-solidity">mapping(uint256 atomId =&gt; bytes atomData) public atoms;
</code></pre>
<h3 id="atomsbyhash"><a class="header" href="#atomsbyhash">atomsByHash</a></h3>
<pre><code class="language-solidity">mapping(bytes32 atomHash =&gt; uint256 atomId) public atomsByHash;
</code></pre>
<h3 id="triples"><a class="header" href="#triples">triples</a></h3>
<pre><code class="language-solidity">mapping(uint256 tripleId =&gt; uint256[3] tripleAtomIds) public triples;
</code></pre>
<h3 id="triplesbyhash"><a class="header" href="#triplesbyhash">triplesByHash</a></h3>
<pre><code class="language-solidity">mapping(bytes32 tripleHash =&gt; uint256 tripleId) public triplesByHash;
</code></pre>
<h3 id="istriple"><a class="header" href="#istriple">isTriple</a></h3>
<pre><code class="language-solidity">mapping(uint256 vaultId =&gt; bool isTriple) public isTriple;
</code></pre>
<h3 id="timelocks"><a class="header" href="#timelocks">timelocks</a></h3>
<p>Timelock mapping (operation hash -&gt; timelock struct)</p>
<pre><code class="language-solidity">mapping(bytes32 operationHash =&gt; Timelock timelock) public timelocks;
</code></pre>
<h3 id="bondingcurvevaults"><a class="header" href="#bondingcurvevaults">bondingCurveVaults</a></h3>
<p>Bonding Curve Vaults (termId -&gt; curveId -&gt; vaultState)</p>
<pre><code class="language-solidity">mapping(uint256 vaultId =&gt; mapping(uint256 curveId =&gt; VaultState vaultState)) public bondingCurveVaults;
</code></pre>
<h3 id="bondingcurveconfig-1"><a class="header" href="#bondingcurveconfig-1">bondingCurveConfig</a></h3>
<p>Bonding Curve Configurations</p>
<pre><code class="language-solidity">BondingCurveConfig public bondingCurveConfig;
</code></pre>
<h3 id="__gap-1"><a class="header" href="#__gap-1">__gap</a></h3>
<p><em>Gap for upgrade safety</em></p>
<pre><code class="language-solidity">uint256[47] private __gap;
</code></pre>
<h2 id="functions-7"><a class="header" href="#functions-7">Functions</a></h2>
<h3 id="onlyadmin"><a class="header" href="#onlyadmin">onlyAdmin</a></h3>
<p>Modifier to restrict a function to the admin</p>
<pre><code class="language-solidity">modifier onlyAdmin();
</code></pre>
<h3 id="init-2"><a class="header" href="#init-2">init</a></h3>
<p>Initializes the EthMultiVault contract</p>
<p><em>This function is called only once (during contract deployment)</em></p>
<pre><code class="language-solidity">function init(
    GeneralConfig memory _generalConfig,
    AtomConfig memory _atomConfig,
    TripleConfig memory _tripleConfig,
    WalletConfig memory _walletConfig,
    VaultFees memory _defaultVaultFees,
    BondingCurveConfig memory _bondingCurveConfig
) external initializer;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_generalConfig</code></td><td><code>GeneralConfig</code></td><td>General configuration struct</td></tr>
<tr><td><code>_atomConfig</code></td><td><code>AtomConfig</code></td><td>Atom configuration struct</td></tr>
<tr><td><code>_tripleConfig</code></td><td><code>TripleConfig</code></td><td>Triple configuration struct</td></tr>
<tr><td><code>_walletConfig</code></td><td><code>WalletConfig</code></td><td>Wallet configuration struct</td></tr>
<tr><td><code>_defaultVaultFees</code></td><td><code>VaultFees</code></td><td>Default vault fees struct</td></tr>
<tr><td><code>_bondingCurveConfig</code></td><td><code>BondingCurveConfig</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="constructor-2"><a class="header" href="#constructor-2">constructor</a></h3>
<p>Security measure for upgradeable contracts</p>
<p><em>Disables initializers on implementation contract to prevent direct initialization</em></p>
<p><em>(Security) Prevents attackers from initializing the implementation contract directly</em></p>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="receive-1"><a class="header" href="#receive-1">receive</a></h3>
<p>contract does not accept ETH donations</p>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h3 id="fallback"><a class="header" href="#fallback">fallback</a></h3>
<p>fallback function to decompress the calldata and call the appropriate function</p>
<pre><code class="language-solidity">fallback() external payable;
</code></pre>
<h3 id="pause-1"><a class="header" href="#pause-1">pause</a></h3>
<p><em>pauses the pausable contract methods</em></p>
<pre><code class="language-solidity">function pause() external onlyAdmin;
</code></pre>
<h3 id="unpause-1"><a class="header" href="#unpause-1">unpause</a></h3>
<p><em>unpauses the pausable contract methods</em></p>
<pre><code class="language-solidity">function unpause() external onlyAdmin;
</code></pre>
<h3 id="scheduleoperation-1"><a class="header" href="#scheduleoperation-1">scheduleOperation</a></h3>
<p><em>schedule an operation to be executed after a delay</em></p>
<pre><code class="language-solidity">function scheduleOperation(bytes32 operationId, bytes calldata data) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>operationId</code></td><td><code>bytes32</code></td><td>unique identifier for the operation</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>data to be executed</td></tr>
</tbody></table>
</div>
<h3 id="canceloperation-1"><a class="header" href="#canceloperation-1">cancelOperation</a></h3>
<p><em>cancel a scheduled operation</em></p>
<pre><code class="language-solidity">function cancelOperation(bytes32 operationId, bytes calldata data) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>operationId</code></td><td><code>bytes32</code></td><td>unique identifier for the operation</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>data of the operation to be cancelled</td></tr>
</tbody></table>
</div>
<h3 id="setadmin-1"><a class="header" href="#setadmin-1">setAdmin</a></h3>
<p>Requires new admin to 'confirm' the timelocked operation</p>
<p><em>set admin</em></p>
<pre><code class="language-solidity">function setAdmin(address admin) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>admin</code></td><td><code>address</code></td><td>address of the new admin</td></tr>
</tbody></table>
</div>
<h3 id="setprotocolmultisig-1"><a class="header" href="#setprotocolmultisig-1">setProtocolMultisig</a></h3>
<p><em>set protocol multisig</em></p>
<pre><code class="language-solidity">function setProtocolMultisig(address protocolMultisig) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>protocolMultisig</code></td><td><code>address</code></td><td>address of the new protocol multisig</td></tr>
</tbody></table>
</div>
<h3 id="setmindeposit-1"><a class="header" href="#setmindeposit-1">setMinDeposit</a></h3>
<p><em>sets the minimum deposit amount for atoms and triples</em></p>
<pre><code class="language-solidity">function setMinDeposit(uint256 minDeposit) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>minDeposit</code></td><td><code>uint256</code></td><td>new minimum deposit amount</td></tr>
</tbody></table>
</div>
<h3 id="setminshare-1"><a class="header" href="#setminshare-1">setMinShare</a></h3>
<p><em>sets the minimum share amount for atoms and triples</em></p>
<pre><code class="language-solidity">function setMinShare(uint256 minShare) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>minShare</code></td><td><code>uint256</code></td><td>new minimum share amount</td></tr>
</tbody></table>
</div>
<h3 id="setatomurimaxlength-1"><a class="header" href="#setatomurimaxlength-1">setAtomUriMaxLength</a></h3>
<p><em>sets the atom URI max length</em></p>
<pre><code class="language-solidity">function setAtomUriMaxLength(uint256 atomUriMaxLength) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>atomUriMaxLength</code></td><td><code>uint256</code></td><td>new atom URI max length</td></tr>
</tbody></table>
</div>
<h3 id="setatomwalletinitialdepositamount-1"><a class="header" href="#setatomwalletinitialdepositamount-1">setAtomWalletInitialDepositAmount</a></h3>
<p><em>sets the atom share lock fee</em></p>
<pre><code class="language-solidity">function setAtomWalletInitialDepositAmount(uint256 atomWalletInitialDepositAmount) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>atomWalletInitialDepositAmount</code></td><td><code>uint256</code></td><td>new atom share lock fee</td></tr>
</tbody></table>
</div>
<h3 id="setatomcreationprotocolfee-1"><a class="header" href="#setatomcreationprotocolfee-1">setAtomCreationProtocolFee</a></h3>
<p><em>sets the atom creation fee</em></p>
<pre><code class="language-solidity">function setAtomCreationProtocolFee(uint256 atomCreationProtocolFee) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>atomCreationProtocolFee</code></td><td><code>uint256</code></td><td>new atom creation fee</td></tr>
</tbody></table>
</div>
<h3 id="settriplecreationprotocolfee-1"><a class="header" href="#settriplecreationprotocolfee-1">setTripleCreationProtocolFee</a></h3>
<p><em>sets fee charged in wei when creating a triple to protocol multisig</em></p>
<pre><code class="language-solidity">function setTripleCreationProtocolFee(uint256 tripleCreationProtocolFee) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tripleCreationProtocolFee</code></td><td><code>uint256</code></td><td>new fee in wei</td></tr>
</tbody></table>
</div>
<h3 id="settotalatomdepositsontriplecreation-1"><a class="header" href="#settotalatomdepositsontriplecreation-1">setTotalAtomDepositsOnTripleCreation</a></h3>
<p><em>sets the atom deposit on triple creation used to increase the amount of assets
in the underlying atom vaults on triple creation</em></p>
<pre><code class="language-solidity">function setTotalAtomDepositsOnTripleCreation(uint256 totalAtomDepositsOnTripleCreation) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalAtomDepositsOnTripleCreation</code></td><td><code>uint256</code></td><td>new atom deposit on triple creation</td></tr>
</tbody></table>
</div>
<h3 id="settotalatomdepositsfortriple-1"><a class="header" href="#settotalatomdepositsfortriple-1">setTotalAtomDepositsForTriple</a></h3>
<p><em>sets the atom deposit percentage for atoms used in triples
(number to be divided by <code>generalConfig.feeDenominator</code>)</em></p>
<pre><code class="language-solidity">function setTotalAtomDepositsForTriple(uint256 totalAtomDepositsForTriple) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalAtomDepositsForTriple</code></td><td><code>uint256</code></td><td>new atom deposit percentage</td></tr>
</tbody></table>
</div>
<h3 id="setentryfee-1"><a class="header" href="#setentryfee-1">setEntryFee</a></h3>
<p><em>sets entry fees for the specified vault (id=0 sets the default fees for all vaults)
id = 0 changes the default entry fee, id = n changes fees for vault n specifically</em></p>
<p><em>admin cannot set the entry fee to be greater than <code>maxEntryFeePercentage</code>, which is
set to be the 10% of <code>generalConfig.feeDenominator</code> (which represents 100%), to avoid
being able to prevent users from depositing assets with unreasonable fees</em></p>
<pre><code class="language-solidity">function setEntryFee(uint256 id, uint256 entryFee) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to set entry fee for</td></tr>
<tr><td><code>entryFee</code></td><td><code>uint256</code></td><td>entry fee to set</td></tr>
</tbody></table>
</div>
<h3 id="setexitfee-1"><a class="header" href="#setexitfee-1">setExitFee</a></h3>
<p><em>sets exit fees for the specified vault (id=0 sets the default fees for all vaults)
id = 0 changes the default exit fee, id = n changes fees for vault n specifically</em></p>
<p><em>admin cannot set the exit fee to be greater than <code>maxExitFeePercentage</code>, which is
set to be the 10% of <code>generalConfig.feeDenominator</code> (which represents 100%), to avoid
being able to prevent users from withdrawing their assets</em></p>
<pre><code class="language-solidity">function setExitFee(uint256 id, uint256 exitFee) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to set exit fee for</td></tr>
<tr><td><code>exitFee</code></td><td><code>uint256</code></td><td>exit fee to set</td></tr>
</tbody></table>
</div>
<h3 id="setprotocolfee-1"><a class="header" href="#setprotocolfee-1">setProtocolFee</a></h3>
<p><em>sets protocol fees for the specified vault (id=0 sets the default fees for all vaults)
id = 0 changes the default protocol fee, id = n changes fees for vault n specifically</em></p>
<p><em>admin cannot set the protocol fee to be greater than <code>maxProtocolFeePercentage</code>, which is
set to be the 10% of <code>generalConfig.feeDenominator</code> (which represents 100%), to avoid
being able to prevent users from depositing or withdrawing their assets with unreasonable fees</em></p>
<pre><code class="language-solidity">function setProtocolFee(uint256 id, uint256 protocolFee) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to set protocol fee for</td></tr>
<tr><td><code>protocolFee</code></td><td><code>uint256</code></td><td>protocol fee to set</td></tr>
</tbody></table>
</div>
<h3 id="setatomwarden-1"><a class="header" href="#setatomwarden-1">setAtomWarden</a></h3>
<p><em>sets the atomWarden address</em></p>
<pre><code class="language-solidity">function setAtomWarden(address atomWarden) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>atomWarden</code></td><td><code>address</code></td><td>address of the new atomWarden</td></tr>
</tbody></table>
</div>
<h3 id="deployatomwallet-1"><a class="header" href="#deployatomwallet-1">deployAtomWallet</a></h3>
<p>deploy a given atom wallet</p>
<p><em>deploys an ERC4337 account (atom wallet) through a BeaconProxy. Reverts if the atom vault does not exist</em></p>
<pre><code class="language-solidity">function deployAtomWallet(uint256 atomId) external whenNotPaused returns (address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>atomId</code></td><td><code>uint256</code></td><td>vault id of atom</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>atomWallet the address of the atom wallet</td></tr>
</tbody></table>
</div>
<h3 id="approve-1"><a class="header" href="#approve-1">approve</a></h3>
<p>Set the approval type for a sender to act on behalf of the receiver</p>
<pre><code class="language-solidity">function approve(address sender, ApprovalTypes approvalType) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sender</code></td><td><code>address</code></td><td>address to set approval for</td></tr>
<tr><td><code>approvalType</code></td><td><code>ApprovalTypes</code></td><td>type of approval to grant (NONE = 0, DEPOSIT = 1, REDEMPTION = 2, BOTH = 3)</td></tr>
</tbody></table>
</div>
<h3 id="createatom-1"><a class="header" href="#createatom-1">createAtom</a></h3>
<p>Create an atom and return its vault id</p>
<p><em>This function will revert if called with less than <code>getAtomCost()</code> in <code>msg.value</code></em></p>
<pre><code class="language-solidity">function createAtom(bytes calldata atomUri) external payable nonReentrant whenNotPaused returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>atomUri</code></td><td><code>bytes</code></td><td>atom data to create atom with</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>id vault id of the atom</td></tr>
</tbody></table>
</div>
<h3 id="batchcreateatom-1"><a class="header" href="#batchcreateatom-1">batchCreateAtom</a></h3>
<p>Batch create atoms and return their vault ids</p>
<p><em>This function will revert if called with less than <code>getAtomCost()</code> * <code>atomUris.length</code> in <code>msg.value</code></em></p>
<pre><code class="language-solidity">function batchCreateAtom(bytes[] calldata atomUris)
    external
    payable
    nonReentrant
    whenNotPaused
    returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>atomUris</code></td><td><code>bytes[]</code></td><td>atom data array to create atoms with</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>ids vault ids array of the atoms</td></tr>
</tbody></table>
</div>
<h3 id="_createatom"><a class="header" href="#_createatom">_createAtom</a></h3>
<p>Internal utility function to create an atom and handle vault creation</p>
<pre><code class="language-solidity">function _createAtom(bytes calldata atomUri, uint256 value) internal returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>atomUri</code></td><td><code>bytes</code></td><td>The atom data to create an atom with</td></tr>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The value sent with the transaction</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>id The new vault ID created for the atom</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="createtriple-1"><a class="header" href="#createtriple-1">createTriple</a></h3>
<p>create a triple and return its vault id</p>
<p><em>This function will revert if called with less than <code>getTripleCost()</code> in <code>msg.value</code>.
This function will revert if any of the atoms do not exist or if any ids are triple vaults.</em></p>
<pre><code class="language-solidity">function createTriple(uint256 subjectId, uint256 predicateId, uint256 objectId)
    external
    payable
    nonReentrant
    whenNotPaused
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>subjectId</code></td><td><code>uint256</code></td><td>vault id of the subject atom</td></tr>
<tr><td><code>predicateId</code></td><td><code>uint256</code></td><td>vault id of the predicate atom</td></tr>
<tr><td><code>objectId</code></td><td><code>uint256</code></td><td>vault id of the object atom</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>id vault id of the triple</td></tr>
</tbody></table>
</div>
<h3 id="batchcreatetriple-1"><a class="header" href="#batchcreatetriple-1">batchCreateTriple</a></h3>
<p>batch create triples and return their vault ids</p>
<p><em>This function will revert if called with less than <code>getTripleCost()</code> * <code>array.length</code> in <code>msg.value</code>.
This function will revert if any of the atoms do not exist or if any ids are triple vaults.</em></p>
<pre><code class="language-solidity">function batchCreateTriple(uint256[] calldata subjectIds, uint256[] calldata predicateIds, uint256[] calldata objectIds)
    external
    payable
    nonReentrant
    whenNotPaused
    returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>subjectIds</code></td><td><code>uint256[]</code></td><td>vault ids array of subject atoms</td></tr>
<tr><td><code>predicateIds</code></td><td><code>uint256[]</code></td><td>vault ids array of predicate atoms</td></tr>
<tr><td><code>objectIds</code></td><td><code>uint256[]</code></td><td>vault ids array of object atoms</td></tr>
</tbody></table>
</div>
<h3 id="_createtriple"><a class="header" href="#_createtriple">_createTriple</a></h3>
<p>Internal utility function to create a triple</p>
<pre><code class="language-solidity">function _createTriple(uint256 subjectId, uint256 predicateId, uint256 objectId, uint256 value)
    internal
    returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>subjectId</code></td><td><code>uint256</code></td><td>vault id of the subject atom</td></tr>
<tr><td><code>predicateId</code></td><td><code>uint256</code></td><td>vault id of the predicate atom</td></tr>
<tr><td><code>objectId</code></td><td><code>uint256</code></td><td>vault id of the object atom</td></tr>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The amount of ETH the user has sent minus the base triple cost</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>id The new vault ID of the created triple</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>protocolDepositFee The calculated protocol fee for the deposit</td></tr>
</tbody></table>
</div>
<h3 id="depositatom-1"><a class="header" href="#depositatom-1">depositAtom</a></h3>
<p>deposit eth into an atom vault and grant ownership of 'shares' to 'reciever'
*payable msg.value amount of eth to deposit</p>
<p><em>assets parameter is omitted in favor of msg.value, unlike in ERC4626</em></p>
<p><em>this function will revert if the minimum deposit amount of eth is not met and
if the vault ID does not exist/is not an atom.</em></p>
<pre><code class="language-solidity">function depositAtom(address receiver, uint256 id) external payable nonReentrant whenNotPaused returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receive the shares</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>the vault ID of the atom</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares the amount of shares minted</td></tr>
</tbody></table>
</div>
<h3 id="depositatomcurve-1"><a class="header" href="#depositatomcurve-1">depositAtomCurve</a></h3>
<p>deposit eth into an atom vault and grant ownership of 'shares' to 'reciever'
*payable msg.value amount of eth to deposit</p>
<p><em>assets parameter is omitted in favor of msg.value, unlike in ERC4626</em></p>
<p><em>this function will revert if the minimum deposit amount of eth is not met and
if the vault ID does not exist/is not an atom.</em></p>
<p><em>This method is entirely separate from depositAtom, because we wanted to leave the audited pathways intact.
This serves as an intermediary solution to enable users to interact with bonding curve vaults before
performing an audit of the full refactor (V2).</em></p>
<pre><code class="language-solidity">function depositAtomCurve(address receiver, uint256 atomId, uint256 curveId)
    external
    payable
    nonReentrant
    whenNotPaused
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receive the shares</td></tr>
<tr><td><code>atomId</code></td><td><code>uint256</code></td><td>the vault ID of the atom</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>the vault ID of the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares the amount of shares minted</td></tr>
</tbody></table>
</div>
<h3 id="redeematom-1"><a class="header" href="#redeematom-1">redeemAtom</a></h3>
<p>redeem shares from an atom vault for assets</p>
<p><em>Emergency redemptions without any fees being charged are always possible, even if the contract is paused
See <code>getRedeemAssetsAndFees</code> for more details on the fees charged</em></p>
<pre><code class="language-solidity">function redeemAtom(uint256 shares, address receiver, uint256 id) external nonReentrant returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>the amount of shares to redeem</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receiver the assets</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>the vault ID of the atom</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets the amount of assets/eth withdrawn</td></tr>
</tbody></table>
</div>
<h3 id="redeematomcurve-1"><a class="header" href="#redeematomcurve-1">redeemAtomCurve</a></h3>
<p>redeem shares from a bonding curve atom vault for assets</p>
<p><em>This method is entirely separate from redeemAtom, because we wanted to leave the audited pathways intact.
This serves as an intermediary solution to enable users to interact with bonding curve vaults before
performing an audit of the full refactor (V2).</em></p>
<pre><code class="language-solidity">function redeemAtomCurve(uint256 shares, address receiver, uint256 atomId, uint256 curveId)
    external
    nonReentrant
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>the amount of shares to redeem</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receiver the assets</td></tr>
<tr><td><code>atomId</code></td><td><code>uint256</code></td><td>the vault ID of the atom</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>the vault ID of the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets the amount of assets/eth withdrawn</td></tr>
</tbody></table>
</div>
<h3 id="deposittriple-1"><a class="header" href="#deposittriple-1">depositTriple</a></h3>
<p>deposits assets of underlying tokens into a triple vault and grants ownership of 'shares' to 'receiver'
*payable msg.value amount of eth to deposit</p>
<p><em>assets parameter is omitted in favor of msg.value, unlike in ERC4626</em></p>
<p><em>this function will revert if the minimum deposit amount of eth is not met and
if the vault ID does not exist/is not a triple.</em></p>
<pre><code class="language-solidity">function depositTriple(address receiver, uint256 id) external payable nonReentrant whenNotPaused returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receive the shares</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>the vault ID of the triple</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares the amount of shares minted</td></tr>
</tbody></table>
</div>
<h3 id="deposittriplecurve-1"><a class="header" href="#deposittriplecurve-1">depositTripleCurve</a></h3>
<p>deposit eth into a bonding curve triple vault and grant ownership of 'shares' to 'receiver'
*payable msg.value amount of eth to deposit</p>
<p><em>assets parameter is omitted in favor of msg.value, unlike in ERC4626</em></p>
<p><em>This method is entirely separate from depositTriple, because we wanted to leave the audited pathways intact.
This serves as an intermediary solution to enable users to interact with bonding curve vaults before
performing an audit of the full refactor (V2).</em></p>
<pre><code class="language-solidity">function depositTripleCurve(address receiver, uint256 tripleId, uint256 curveId)
    external
    payable
    nonReentrant
    whenNotPaused
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receive the shares</td></tr>
<tr><td><code>tripleId</code></td><td><code>uint256</code></td><td>the vault ID of the triple</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>the vault ID of the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares the amount of shares minted</td></tr>
</tbody></table>
</div>
<h3 id="redeemtriple-1"><a class="header" href="#redeemtriple-1">redeemTriple</a></h3>
<p>redeems 'shares' number of shares from the triple vault and send 'assets' eth
from the contract to 'reciever' factoring in exit fees</p>
<p><em>Emergency redemptions without any fees being charged are always possible, even if the contract is paused
See <code>getRedeemAssetsAndFees</code> for more details on the fees charged</em></p>
<pre><code class="language-solidity">function redeemTriple(uint256 shares, address receiver, uint256 id) external nonReentrant returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>the amount of shares to redeem</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receiver the assets</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>the vault ID of the triple</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets the amount of assets/eth withdrawn</td></tr>
</tbody></table>
</div>
<h3 id="redeemtriplecurve-1"><a class="header" href="#redeemtriplecurve-1">redeemTripleCurve</a></h3>
<p>redeem shares from a bonding curve triple vault for assets</p>
<p><em>This method is entirely separate from redeemTriple, because we wanted to leave the audited pathways intact.
This serves as an intermediary solution to enable users to interact with bonding curve vaults before
performing an audit of the full refactor (V2).</em></p>
<pre><code class="language-solidity">function redeemTripleCurve(uint256 shares, address receiver, uint256 tripleId, uint256 curveId)
    external
    nonReentrant
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>the amount of shares to redeem</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receiver the assets</td></tr>
<tr><td><code>tripleId</code></td><td><code>uint256</code></td><td>the vault ID of the triple</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>the vault ID of the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets the amount of assets/eth withdrawn</td></tr>
</tbody></table>
</div>
<h3 id="batchdeposit-1"><a class="header" href="#batchdeposit-1">batchDeposit</a></h3>
<p>deposit eth into multiple terms and grant ownership of 'shares' to 'reciever'
*payable msg.value amount of eth to deposit
works with atoms, triples, and counter-triples</p>
<p><em>this function will revert if the minimum deposit amount of eth is not met and
if a vault ID does not exist/is not an atom.</em></p>
<pre><code class="language-solidity">function batchDeposit(address receiver, uint256[] calldata termIds, uint256[] calldata amounts)
    external
    payable
    nonReentrant
    whenNotPaused
    returns (uint256[] memory shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receive the shares</td></tr>
<tr><td><code>termIds</code></td><td><code>uint256[]</code></td><td>the IDs of the terms (atoms, triples, or counter-triples) to deposit into</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>array of the amount to deposit in each vault</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256[]</code></td><td>the amount of shares minted for each atom</td></tr>
</tbody></table>
</div>
<h3 id="batchdepositcurve-1"><a class="header" href="#batchdepositcurve-1">batchDepositCurve</a></h3>
<p>deposit eth into an atom vault and grant ownership of 'shares' to 'reciever'
*payable msg.value amount of eth to deposit</p>
<p><em>assets parameter is omitted in favor of msg.value, unlike in ERC4626</em></p>
<p><em>this function will revert if the minimum deposit amount of eth is not met and
if the vault ID does not exist/is not an atom.</em></p>
<p><em>This method is entirely separate from depositAtom, because we wanted to leave the audited pathways intact.
This serves as an intermediary solution to enable users to interact with bonding curve vaults before
performing an audit of the full refactor (V2).</em></p>
<pre><code class="language-solidity">function batchDepositCurve(
    address receiver,
    uint256[] calldata termIds,
    uint256[] calldata curveIds,
    uint256[] calldata amounts
) external payable nonReentrant whenNotPaused returns (uint256[] memory shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receive the shares</td></tr>
<tr><td><code>termIds</code></td><td><code>uint256[]</code></td><td>array of the vault IDs of the terms (atoms, triples, or counter-triples)</td></tr>
<tr><td><code>curveIds</code></td><td><code>uint256[]</code></td><td>array of the vault IDs of the curves</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>array of the amount to deposit in each vault</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256[]</code></td><td>array of the amount of shares minted in the specified vaults</td></tr>
</tbody></table>
</div>
<h3 id="batchredeem-1"><a class="header" href="#batchredeem-1">batchRedeem</a></h3>
<p>redeem shares from an atom vault for assets -- works for atoms, triples and counter-triples</p>
<p><em>Emergency redemptions without any fees being charged are always possible, even if the contract is paused
See <code>getRedeemAssetsAndFees</code> for more details on the fees charged</em></p>
<pre><code class="language-solidity">function batchRedeem(uint256 percentage, address receiver, uint256[] calldata ids)
    external
    nonReentrant
    returns (uint256[] memory assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>percentage</code></td><td><code>uint256</code></td><td>the percentage of shares to redeem from each vault (10000 -&gt; 100.00%, 5000 -&gt; 50.00%, etc)</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receiver the assets</td></tr>
<tr><td><code>ids</code></td><td><code>uint256[]</code></td><td>array of IDs of the term (atom, triple or counter-triple) to redeem from</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256[]</code></td><td>the amount of assets/eth withdrawn</td></tr>
</tbody></table>
</div>
<h3 id="batchredeemcurve-1"><a class="header" href="#batchredeemcurve-1">batchRedeemCurve</a></h3>
<p>redeem shares from bonding curve atom vaults for assets</p>
<pre><code class="language-solidity">function batchRedeemCurve(uint256 percentage, address receiver, uint256[] calldata termIds, uint256[] calldata curveIds)
    external
    nonReentrant
    returns (uint256[] memory assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>percentage</code></td><td><code>uint256</code></td><td>the percentage of shares to redeem from the vaults (10000 -&gt; 100.00%, 5000 -&gt; 50.00%, etc)</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receiver the assets</td></tr>
<tr><td><code>termIds</code></td><td><code>uint256[]</code></td><td>array of the IDs of the terms (atoms, triples, or counter-triples)</td></tr>
<tr><td><code>curveIds</code></td><td><code>uint256[]</code></td><td>array of the IDs of the curves for each term</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256[]</code></td><td>array of the amounts of assets/eth withdrawn</td></tr>
</tbody></table>
</div>
<h3 id="_transferfeestoprotocolmultisig"><a class="header" href="#_transferfeestoprotocolmultisig">_transferFeesToProtocolMultisig</a></h3>
<p><em>transfer fees to the protocol multisig</em></p>
<pre><code class="language-solidity">function _transferFeesToProtocolMultisig(uint256 value) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>the amount of eth to transfer</td></tr>
</tbody></table>
</div>
<h3 id="_depositconstituentatoms"><a class="header" href="#_depositconstituentatoms">_depositConstituentAtoms</a></h3>
<p><em>divides amount across the three atoms composing the triple and issues shares to
the receiver. Doesn't charge additional protocol fees, but it does charge entry fees on each deposit
into an atom vault.</em></p>
<p><em>assumes funds have already been transferred to this contract</em></p>
<pre><code class="language-solidity">function _depositConstituentAtoms(uint256 id, address receiver, uint256 amount) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>the vault ID of the triple</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receive the shares</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>the amount of eth to deposit</td></tr>
</tbody></table>
</div>
<h3 id="_depositconstituentatomscurve"><a class="header" href="#_depositconstituentatomscurve">_depositConstituentAtomsCurve</a></h3>
<pre><code class="language-solidity">function _depositConstituentAtomsCurve(uint256 tripleId, uint256 curveId, address receiver, uint256 amount) internal;
</code></pre>
<h3 id="_depositonvaultcreation"><a class="header" href="#_depositonvaultcreation">_depositOnVaultCreation</a></h3>
<p><em>deposit assets into a vault upon creation.
Changes the vault's total assets, total shares and balanceOf mappings to reflect the deposit.
Additionally, initializes a counter vault with ghost shares.</em></p>
<pre><code class="language-solidity">function _depositOnVaultCreation(uint256 id, address receiver, uint256 assets) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>the vault ID of the atom or triple</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receive the shares</td></tr>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>the amount of eth to deposit</td></tr>
</tbody></table>
</div>
<h3 id="_deposit"><a class="header" href="#_deposit">_deposit</a></h3>
<p>Initialize the counter triple vault with ghost shares if it is a triple creation flow</p>
<p>Internal function to encapsulate the common deposit logic for both atoms and triples</p>
<pre><code class="language-solidity">function _deposit(address receiver, uint256 id, uint256 value) internal returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receive the shares</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>the vault ID of the atom or triple</td></tr>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>the amount of eth to deposit</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>sharesForReceiver the amount of shares minted</td></tr>
</tbody></table>
</div>
<h3 id="_depositcurve"><a class="header" href="#_depositcurve">_depositCurve</a></h3>
<pre><code class="language-solidity">function _depositCurve(address receiver, uint256 id, uint256 curveId, uint256 value) internal returns (uint256);
</code></pre>
<h3 id="_redeem"><a class="header" href="#_redeem">_redeem</a></h3>
<p><em>redeem shares out of a given vault.
Changes the vault's total assets, total shares and balanceOf mappings to reflect the withdrawal</em></p>
<pre><code class="language-solidity">function _redeem(uint256 id, address sender, address receiver, uint256 shares) internal returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>the vault ID of the atom or triple</td></tr>
<tr><td><code>sender</code></td><td><code>address</code></td><td>the address to redeem the shares from</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receive the assets</td></tr>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>the amount of shares to redeem</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assetsForReceiver the amount of assets/eth to be transferred to the receiver</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>protocolFee the amount of protocol fees deducted</td></tr>
</tbody></table>
</div>
<h3 id="_redeemcurve"><a class="header" href="#_redeemcurve">_redeemCurve</a></h3>
<p><em>redeem shares out of a given bonding curve vault.
Changes the vault's total assets, total shares and balanceOf mappings to reflect the withdrawal</em></p>
<pre><code class="language-solidity">function _redeemCurve(uint256 id, uint256 curveId, address sender, address receiver, uint256 shares)
    internal
    returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>the vault ID of the atom or triple</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>the vault ID of the curve</td></tr>
<tr><td><code>sender</code></td><td><code>address</code></td><td>the address to redeem the shares from</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the address to receive the assets</td></tr>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>the amount of shares to redeem</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assetsForReceiver the amount of assets/eth to be transferred to the receiver</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>protocolFee the amount of protocol fees deducted</td></tr>
</tbody></table>
</div>
<h3 id="_mint"><a class="header" href="#_mint">_mint</a></h3>
<p><em>mint vault shares of vault ID <code>id</code> to address <code>to</code></em></p>
<pre><code class="language-solidity">function _mint(address to, uint256 id, uint256 amount) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>to</code></td><td><code>address</code></td><td>address to mint shares to</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault ID to mint shares for</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>amount of shares to mint</td></tr>
</tbody></table>
</div>
<h3 id="_mintcurve"><a class="header" href="#_mintcurve">_mintCurve</a></h3>
<pre><code class="language-solidity">function _mintCurve(address to, uint256 id, uint256 curveId, uint256 amount) internal;
</code></pre>
<h3 id="_burn"><a class="header" href="#_burn">_burn</a></h3>
<p><em>burn <code>amount</code> vault shares of vault ID <code>id</code> from address <code>from</code></em></p>
<pre><code class="language-solidity">function _burn(address from, uint256 id, uint256 amount) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>from</code></td><td><code>address</code></td><td>address to burn shares from</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault ID to burn shares from</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>amount of shares to burn</td></tr>
</tbody></table>
</div>
<h3 id="_burncurve"><a class="header" href="#_burncurve">_burnCurve</a></h3>
<pre><code class="language-solidity">function _burnCurve(address from, uint256 id, uint256 curveId, uint256 amount) internal;
</code></pre>
<h3 id="_setvaulttotals"><a class="header" href="#_setvaulttotals">_setVaultTotals</a></h3>
<p><em>set total assets and shares for a vault</em></p>
<pre><code class="language-solidity">function _setVaultTotals(uint256 id, uint256 totalAssets, uint256 totalShares) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault ID to set totals for</td></tr>
<tr><td><code>totalAssets</code></td><td><code>uint256</code></td><td>new total assets for the vault</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>new total shares for the vault</td></tr>
</tbody></table>
</div>
<h3 id="_increasecurvevaulttotals"><a class="header" href="#_increasecurvevaulttotals">_increaseCurveVaultTotals</a></h3>
<p><em>increase the total assets and shares for a given bonding curve vault</em></p>
<p><em>emits an event, as this affects the share price of the specified bonding curve vault</em></p>
<pre><code class="language-solidity">function _increaseCurveVaultTotals(uint256 id, uint256 curveId, uint256 assetsDelta, uint256 sharesDelta) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>the vault ID of the atom or triple</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>the vault ID of the curve</td></tr>
<tr><td><code>assetsDelta</code></td><td><code>uint256</code></td><td>the amount of assets to increase the total assets by</td></tr>
<tr><td><code>sharesDelta</code></td><td><code>uint256</code></td><td>the amount of shares to increase the total shares by</td></tr>
</tbody></table>
</div>
<h3 id="_decreasecurvevaulttotals"><a class="header" href="#_decreasecurvevaulttotals">_decreaseCurveVaultTotals</a></h3>
<p><em>decrease the total assets and shares for a given bonding curve vault</em></p>
<p><em>emits an event, as this affects the share price of the specified bonding curve vault</em></p>
<pre><code class="language-solidity">function _decreaseCurveVaultTotals(uint256 id, uint256 curveId, uint256 assetsDelta, uint256 sharesDelta) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>the vault ID of the atom or triple</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>the vault ID of the curve</td></tr>
<tr><td><code>assetsDelta</code></td><td><code>uint256</code></td><td>the amount of assets to decrease the total assets by</td></tr>
<tr><td><code>sharesDelta</code></td><td><code>uint256</code></td><td>the amount of shares to decrease the total shares by</td></tr>
</tbody></table>
</div>
<h3 id="_createvault"><a class="header" href="#_createvault">_createVault</a></h3>
<p><em>internal method for vault creation</em></p>
<pre><code class="language-solidity">function _createVault() internal returns (uint256);
</code></pre>
<h3 id="getatomcost-1"><a class="header" href="#getatomcost-1">getAtomCost</a></h3>
<p>returns the cost of creating an atom</p>
<pre><code class="language-solidity">function getAtomCost() public view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>atomCost the cost of creating an atom</td></tr>
</tbody></table>
</div>
<h3 id="gettriplecost-1"><a class="header" href="#gettriplecost-1">getTripleCost</a></h3>
<p>returns the cost of creating a triple</p>
<pre><code class="language-solidity">function getTripleCost() public view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>tripleCost the cost of creating a triple</td></tr>
</tbody></table>
</div>
<h3 id="getdepositfees-1"><a class="header" href="#getdepositfees-1">getDepositFees</a></h3>
<p>returns the total fees that would be charged for depositing 'assets' into a vault</p>
<pre><code class="language-solidity">function getDepositFees(uint256 assets, uint256 id) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of <code>assets</code> to calculate fees on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding fees for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>totalFees total fees that would be charged for depositing 'assets' into a vault</td></tr>
</tbody></table>
</div>
<h3 id="getdepositsharesandfees-1"><a class="header" href="#getdepositsharesandfees-1">getDepositSharesAndFees</a></h3>
<p>returns the shares for recipient and other important values when depositing 'assets' into a vault</p>
<pre><code class="language-solidity">function getDepositSharesAndFees(uint256 assets, uint256 id) public view returns (uint256, uint256, uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of <code>assets</code> to calculate fees on (should always be msg.value - protocolFee)</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding fees for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>totalAssetsDelta changes in vault's total assets</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>sharesForReceiver changes in vault's total shares (shares owed to receiver)</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>userAssetsAfterTotalFees amount of assets that goes towards minting shares for the receiver</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>entryFee amount of assets that would be charged for the entry fee</td></tr>
</tbody></table>
</div>
<h3 id="getdepositsharesandfeescurve-1"><a class="header" href="#getdepositsharesandfeescurve-1">getDepositSharesAndFeesCurve</a></h3>
<pre><code class="language-solidity">function getDepositSharesAndFeesCurve(uint256 assets, uint256 id, uint256 curveId)
    public
    view
    returns (uint256, uint256, uint256, uint256);
</code></pre>
<h3 id="getredeemassetsandfees-1"><a class="header" href="#getredeemassetsandfees-1">getRedeemAssetsAndFees</a></h3>
<p>returns the assets for receiver and other important values when redeeming 'shares' from a vault</p>
<pre><code class="language-solidity">function getRedeemAssetsAndFees(uint256 shares, uint256 id) public view returns (uint256, uint256, uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>amount of <code>shares</code> to calculate fees on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding fees for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>totalUserAssets total amount of assets user would receive if redeeming 'shares', not including fees</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assetsForReceiver amount of assets that is redeemable by the receiver</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>protocolFee amount of assets that would be sent to the protocol multisig</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>exitFee amount of assets that would be charged for the exit fee</td></tr>
</tbody></table>
</div>
<h3 id="getredeemassetsandfeescurve-1"><a class="header" href="#getredeemassetsandfeescurve-1">getRedeemAssetsAndFeesCurve</a></h3>
<pre><code class="language-solidity">function getRedeemAssetsAndFeesCurve(uint256 shares, uint256 id, uint256 curveId)
    public
    view
    returns (uint256, uint256, uint256, uint256);
</code></pre>
<h3 id="entryfeeamount-1"><a class="header" href="#entryfeeamount-1">entryFeeAmount</a></h3>
<p>returns amount of assets that would be charged for the entry fee given an amount of 'assets' provided</p>
<p><em>if the vault being deposited on has a vault total shares of 0, the entry fee is not applied</em></p>
<pre><code class="language-solidity">function entryFeeAmount(uint256 assets, uint256 id) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of assets to calculate fee on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding fees for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>feeAmount amount of assets that would be charged for the entry fee</td></tr>
</tbody></table>
</div>
<h3 id="exitfeeamount-1"><a class="header" href="#exitfeeamount-1">exitFeeAmount</a></h3>
<p>returns amount of assets that would be charged for the exit fee given an amount of 'assets' provided</p>
<p><em>if the vault  being redeemed from given the shares to redeem results in a total shares after of 0,
the exit fee is not applied</em></p>
<pre><code class="language-solidity">function exitFeeAmount(uint256 assets, uint256 id) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of assets to calculate fee on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding fees for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>feeAmount amount of assets that would be charged for the exit fee</td></tr>
</tbody></table>
</div>
<h3 id="protocolfeeamount-1"><a class="header" href="#protocolfeeamount-1">protocolFeeAmount</a></h3>
<p>returns amount of assets that would be charged by a vault on protocol fee given amount of 'assets'
provided</p>
<pre><code class="language-solidity">function protocolFeeAmount(uint256 assets, uint256 id) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of assets to calculate fee on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding fees for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>feeAmount amount of assets that would be charged by vault on protocol fee</td></tr>
</tbody></table>
</div>
<h3 id="atomdepositsamount-1"><a class="header" href="#atomdepositsamount-1">atomDepositsAmount</a></h3>
<p>returns atom deposit given amount of 'assets' provided</p>
<p><em>only applies to triple vaults</em></p>
<pre><code class="language-solidity">function atomDepositsAmount(uint256 assets, uint256 id) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of assets to calculate fee on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>feeAmount amount of assets that would be used as atom deposit</td></tr>
</tbody></table>
</div>
<h3 id="_feeonraw"><a class="header" href="#_feeonraw">_feeOnRaw</a></h3>
<p>calculates fee on raw amount</p>
<pre><code class="language-solidity">function _feeOnRaw(uint256 amount, uint256 fee) internal view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>amount of assets to calculate fee on</td></tr>
<tr><td><code>fee</code></td><td><code>uint256</code></td><td>fee in %</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>amount of assets that would be charged as fee</td></tr>
</tbody></table>
</div>
<h3 id="currentshareprice-1"><a class="header" href="#currentshareprice-1">currentSharePrice</a></h3>
<p>returns the current share price for the given vault id</p>
<pre><code class="language-solidity">function currentSharePrice(uint256 id) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding share price for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>price current share price for the given vault id, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="currentsharepricecurve-1"><a class="header" href="#currentsharepricecurve-1">currentSharePriceCurve</a></h3>
<p>returns the current share price for the given vault id and curve id</p>
<pre><code class="language-solidity">function currentSharePriceCurve(uint256 id, uint256 curveId) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding share price for</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>curve id to get corresponding share price for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>price current share price for the given vault id and curve id, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="maxdeposit"><a class="header" href="#maxdeposit">maxDeposit</a></h3>
<p>returns max amount of eth that can be deposited into the vault</p>
<pre><code class="language-solidity">function maxDeposit() public pure returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>maxDeposit max amount of eth that can be deposited into the vault</td></tr>
</tbody></table>
</div>
<h3 id="maxdepositcurve-1"><a class="header" href="#maxdepositcurve-1">maxDepositCurve</a></h3>
<p>returns max amount of assets that can be deposited into a bonding curve vault</p>
<p><em>Tells the registry to ask the specified curve what its asset limits are.</em></p>
<pre><code class="language-solidity">function maxDepositCurve(uint256 curveId) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>the vault ID of the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>maxDepositCurve max amount of assets that can be deposited into the bonding curve vault</td></tr>
</tbody></table>
</div>
<h3 id="maxredeem-1"><a class="header" href="#maxredeem-1">maxRedeem</a></h3>
<p>returns max amount of shares that can be redeemed from the 'sender' balance through a redeem call</p>
<pre><code class="language-solidity">function maxRedeem(address sender, uint256 id) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sender</code></td><td><code>address</code></td><td>address of the account to get max redeemable shares for</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding shares for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares amount of shares that can be redeemed from the 'sender' balance through a redeem call</td></tr>
</tbody></table>
</div>
<h3 id="maxredeemcurve-1"><a class="header" href="#maxredeemcurve-1">maxRedeemCurve</a></h3>
<p>returns max amount of shares that can be redeemed from a bonding curve vault</p>
<pre><code class="language-solidity">function maxRedeemCurve(address sender, uint256 id, uint256 curveId) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sender</code></td><td><code>address</code></td><td>the address to redeem the shares from</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>the vault ID of the atom or triple</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>the vault ID of the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares the amount of shares that can be redeemed from the 'sender' balance through a redeem call</td></tr>
</tbody></table>
</div>
<h3 id="converttoshares-5"><a class="header" href="#converttoshares-5">convertToShares</a></h3>
<p>returns amount of shares that would be exchanged by vault given amount of 'assets' provided</p>
<p>For regular vaults, shares maintain a linear relationship with assets:
$shares = assets \cdot \frac{S_{total}}{A_{total}}$</p>
<h3 id="where"><a class="header" href="#where">Where:</a></h3>
<p>$S_{total}$ = the total supply of shares
$A_{total}$ = the total assets in the vault</p>
<p><em>TLDR: Since assets and shares maintain a 1:1 relationship, we only need simple proportion math.
No domain conversion needed because 1 dollar worth of assets always equals 1 dollar worth of shares.</em></p>
<pre><code class="language-solidity">function convertToShares(uint256 assets, uint256 id) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of assets to calculate shares on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding shares for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares amount of shares that would be exchanged by vault given amount of 'assets' provided</td></tr>
</tbody></table>
</div>
<h3 id="converttosharescurve-1"><a class="header" href="#converttosharescurve-1">convertToSharesCurve</a></h3>
<p>returns amount of shares that would be exchanged by vault given amount of 'assets' provided</p>
<p>The conversion happens in two steps:</p>
<ol>
<li>First, we get the base shares from the bonding curve:
$$s_{base} = f_{curve}(assets)$$</li>
</ol>
<pre><code class="language-solidity">function convertToSharesCurve(uint256 assets, uint256 id, uint256 curveId) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of assets to calculate shares on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding shares for</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>vault id of the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares amount of shares that would be exchanged by vault given amount of 'assets' provided</td></tr>
</tbody></table>
</div>
<h3 id="converttoassets-5"><a class="header" href="#converttoassets-5">convertToAssets</a></h3>
<p>returns amount of assets that would be exchanged by vault given amount of 'shares' provided</p>
<p>For regular vaults, assets maintain a linear relationship with shares:
$assets = shares \cdot \frac{A_{total}}{S_{total}}$</p>
<h3 id="where-1"><a class="header" href="#where-1">Where:</a></h3>
<ul>
<li>$S_{total}$ is the total supply of shares</li>
<li>$A_{total}$ is the total assets in the vault</li>
</ul>
<p><em>TLDR: Since assets and shares maintain a 1:1 relationship, we only need simple proportion math.
No domain conversion needed because 1 dollar worth of shares always equals 1 dollar worth of assets.</em></p>
<pre><code class="language-solidity">function convertToAssets(uint256 shares, uint256 id) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>amount of shares to calculate assets on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding assets for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets amount of assets that would be exchanged by vault given amount of 'shares' provided</td></tr>
</tbody></table>
</div>
<h3 id="converttoassetscurve-1"><a class="header" href="#converttoassetscurve-1">convertToAssetsCurve</a></h3>
<p>returns amount of assets that would be exchanged by vault given amount of 'shares' provided</p>
<p>The conversion happens in two steps:</p>
<ol>
<li>First, we get the base assets from the bonding curve:
$$a_{base} = f_{curve}^{-1}(shares)$$</li>
</ol>
<pre><code class="language-solidity">function convertToAssetsCurve(uint256 shares, uint256 id, uint256 curveId) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>amount of shares to calculate assets on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding assets for</td></tr>
<tr><td><code>curveId</code></td><td><code>uint256</code></td><td>vault id of the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets amount of assets that would be exchanged by vault given amount of 'shares' provided</td></tr>
</tbody></table>
</div>
<h3 id="previewdeposit-5"><a class="header" href="#previewdeposit-5">previewDeposit</a></h3>
<p>simulates the effects of the deposited amount of 'assets' and returns the estimated
amount of shares that would be minted from the deposit of <code>assets</code></p>
<p><em>this function pessimistically estimates the amount of shares that would be minted from the
input amount of assets so if the vault is empty before the deposit the caller receives more
shares than returned by this function, reference internal _depositIntoVault logic for details</em></p>
<pre><code class="language-solidity">function previewDeposit(uint256 assets, uint256 id) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>amount of assets to calculate shares on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding shares for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares amount of shares that would be minted from the deposit of <code>assets</code></td></tr>
</tbody></table>
</div>
<h3 id="previewdepositcurve-1"><a class="header" href="#previewdepositcurve-1">previewDepositCurve</a></h3>
<pre><code class="language-solidity">function previewDepositCurve(uint256 assets, uint256 id, uint256 curveId) public view returns (uint256);
</code></pre>
<h3 id="previewredeem-5"><a class="header" href="#previewredeem-5">previewRedeem</a></h3>
<p>simulates the effects of the redemption of <code>shares</code> and returns the estimated
amount of assets estimated to be returned to the receiver of the redeem</p>
<pre><code class="language-solidity">function previewRedeem(uint256 shares, uint256 id) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>amount of shares to calculate assets on</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to get corresponding assets for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets amount of assets estimated to be returned to the receiver</td></tr>
</tbody></table>
</div>
<h3 id="previewredeemcurve-1"><a class="header" href="#previewredeemcurve-1">previewRedeemCurve</a></h3>
<pre><code class="language-solidity">function previewRedeemCurve(uint256 shares, uint256 id, uint256 curveId) public view returns (uint256);
</code></pre>
<h3 id="triplehash-1"><a class="header" href="#triplehash-1">tripleHash</a></h3>
<p>returns the corresponding hash for the given RDF triple, given the triple vault id</p>
<p><em>only applies to triple vault IDs as input</em></p>
<pre><code class="language-solidity">function tripleHash(uint256 id) public view returns (bytes32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id of the triple</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td>hash the corresponding hash for the given RDF triple</td></tr>
</tbody></table>
</div>
<h3 id="istripleid-1"><a class="header" href="#istripleid-1">isTripleId</a></h3>
<p>returns whether the supplied vault id is a triple</p>
<pre><code class="language-solidity">function isTripleId(uint256 id) public view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id to check</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool whether the supplied vault id is a triple</td></tr>
</tbody></table>
</div>
<h3 id="gettripleatoms-1"><a class="header" href="#gettripleatoms-1">getTripleAtoms</a></h3>
<p>returns the atoms that make up a triple/counter-triple</p>
<p><em>only applies to triple vault IDs as input</em></p>
<pre><code class="language-solidity">function getTripleAtoms(uint256 id) public view returns (uint256, uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id of the triple/counter-triple</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>tuple(atomIds) the atoms that make up the triple/counter-triple</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="triplehashfromatoms-1"><a class="header" href="#triplehashfromatoms-1">tripleHashFromAtoms</a></h3>
<p>returns the corresponding hash for the given RDF triple, given the atoms that make up the triple</p>
<pre><code class="language-solidity">function tripleHashFromAtoms(uint256 subjectId, uint256 predicateId, uint256 objectId) public pure returns (bytes32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>subjectId</code></td><td><code>uint256</code></td><td>the subject atom's vault id</td></tr>
<tr><td><code>predicateId</code></td><td><code>uint256</code></td><td>the predicate atom's vault id</td></tr>
<tr><td><code>objectId</code></td><td><code>uint256</code></td><td>the object atom's vault id</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td>hash the corresponding hash for the given RDF triple based on the atom vault ids</td></tr>
</tbody></table>
</div>
<h3 id="getcounteridfromtriple-1"><a class="header" href="#getcounteridfromtriple-1">getCounterIdFromTriple</a></h3>
<p>returns the counter id from the given triple id</p>
<p><em>only applies to triple vault IDs as input</em></p>
<pre><code class="language-solidity">function getCounterIdFromTriple(uint256 id) public pure returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id of the triple</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>counterId the counter vault id from the given triple id</td></tr>
</tbody></table>
</div>
<h3 id="getatomwarden-1"><a class="header" href="#getatomwarden-1">getAtomWarden</a></h3>
<p>returns the address of the atom warden</p>
<pre><code class="language-solidity">function getAtomWarden() external view returns (address);
</code></pre>
<h3 id="getvaultstateforuser-1"><a class="header" href="#getvaultstateforuser-1">getVaultStateForUser</a></h3>
<p>returns the number of shares and assets (less fees) user has in the vault</p>
<pre><code class="language-solidity">function getVaultStateForUser(uint256 vaultId, address receiver) external view returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>vaultId</code></td><td><code>uint256</code></td><td>vault id of the vault</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>address of the receiver</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares number of shares user has in the vault</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets number of assets user has in the vault</td></tr>
</tbody></table>
</div>
<h3 id="getvaultstateforusercurve"><a class="header" href="#getvaultstateforusercurve">getVaultStateForUserCurve</a></h3>
<pre><code class="language-solidity">function getVaultStateForUserCurve(uint256 vaultId, uint256 curveId, address receiver)
    external
    view
    returns (uint256, uint256);
</code></pre>
<h3 id="getcurvevaultstate"><a class="header" href="#getcurvevaultstate">getCurveVaultState</a></h3>
<pre><code class="language-solidity">function getCurveVaultState(uint256 termId, uint256 curveId) external view returns (uint256, uint256);
</code></pre>
<h3 id="computeatomwalletaddr-1"><a class="header" href="#computeatomwalletaddr-1">computeAtomWalletAddr</a></h3>
<p>returns the Atom Wallet address for the given atom data</p>
<p><em>the create2 salt is based off of the vault ID</em></p>
<pre><code class="language-solidity">function computeAtomWalletAddr(uint256 id) public view returns (address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>vault id of the atom associated to the atom wallet</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>atomWallet the address of the atom wallet</td></tr>
</tbody></table>
</div>
<h3 id="isapproveddeposit-1"><a class="header" href="#isapproveddeposit-1">isApprovedDeposit</a></h3>
<p>Check if a sender is approved to deposit on behalf of a receiver</p>
<pre><code class="language-solidity">function isApprovedDeposit(address sender, address receiver) public view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sender</code></td><td><code>address</code></td><td>The address of the sender</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The address of the receiver</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool Whether the sender is approved to deposit</td></tr>
</tbody></table>
</div>
<h3 id="isapprovedredeem-1"><a class="header" href="#isapprovedredeem-1">isApprovedRedeem</a></h3>
<p>Check if a sender is approved to redeem on behalf of a receiver</p>
<pre><code class="language-solidity">function isApprovedRedeem(address sender, address receiver) public view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sender</code></td><td><code>address</code></td><td>The address of the sender</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The address of the receiver</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool Whether the sender is approved to redeem</td></tr>
</tbody></table>
</div>
<h3 id="_hascounterstake"><a class="header" href="#_hascounterstake">_hasCounterStake</a></h3>
<p><em>checks if an account holds shares in the vault counter to the id provided</em></p>
<pre><code class="language-solidity">function _hasCounterStake(uint256 id, address receiver) internal view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>the id of the vault to check</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>the account to check</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool whether the account holds shares in the counter vault to the id provided or not</td></tr>
</tbody></table>
</div>
<h3 id="_hascounterstakecurve"><a class="header" href="#_hascounterstakecurve">_hasCounterStakeCurve</a></h3>
<pre><code class="language-solidity">function _hasCounterStakeCurve(uint256 id, uint256 curveId, address receiver) internal view returns (bool);
</code></pre>
<h3 id="_getdeploymentdata"><a class="header" href="#_getdeploymentdata">_getDeploymentData</a></h3>
<p><em>returns the deployment data for the AtomWallet contract</em></p>
<pre><code class="language-solidity">function _getDeploymentData() internal view returns (bytes memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes</code></td><td>bytes memory the deployment data for the AtomWallet contract (using BeaconProxy pattern)</td></tr>
</tbody></table>
</div>
<h3 id="_validatetimelock"><a class="header" href="#_validatetimelock">_validateTimelock</a></h3>
<p><em>internal method to validate the timelock constraints</em></p>
<pre><code class="language-solidity">function _validateTimelock(bytes32 operationHash) internal view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>operationHash</code></td><td><code>bytes32</code></td><td>hash of the operation</td></tr>
</tbody></table>
</div>
<h3 id="_registry"><a class="header" href="#_registry">_registry</a></h3>
<pre><code class="language-solidity">function _registry() internal view returns (IBondingCurveRegistry);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="linearcurve-1"><a class="header" href="#linearcurve-1">LinearCurve</a></h1>
<p><a href="https://github.com/0xIntuition/intuition-beta-contracts/blob/b0ea23601a4ad6822949563dc7e770696d588bfe/src/LinearCurve.sol">Git Source</a></p>
<h2 id="curve-visualization"><a class="header" href="#curve-visualization">Curve Visualization</a></h2>
<pre class="mermaid">%%{init: {&quot;xychart&quot;: {&quot;showTitle&quot;: true}} }%%
</pre>
<pre class="mermaid">xychart-beta
    title &quot;Linear Curve&quot;
    x-axis &quot;Assets (ETH)&quot; [0.000000000000000000, 1.000000000000000000, 2.000000000000000000, 3.000000000000000000, 4.000000000000000000, 5.000000000000000000, 6.000000000000000000, 7.000000000000000000, 8.000000000000000000, 9.000000000000000000, 10.000000000000000000, 11.000000000000000000, 12.000000000000000000, 13.000000000000000000, 14.000000000000000000, 15.000000000000000000, 16.000000000000000000, 17.000000000000000000, 18.000000000000000000, 19.000000000000000000, 20.000000000000000000, 21.000000000000000000, 22.000000000000000000, 23.000000000000000000, 24.000000000000000000, 25.000000000000000000, 26.000000000000000000, 27.000000000000000000, 28.000000000000000000, 29.000000000000000000, 30.000000000000000000, 31.000000000000000000, 32.000000000000000000, 33.000000000000000000, 34.000000000000000000, 35.000000000000000000, 36.000000000000000000, 37.000000000000000000, 38.000000000000000000, 39.000000000000000000, 40.000000000000000000, 41.000000000000000000, 42.000000000000000000, 43.000000000000000000, 44.000000000000000000, 45.000000000000000000, 46.000000000000000000, 47.000000000000000000, 48.000000000000000000, 49.000000000000000000, 50.000000000000000000, 51.000000000000000000, 52.000000000000000000, 53.000000000000000000, 54.000000000000000000, 55.000000000000000000, 56.000000000000000000, 57.000000000000000000, 58.000000000000000000, 59.000000000000000000, 60.000000000000000000, 61.000000000000000000, 62.000000000000000000, 63.000000000000000000, 64.000000000000000000, 65.000000000000000000, 66.000000000000000000, 67.000000000000000000, 68.000000000000000000, 69.000000000000000000, 70.000000000000000000, 71.000000000000000000, 72.000000000000000000, 73.000000000000000000, 74.000000000000000000, 75.000000000000000000, 76.000000000000000000, 77.000000000000000000, 78.000000000000000000, 79.000000000000000000, 80.000000000000000000, 81.000000000000000000, 82.000000000000000000, 83.000000000000000000, 84.000000000000000000, 85.000000000000000000, 86.000000000000000000, 87.000000000000000000, 88.000000000000000000, 89.000000000000000000, 90.000000000000000000, 91.000000000000000000, 92.000000000000000000, 93.000000000000000000, 94.000000000000000000, 95.000000000000000000, 96.000000000000000000, 97.000000000000000000, 98.000000000000000000, 99.000000000000000000]
    y-axis &quot;Shares&quot;
    line [0.000000000000000000, 1.000000000000000000, 2.000000000000000000, 3.000000000000000000, 4.000000000000000000, 5.000000000000000000, 6.000000000000000000, 7.000000000000000000, 8.000000000000000000, 9.000000000000000000, 10.000000000000000000, 11.000000000000000000, 12.000000000000000000, 13.000000000000000000, 14.000000000000000000, 15.000000000000000000, 16.000000000000000000, 17.000000000000000000, 18.000000000000000000, 19.000000000000000000, 20.000000000000000000, 21.000000000000000000, 22.000000000000000000, 23.000000000000000000, 24.000000000000000000, 25.000000000000000000, 26.000000000000000000, 27.000000000000000000, 28.000000000000000000, 29.000000000000000000, 30.000000000000000000, 31.000000000000000000, 32.000000000000000000, 33.000000000000000000, 34.000000000000000000, 35.000000000000000000, 36.000000000000000000, 37.000000000000000000, 38.000000000000000000, 39.000000000000000000, 40.000000000000000000, 41.000000000000000000, 42.000000000000000000, 43.000000000000000000, 44.000000000000000000, 45.000000000000000000, 46.000000000000000000, 47.000000000000000000, 48.000000000000000000, 49.000000000000000000, 50.000000000000000000, 51.000000000000000000, 52.000000000000000000, 53.000000000000000000, 54.000000000000000000, 55.000000000000000000, 56.000000000000000000, 57.000000000000000000, 58.000000000000000000, 59.000000000000000000, 60.000000000000000000, 61.000000000000000000, 62.000000000000000000, 63.000000000000000000, 64.000000000000000000, 65.000000000000000000, 66.000000000000000000, 67.000000000000000000, 68.000000000000000000, 69.000000000000000000, 70.000000000000000000, 71.000000000000000000, 72.000000000000000000, 73.000000000000000000, 74.000000000000000000, 75.000000000000000000, 76.000000000000000000, 77.000000000000000000, 78.000000000000000000, 79.000000000000000000, 80.000000000000000000, 81.000000000000000000, 82.000000000000000000, 83.000000000000000000, 84.000000000000000000, 85.000000000000000000, 86.000000000000000000, 87.000000000000000000, 88.000000000000000000, 89.000000000000000000, 90.000000000000000000, 91.000000000000000000, 92.000000000000000000, 93.000000000000000000, 94.000000000000000000, 95.000000000000000000, 96.000000000000000000, 97.000000000000000000, 98.000000000000000000, 99.000000000000000000]
</pre>
<p><strong>Inherits:</strong>
<a href="src/LinearCurve.sol//src/BaseCurve.sol/abstract.BaseCurve.html">BaseCurve</a></p>
<p><strong>Author:</strong>
0xIntuition</p>
<p>A simple 1:1 price model implemented as a bonding curve. This curve maintains
a direct linear relationship between assets and shares, where the conversion
follows the formula:
$$f(x) = x$$
where:</p>
<ul>
<li>$x$ represents either assets or shares to be converted</li>
<li>$f(x)$ returns the corresponding amount in the target unit</li>
</ul>
<p>The price mechanism relies on fee accumulation rather than supply-based pricing.
As fees are collected, they are distributed proportionally across all shareholders,
creating gradual appreciation in share value. This provides a conservative
incentivization model where early participants benefit from fee accumulation
over time.</p>
<p>This implementation offers a low-volatility approach to value accrual,
suitable for scenarios where predictable, steady returns are preferred
over dynamic pricing mechanisms.</p>
<p><em>This curve is not currently used in the EthMultiVault implementation to preserve
audited code. It serves as a reference implementation demonstrating how traditional
pro-rata share pricing can be adapted to the bonding curve architecture for future
versions.</em></p>
<h2 id="state-variables-4"><a class="header" href="#state-variables-4">State Variables</a></h2>
<h3 id="max_shares"><a class="header" href="#max_shares">MAX_SHARES</a></h3>
<p><em>Maximum number of shares that can be handled by the curve.</em></p>
<pre><code class="language-solidity">uint256 public constant MAX_SHARES = type(uint256).max;
</code></pre>
<h3 id="max_assets"><a class="header" href="#max_assets">MAX_ASSETS</a></h3>
<p><em>Maximum number of assets that can be handled by the curve.</em></p>
<pre><code class="language-solidity">uint256 public constant MAX_ASSETS = type(uint256).max;
</code></pre>
<h2 id="functions-8"><a class="header" href="#functions-8">Functions</a></h2>
<h3 id="constructor-3"><a class="header" href="#constructor-3">constructor</a></h3>
<p>Constructor for the Linear Curve.</p>
<pre><code class="language-solidity">constructor(string memory _name) BaseCurve(_name);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>string</code></td><td>The name of the curve.</td></tr>
</tbody></table>
</div>
<h3 id="previewdeposit-6"><a class="header" href="#previewdeposit-6">previewDeposit</a></h3>
<p>Computes the 1:1 relationship between assets &lt;--&gt; shares.</p>
<pre><code class="language-solidity">function previewDeposit(uint256 assets, uint256, uint256) external pure override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to deposit</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares The number of shares that would be minted</td></tr>
</tbody></table>
</div>
<h3 id="previewmint-4"><a class="header" href="#previewmint-4">previewMint</a></h3>
<p>Computes the 1:1 relationship between assets &lt;--&gt; shares.</p>
<pre><code class="language-solidity">function previewMint(uint256 shares, uint256, uint256) external pure override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to mint</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets The number of assets that would be required to mint the shares</td></tr>
</tbody></table>
</div>
<h3 id="previewwithdraw-4"><a class="header" href="#previewwithdraw-4">previewWithdraw</a></h3>
<p>Computes the 1:1 relationship between assets &lt;--&gt; shares.</p>
<pre><code class="language-solidity">function previewWithdraw(uint256 assets, uint256, uint256) external pure override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to withdraw</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares The number of shares that would need to be redeemed</td></tr>
</tbody></table>
</div>
<h3 id="previewredeem-6"><a class="header" href="#previewredeem-6">previewRedeem</a></h3>
<p>Computes the 1:1 relationship between assets &lt;--&gt; shares.</p>
<pre><code class="language-solidity">function previewRedeem(uint256 shares, uint256, uint256) external pure override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to burn</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets The number of assets that would be returned</td></tr>
</tbody></table>
</div>
<h3 id="converttoshares-6"><a class="header" href="#converttoshares-6">convertToShares</a></h3>
<p>Computes the 1:1 relationship between assets &lt;--&gt; shares.</p>
<pre><code class="language-solidity">function convertToShares(uint256 assets, uint256, uint256) external pure override returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to convert to shares</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares equivalent to the given assets</td></tr>
</tbody></table>
</div>
<h3 id="converttoassets-6"><a class="header" href="#converttoassets-6">convertToAssets</a></h3>
<p>Computes the 1:1 relationship between assets &lt;--&gt; shares.</p>
<pre><code class="language-solidity">function convertToAssets(uint256 shares, uint256, uint256) external pure override returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to convert to assets</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets equivalent to the given shares</td></tr>
</tbody></table>
</div>
<h3 id="currentprice-4"><a class="header" href="#currentprice-4">currentPrice</a></h3>
<p>In a linear curve, the base price will always be 1.  Pool ratio adjustments are dealt with in the EthMultiVault itself.</p>
<pre><code class="language-solidity">function currentPrice(uint256) public pure override returns (uint256 sharePrice);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharePrice</code></td><td><code>uint256</code></td><td>The current price of a share, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="maxshares-2"><a class="header" href="#maxshares-2">maxShares</a></h3>
<p>The maximum number of shares that this curve can handle without overflowing.</p>
<p><em>Checked by the EthMultiVault before transacting</em></p>
<pre><code class="language-solidity">function maxShares() external pure override returns (uint256);
</code></pre>
<h3 id="maxassets-2"><a class="header" href="#maxassets-2">maxAssets</a></h3>
<p>The maximum number of assets that this curve can handle without overflowing.</p>
<p><em>Checked by the EthMultiVault before transacting</em></p>
<pre><code class="language-solidity">function maxAssets() external pure override returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="offsetprogressivecurve"><a class="header" href="#offsetprogressivecurve">OffsetProgressiveCurve</a></h1>
<p><a href="https://github.com/0xIntuition/intuition-beta-contracts/blob/b0ea23601a4ad6822949563dc7e770696d588bfe/src/OffsetProgressiveCurve.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/OffsetProgressiveCurve.sol//src/BaseCurve.sol/abstract.BaseCurve.html">BaseCurve</a></p>
<p><strong>Author:</strong>
0xIntuition</p>
<p>A modified version of the Progressive bonding curve that introduces an offset parameter
to control the initial price dynamics.
The price follows the formula:
$$P(s) = m \cdot (s + \text{offset})$$
where:</p>
<ul>
<li>$m$ is the slope (in basis points)</li>
<li>$s$ is the total supply of shares</li>
<li>$\text{offset}$ shifts the starting point of the curve
The cost to mint shares is calculated as the area under this curve:
$$\text{Cost} = ((s_2 + \text{offset})^2 - (s_1 + \text{offset})^2) \cdot \frac{m}{2}$$
where $s_1$ is the starting share supply and $s_2$ is the final share supply.
The offset parameter allows for a more gradual initial price increase while maintaining
the progressive pricing structure.</li>
</ul>
<p><em>Uses the prb-math library for performant, precise fixed point arithmetic with UD60x18</em></p>
<p><em>Fixed point precision used for all internal calculations, while return values are all
represented as regular uint256s, and unwrapped.  I.e. we might use 123.456 internally
and return 123.</em></p>
<p><em>The core equation:
$$P(s) = m \cdot (s + \text{offset})$$
and the cost equation:
$$\text{Cost} = ((s_2 + \text{offset})^2 - (s_1 + \text{offset})^2) \cdot \frac{m}{2}$$
comes from calculus - it's the integral of our modified linear price function. The area under
the curve from point $s_1$ to $s_2$ gives us the total cost/return of minting/redeeming
shares, but now shifted by our offset parameter.</em></p>
<p><em>Inspired by the Solaxy.sol contract: https://github.com/M3tering/Solaxy/blob/main/src/Solaxy.sol
and https://m3tering.whynotswitch.com/token-economics/mint-and-distribution.  The key difference
between the Solaxy contract and this one is that the economic state is handled by the EthMultiVault
instead of directly in the curve implementation. The other significant difference is the inclusion
of the OFFSET value, which we use to make the curve more gentle.</em></p>
<h2 id="state-variables-5"><a class="header" href="#state-variables-5">State Variables</a></h2>
<h3 id="slope"><a class="header" href="#slope">SLOPE</a></h3>
<p>The slope of the curve, in basis points.  This is the rate at which the price of shares increases.</p>
<p><em>0.0025e18 -&gt; 25 basis points, 0.0001e18 = 1 basis point, etc etc</em></p>
<p><em>If minDeposit is 0.003 ether, this value would need to be 0.00007054e18 to avoid returning 0 shares for minDeposit assets</em></p>
<pre><code class="language-solidity">UD60x18 public SLOPE;
</code></pre>
<h3 id="offset"><a class="header" href="#offset">OFFSET</a></h3>
<p>The offset of the curve.  This value is used to snip off a portion of the beginning of the curve, realigning it to the
origin.  For more details, see the preview functions.</p>
<pre><code class="language-solidity">UD60x18 public OFFSET;
</code></pre>
<h3 id="half_slope"><a class="header" href="#half_slope">HALF_SLOPE</a></h3>
<p>The half of the slope, used for calculations.</p>
<pre><code class="language-solidity">UD60x18 public HALF_SLOPE;
</code></pre>
<h3 id="max_shares-1"><a class="header" href="#max_shares-1">MAX_SHARES</a></h3>
<p><em>Since powu(2) will overflow first (see slope equation), maximum totalShares is sqrt(MAX_UD60x18)</em></p>
<pre><code class="language-solidity">uint256 public MAX_SHARES;
</code></pre>
<h3 id="max_assets-1"><a class="header" href="#max_assets-1">MAX_ASSETS</a></h3>
<p><em>The maximum assets is totalShares * slope / 2, because multiplication (see slope equation) would overflow beyond that point.</em></p>
<pre><code class="language-solidity">uint256 public MAX_ASSETS;
</code></pre>
<h2 id="functions-9"><a class="header" href="#functions-9">Functions</a></h2>
<h3 id="constructor-4"><a class="header" href="#constructor-4">constructor</a></h3>
<p>Constructs a new ProgressiveCurve with the given name and slope</p>
<p><em>Computes maximum values given constructor arguments</em></p>
<p><em>Computes Slope / 2 as commonly used constant</em></p>
<pre><code class="language-solidity">constructor(string memory _name, uint256 slope18, uint256 offset18) BaseCurve(_name);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>string</code></td><td>The name of the curve (i.e. "Progressive Curve #465")</td></tr>
<tr><td><code>slope18</code></td><td><code>uint256</code></td><td>The slope of the curve, in basis points (i.e. 0.0025e18)</td></tr>
<tr><td><code>offset18</code></td><td><code>uint256</code></td><td>The offset of the curve, in basis points (i.e. 0.0001e18)</td></tr>
</tbody></table>
</div>
<h3 id="previewdeposit-7"><a class="header" href="#previewdeposit-7">previewDeposit</a></h3>
<p>Preview how many shares would be minted for a deposit of assets</p>
<p><em>Let $s$ = current total supply</em></p>
<p><em>Let $a$ = amount of assets to deposit</em></p>
<p><em>Let $\frac{m}{2}$ = half of the slope</em></p>
<p><em>Let $o$ = offset value</em></p>
<p><em>shares:
$$\text{shares} = \sqrt{(s + o)^2 + \frac{a}{m/2}} - (s + o)$$</em></p>
<p><em>or to say that another way:
$$\text{shares} = \sqrt{(s + o)^2 + \frac{2a}{m}} - (s + o)$$</em></p>
<pre><code class="language-solidity">function previewDeposit(uint256 assets, uint256, uint256 totalShares) external view override returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to deposit</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares that would be minted</td></tr>
</tbody></table>
</div>
<h3 id="previewredeem-7"><a class="header" href="#previewredeem-7">previewRedeem</a></h3>
<p>Preview how many assets would be returned for burning a specific amount of shares</p>
<p><em>Let $s$ = initial total supply of shares</em></p>
<p><em>Let $r$ = shares to redeem</em></p>
<p><em>Let $\frac{m}{2}$ = half of the slope</em></p>
<p><em>Let $o$ = offset value</em></p>
<p><em>assets:
$$\text{assets} = ((s + o)^2 - ((s - r + o)^2)) \cdot \frac{m}{2}$$</em></p>
<p><em>this can be expanded to:
$$\text{assets} = ((s + o)^2 - ((s + o)^2 - 2(s + o)r + r^2)) \cdot \frac{m}{2}$$</em></p>
<p><em>which simplifies to:
$$\text{assets} = (2(s + o)r - r^2) \cdot \frac{m}{2}$$</em></p>
<p><em>Implementation note: This formula is computed via the _convertToAssets helper,</em></p>
<p><em>where juniorSupply = (s - r + o) and seniorSupply = (s + o)</em></p>
<pre><code class="language-solidity">function previewRedeem(uint256 shares, uint256 totalShares, uint256) public view override returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to burn</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets that would be returned</td></tr>
</tbody></table>
</div>
<h3 id="previewmint-5"><a class="header" href="#previewmint-5">previewMint</a></h3>
<p>Preview how many assets would be required to mint a specific amount of shares</p>
<p><em>Let $s$ = current total supply of shares</em></p>
<p><em>Let $n$ = new shares to mint</em></p>
<p><em>Let $\frac{m}{2}$ = half of the slope</em></p>
<p><em>Let $o$ = offset value</em></p>
<p><em>assets:
$$\text{assets} = ((s + n + o)^2 - (s + o)^2) \cdot \frac{m}{2}$$</em></p>
<p><em>which can be expanded to:
$$\text{assets} = ((s + o)^2 + 2(s + o)n + n^2 - (s + o)^2) \cdot \frac{m}{2}$$</em></p>
<p><em>which simplifies to:
$$\text{assets} = (2(s + o)n + n^2) \cdot \frac{m}{2}$$</em></p>
<p><em>Implementation note: This formula is computed via the _convertToAssets helper,</em></p>
<p><em>where juniorSupply = (s + o) and seniorSupply = (s + n + o)</em></p>
<pre><code class="language-solidity">function previewMint(uint256 shares, uint256 totalShares, uint256) external view override returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to mint</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets that would be required to mint the shares</td></tr>
</tbody></table>
</div>
<h3 id="previewwithdraw-5"><a class="header" href="#previewwithdraw-5">previewWithdraw</a></h3>
<p>Preview how many shares would be redeemed for a withdrawal of assets</p>
<p><em>Let $s$ = current total supply of shares</em></p>
<p><em>Let $a$ = assets to withdraw</em></p>
<p><em>Let $\frac{m}{2}$ = half of the slope</em></p>
<p><em>Let $o$ = offset value</em></p>
<p><em>shares:
$$\text{shares} = (s + o) - \sqrt{(s + o)^2 - \frac{a}{m/2}}$$</em></p>
<p><em>or to say that another way:
$$\text{shares} = (s + o) - \sqrt{(s + o)^2 - \frac{2a}{m}}$$</em></p>
<pre><code class="language-solidity">function previewWithdraw(uint256 assets, uint256, uint256 totalShares)
    external
    view
    override
    returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to withdraw</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares that would need to be redeemed</td></tr>
</tbody></table>
</div>
<h3 id="currentprice-5"><a class="header" href="#currentprice-5">currentPrice</a></h3>
<p>Get the current price of a share</p>
<p><em>Let $s$ = current total supply of shares</em></p>
<p><em>Let $m$ = the slope of the curve</em></p>
<p><em>Let $o$ = offset value</em></p>
<p><em>sharePrice:
$$\text{sharePrice} = (s + o) \cdot m$$</em></p>
<p><em>This is the modified linear price function where the price increases linearly with the total supply plus offset</em></p>
<p><em>And the slope ($m$) determines how quickly the price increases</em></p>
<p><em>TLDR: Each new share costs more than the last, but starting from an offset point on the curve</em></p>
<pre><code class="language-solidity">function currentPrice(uint256 totalShares) public view override returns (uint256 sharePrice);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharePrice</code></td><td><code>uint256</code></td><td>The current price of a share, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="converttoshares-7"><a class="header" href="#converttoshares-7">convertToShares</a></h3>
<p>Convert assets to shares at a specific point on the curve</p>
<p><em>Let $s$ = the current total supply of shares</em></p>
<p><em>Let $\frac{m}{2}$ = half of the slope</em></p>
<p><em>Let $a$ = quantity of assets to convert to shares</em></p>
<p><em>Let $o$ = offset value</em></p>
<p><em>shares:
$$\text{shares} = \frac{a}{(s + o) \cdot m/2}$$</em></p>
<p><em>Or to say that another way:
$$\text{shares} = \frac{2a}{(s + o) \cdot m}$$</em></p>
<pre><code class="language-solidity">function convertToShares(uint256 assets, uint256, uint256 totalShares)
    external
    view
    override
    returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to convert to shares</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares equivalent to the given assets</td></tr>
</tbody></table>
</div>
<h3 id="converttoassets-7"><a class="header" href="#converttoassets-7">convertToAssets</a></h3>
<p>Convert shares to assets at a specific point on the curve</p>
<p><em>Let $s$ = current total supply of shares</em></p>
<p><em>Let $\frac{m}{2}$ = half of the slope</em></p>
<p><em>Let $n$ = quantity of shares to convert to assets</em></p>
<p><em>Let $o$ = offset value</em></p>
<p><em>conversion price:
$$\text{price} = (s + o) \cdot \frac{m}{2}$$</em></p>
<p><em>where $\frac{m}{2}$ is average price per share</em></p>
<p><em>assets:
$$\text{assets} = n \cdot ((s + o) \cdot \frac{m}{2})$$</em></p>
<p><em>Or to say that another way:
$$\text{assets} = n \cdot (s + o) \cdot \frac{m}{2}$$</em></p>
<pre><code class="language-solidity">function convertToAssets(uint256 shares, uint256 totalShares, uint256)
    external
    view
    override
    returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to convert to assets</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets equivalent to the given shares</td></tr>
</tbody></table>
</div>
<h3 id="_converttoassets"><a class="header" href="#_converttoassets">_convertToAssets</a></h3>
<p>Computes assets as the area under a linear curve with a simplified form of the area of a trapezium,
now including the offset:
$$f(x) = m(x + o)$$
$$\text{Area} = \frac{1}{2} \cdot (a + b) \cdot h$$
where $a$ and $b$ can be both $f(\text{juniorSupply})$ or $f(\text{seniorSupply})$ depending if used in minting or redeeming,
and $o$ is the offset value.
Calculates area as:
$$((seniorSupply + offset)^2 - (juniorSupply + offset)^2) \cdot \text{halfSlope}$$
where:
$$\text{halfSlope} = \frac{\text{slope}}{2}$$</p>
<p><em>This method is identical to the ProgressiveCurve because it works entirely with relative values, which are already
offset by the invoking methods.</em></p>
<pre><code class="language-solidity">function _convertToAssets(UD60x18 juniorSupply, UD60x18 seniorSupply) internal view returns (UD60x18 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>juniorSupply</code></td><td><code>UD60x18</code></td><td>The smaller supply in the operation (the initial supply during mint, or the final supply during a redeem operation).</td></tr>
<tr><td><code>seniorSupply</code></td><td><code>UD60x18</code></td><td>The larger supply in the operation (the final supply during mint, or the initial supply during a redeem operation).</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>UD60x18</code></td><td>The computed assets as an instance of UD60x18 (a fixed-point number).</td></tr>
</tbody></table>
</div>
<h3 id="maxshares-3"><a class="header" href="#maxshares-3">maxShares</a></h3>
<p>The maximum number of shares that this curve can handle without overflowing.</p>
<p><em>Checked by the EthMultiVault before transacting</em></p>
<pre><code class="language-solidity">function maxShares() external view override returns (uint256);
</code></pre>
<h3 id="maxassets-3"><a class="header" href="#maxassets-3">maxAssets</a></h3>
<p>The maximum number of assets that this curve can handle without overflowing.</p>
<p><em>Checked by the EthMultiVault before transacting</em></p>
<pre><code class="language-solidity">function maxAssets() external view override returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="progressivecurve-1"><a class="header" href="#progressivecurve-1">ProgressiveCurve</a></h1>
<p><a href="https://github.com/0xIntuition/intuition-beta-contracts/blob/b0ea23601a4ad6822949563dc7e770696d588bfe/src/ProgressiveCurve.sol">Git Source</a></p>
<h2 id="curve-visualization-1"><a class="header" href="#curve-visualization-1">Curve Visualization</a></h2>
<pre class="mermaid">%%{init: {&quot;xychart&quot;: {&quot;showTitle&quot;: true}} }%%
</pre>
<pre class="mermaid">xychart-beta
    title &quot;Progressive Curve&quot;
    x-axis &quot;Assets (ETH)&quot; [0.000000000000000000, 1.000000000000000000, 2.000000000000000000, 3.000000000000000000, 4.000000000000000000, 5.000000000000000000, 6.000000000000000000, 7.000000000000000000, 8.000000000000000000, 9.000000000000000000, 10.000000000000000000, 11.000000000000000000, 12.000000000000000000, 13.000000000000000000, 14.000000000000000000, 15.000000000000000000, 16.000000000000000000, 17.000000000000000000, 18.000000000000000000, 19.000000000000000000, 20.000000000000000000, 21.000000000000000000, 22.000000000000000000, 23.000000000000000000, 24.000000000000000000, 25.000000000000000000, 26.000000000000000000, 27.000000000000000000, 28.000000000000000000, 29.000000000000000000, 30.000000000000000000, 31.000000000000000000, 32.000000000000000000, 33.000000000000000000, 34.000000000000000000, 35.000000000000000000, 36.000000000000000000, 37.000000000000000000, 38.000000000000000000, 39.000000000000000000, 40.000000000000000000, 41.000000000000000000, 42.000000000000000000, 43.000000000000000000, 44.000000000000000000, 45.000000000000000000, 46.000000000000000000, 47.000000000000000000, 48.000000000000000000, 49.000000000000000000, 50.000000000000000000, 51.000000000000000000, 52.000000000000000000, 53.000000000000000000, 54.000000000000000000, 55.000000000000000000, 56.000000000000000000, 57.000000000000000000, 58.000000000000000000, 59.000000000000000000, 60.000000000000000000, 61.000000000000000000, 62.000000000000000000, 63.000000000000000000, 64.000000000000000000, 65.000000000000000000, 66.000000000000000000, 67.000000000000000000, 68.000000000000000000, 69.000000000000000000, 70.000000000000000000, 71.000000000000000000, 72.000000000000000000, 73.000000000000000000, 74.000000000000000000, 75.000000000000000000, 76.000000000000000000, 77.000000000000000000, 78.000000000000000000, 79.000000000000000000, 80.000000000000000000, 81.000000000000000000, 82.000000000000000000, 83.000000000000000000, 84.000000000000000000, 85.000000000000000000, 86.000000000000000000, 87.000000000000000000, 88.000000000000000000, 89.000000000000000000, 90.000000000000000000, 91.000000000000000000, 92.000000000000000000, 93.000000000000000000, 94.000000000000000000, 95.000000000000000000, 96.000000000000000000, 97.000000000000000000, 98.000000000000000000, 99.000000000000000000]
    y-axis &quot;Shares&quot;
    line [0.000000000000000000, 1.000000000000000000, 1.414213562373095145, 1.732050807568877415, 2.000000000000000000, 2.236067977499789805, 2.449489742783178325, 2.645751311064590272, 2.828427124746190291, 3.000000000000000000, 3.162277660168379523, 3.316624790355399810, 3.464101615137754830, 3.605551275463989125, 3.741657386773941329, 3.872983346207417021, 4.000000000000000000, 4.123105625617660586, 4.242640687119285658, 4.358898943540673976, 4.472135954999579610, 4.582575694955839829, 4.690415759823429731, 4.795831523312720002, 4.898979485566356651, 5.000000000000000000, 5.099019513592784492, 5.196152422706632024, 5.291502622129180544, 5.385164807134503739, 5.477225575051661188, 5.567764362830021518, 5.656854249492380582, 5.744562646538028616, 5.830951894845300743, 5.916079783099616130, 6.000000000000000000, 6.082762530298219339, 6.164414002968976014, 6.244997998398398309, 6.324555320336759046, 6.403124237432848531, 6.480740698407860378, 6.557438524302001248, 6.633249580710799620, 6.708203932499368527, 6.782329983125268136, 6.855654600401044796, 6.928203230275509661, 7.000000000000000000, 7.071067811865475505, 7.141428428542850426, 7.211102550927978250, 7.280109889280518054, 7.348469228349534532, 7.416198487095662983, 7.483314773547882659, 7.549834435270749822, 7.615773105863908654, 7.681145747868608709, 7.745966692414834043, 7.810249675906653977, 7.874007874011811126, 7.937253933193772149, 8.000000000000000000, 8.062257748298549132, 8.124038404635960831, 8.185352771872450361, 8.246211251235321171, 8.306623862918074863, 8.366600265340755627, 8.426149773176359048, 8.485281374238571317, 8.544003745317532150, 8.602325267042626677, 8.660254037844387298, 8.717797887081347952, 8.774964387392122589, 8.831760866327847737, 8.888194417315588680, 8.944271909999159220, 9.000000000000000000, 9.055385138137417300, 9.110433579144299188, 9.165151389911679658, 9.219544457292887074, 9.273618495495703939, 9.327379053088815652, 9.380831519646859462, 9.433981132056604935, 9.486832980505136348, 9.539392014169456147, 9.591663046625440003, 9.643650760992954929, 9.695359714832658682, 9.746794344808964894, 9.797958971132713302, 9.848857801796103928, 9.899494936611665352, 9.949874371066199430]
</pre>
<p><strong>Inherits:</strong>
<a href="src/ProgressiveCurve.sol//src/BaseCurve.sol/abstract.BaseCurve.html">BaseCurve</a></p>
<p><strong>Author:</strong>
0xIntuition</p>
<p>A bonding curve implementation that uses a progressive pricing model where
each new share costs more than the last.
The price follows the formula:
$$P(s) = m \cdot s$$
where:</p>
<ul>
<li>$m$ is the slope (in basis points)</li>
<li>$s$ is the total supply of shares
The cost to mint shares is calculated as the area under this curve:
$$\text{Cost} = (s_2^2 - s_1^2) \cdot \frac{m}{2}$$
where $s_1$ is the starting share supply and $s_2$ is the final share supply.
This curve creates stronger incentives for early stakers compared to the LinearCurve,
while maintaining fee-based appreciation.</li>
</ul>
<p><em>Uses the prb-math library for fixed point arithmetic with UD60x18</em></p>
<p><em>Fixed point precision used for all internal calculations, while return values are all
represented as regular uint256s, and unwrapped.  I.e. we might use 123.456 internally
and return 123.</em></p>
<p><em>The core equation:
$$P(s) = m \cdot s$$
and the cost equation:
$$\text{Cost} = (s_2^2 - s_1^2) \cdot \frac{m}{2}$$
comes from calculus - it's the integral of a linear price function. The area under a
linear curve from point $s_1$ to $s_2$ gives us the total cost/return of minting/redeeming
shares.</em></p>
<p><em>Inspired by the Solaxy.sol contract: https://github.com/M3tering/Solaxy/blob/main/src/Solaxy.sol
and https://m3tering.whynotswitch.com/token-economics/mint-and-distribution.  * The key difference
between the Solaxy contract and this one is that the economic state is handled by the EthMultiVault
instead of directly in the curve implementation. *  Otherwise the math is identical.</em></p>
<h2 id="state-variables-6"><a class="header" href="#state-variables-6">State Variables</a></h2>
<h3 id="slope-1"><a class="header" href="#slope-1">SLOPE</a></h3>
<p>The slope of the curve, in basis points.  This is the rate at which the price of shares increases.</p>
<p><em>0.0025e18 -&gt; 25 basis points, 0.0001e18 = 1 basis point, etc etc</em></p>
<p><em>If minDeposit is 0.003 ether, this value would need to be 0.00007054e18 to avoid returning 0 shares for minDeposit assets</em></p>
<pre><code class="language-solidity">UD60x18 public SLOPE;
</code></pre>
<h3 id="half_slope-1"><a class="header" href="#half_slope-1">HALF_SLOPE</a></h3>
<p>The half of the slope, used for calculations.</p>
<pre><code class="language-solidity">UD60x18 public HALF_SLOPE;
</code></pre>
<h3 id="max_shares-2"><a class="header" href="#max_shares-2">MAX_SHARES</a></h3>
<p><em>Since powu(2) will overflow first (see slope equation), maximum totalShares is sqrt(MAX_UD60x18)</em></p>
<pre><code class="language-solidity">uint256 public MAX_SHARES;
</code></pre>
<h3 id="max_assets-2"><a class="header" href="#max_assets-2">MAX_ASSETS</a></h3>
<p><em>The maximum assets is totalShares * slope / 2, because multiplication (see slope equation) would overflow beyond that point.</em></p>
<pre><code class="language-solidity">uint256 public MAX_ASSETS;
</code></pre>
<h2 id="functions-10"><a class="header" href="#functions-10">Functions</a></h2>
<h3 id="constructor-5"><a class="header" href="#constructor-5">constructor</a></h3>
<p>Constructs a new ProgressiveCurve with the given name and slope</p>
<p><em>Computes maximum values given constructor arguments</em></p>
<p><em>Computes Slope / 2 as commonly used constant</em></p>
<pre><code class="language-solidity">constructor(string memory _name, uint256 slope18) BaseCurve(_name);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>string</code></td><td>The name of the curve (i.e. "Progressive Curve #465")</td></tr>
<tr><td><code>slope18</code></td><td><code>uint256</code></td><td>The slope of the curve, in basis points (i.e. 0.0025e18)</td></tr>
</tbody></table>
</div>
<h3 id="previewdeposit-8"><a class="header" href="#previewdeposit-8">previewDeposit</a></h3>
<p>Preview how many shares would be minted for a deposit of assets</p>
<p><em>Let $s$ = current total supply</em></p>
<p><em>Let $a$ = amount of assets to deposit</em></p>
<p><em>Let $\frac{m}{2}$ = half of the slope</em></p>
<p><em>shares:
$$\text{shares} = \sqrt{s^2 + \frac{a}{m/2}} - s$$</em></p>
<p><em>or to say that another way:
$$\text{shares} = \sqrt{s^2 + \frac{2a}{m}} - s$$</em></p>
<pre><code class="language-solidity">function previewDeposit(uint256 assets, uint256, uint256 totalShares) external view override returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to deposit</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares that would be minted</td></tr>
</tbody></table>
</div>
<h3 id="previewredeem-8"><a class="header" href="#previewredeem-8">previewRedeem</a></h3>
<p>Preview how many assets would be returned for burning a specific amount of shares</p>
<p><em>Let $s$ = initial total supply of shares</em></p>
<p><em>Let $r$ = shares to redeem</em></p>
<p><em>Let $\frac{m}{2}$ = half of the slope</em></p>
<p><em>assets:
$$\text{assets} = (s^2 - (s-r)^2) \cdot \frac{m}{2}$$</em></p>
<p><em>this can be expanded to:
$$\text{assets} = (s^2 - (s^2 - 2sr + r^2)) \cdot \frac{m}{2}$$</em></p>
<p><em>which simplifies to:
$$\text{assets} = (2sr - r^2) \cdot \frac{m}{2}$$</em></p>
<pre><code class="language-solidity">function previewRedeem(uint256 shares, uint256 totalShares, uint256) public view override returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to burn</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets that would be returned</td></tr>
</tbody></table>
</div>
<h3 id="previewmint-6"><a class="header" href="#previewmint-6">previewMint</a></h3>
<p>Preview how many assets would be required to mint a specific amount of shares</p>
<p><em>Let $s$ = current total supply of shares</em></p>
<p><em>Let $n$ = new shares to mint</em></p>
<p><em>Let $\frac{m}{2}$ = half of the slope</em></p>
<p><em>assets:
$$\text{assets} = ((s + n)^2 - s^2) \cdot \frac{m}{2}$$</em></p>
<p><em>which can be expanded to:
$$\text{assets} = (s^2 + 2sn + n^2 - s^2) \cdot \frac{m}{2}$$</em></p>
<p><em>which simplifies to:
$$\text{assets} = (2sn + n^2) \cdot \frac{m}{2}$$</em></p>
<pre><code class="language-solidity">function previewMint(uint256 shares, uint256 totalShares, uint256) external view override returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to mint</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets that would be required to mint the shares</td></tr>
</tbody></table>
</div>
<h3 id="previewwithdraw-6"><a class="header" href="#previewwithdraw-6">previewWithdraw</a></h3>
<p>Preview how many shares would be redeemed for a withdrawal of assets</p>
<p><em>Let $s$ = current total supply of shares</em></p>
<p><em>Let $a$ = assets to withdraw</em></p>
<p><em>Let $\frac{m}{2}$ = half of the slope</em></p>
<p><em>shares:
$$\text{shares} = s - \sqrt{s^2 - \frac{a}{m/2}}$$</em></p>
<p><em>or to say that another way:
$$\text{shares} = s - \sqrt{s^2 - \frac{2a}{m}}$$</em></p>
<pre><code class="language-solidity">function previewWithdraw(uint256 assets, uint256, uint256 totalShares)
    external
    view
    override
    returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to withdraw</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares that would need to be redeemed</td></tr>
</tbody></table>
</div>
<h3 id="currentprice-6"><a class="header" href="#currentprice-6">currentPrice</a></h3>
<p>Get the current price of a share</p>
<p><em>Let $s$ = current total supply of shares</em></p>
<p><em>Let $m$ = the slope of the curve</em></p>
<p><em>sharePrice:
$$\text{sharePrice} = s \cdot m$$</em></p>
<p><em>This is the basic linear price function where the price increases linearly with the total supply</em></p>
<p><em>And the slope ($m$) determines how quickly the price increases</em></p>
<p><em>TLDR: Each new share costs more than the last</em></p>
<pre><code class="language-solidity">function currentPrice(uint256 totalShares) public view override returns (uint256 sharePrice);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharePrice</code></td><td><code>uint256</code></td><td>The current price of a share, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="converttoshares-8"><a class="header" href="#converttoshares-8">convertToShares</a></h3>
<p>Convert assets to shares at a specific point on the curve</p>
<p><em>Let $s$ = current total supply of shares</em></p>
<p><em>Let $a$ = assets to convert to shares</em></p>
<p><em>Let $\frac{m}{2}$ = half of the slope</em></p>
<p><em>shares:
$$\text{shares} = \frac{a}{s \cdot m/2}$$</em></p>
<p><em>Or to say that another way:
$$\text{shares} = \frac{2a}{s \cdot m}$$</em></p>
<pre><code class="language-solidity">function convertToShares(uint256 assets, uint256, uint256 totalShares)
    external
    view
    override
    returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Quantity of assets to convert to shares</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>The number of shares equivalent to the given assets</td></tr>
</tbody></table>
</div>
<h3 id="converttoassets-8"><a class="header" href="#converttoassets-8">convertToAssets</a></h3>
<p>Convert shares to assets at a specific point on the curve</p>
<p><em>Let $s$ = current total supply of shares</em></p>
<p><em>Let $n$ = quantity of shares to convert to assets</em></p>
<p><em>conversion price:
$$\text{price} = s \cdot \frac{m}{2}$$</em></p>
<p><em>where $\frac{m}{2}$ is average price per share</em></p>
<p><em>assets:
$$\text{assets} = n \cdot (s \cdot \frac{m}{2})$$</em></p>
<p><em>Or to say that another way:
$$\text{assets} = n \cdot s \cdot \frac{m}{2}$$</em></p>
<pre><code class="language-solidity">function convertToAssets(uint256 shares, uint256 totalShares, uint256)
    external
    view
    override
    returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Quantity of shares to convert to assets</td></tr>
<tr><td><code>totalShares</code></td><td><code>uint256</code></td><td>Total quantity of shares already awarded by the curve</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The number of assets equivalent to the given shares</td></tr>
</tbody></table>
</div>
<h3 id="_converttoassets-1"><a class="header" href="#_converttoassets-1">_convertToAssets</a></h3>
<p>Computes assets as the area under a linear curve with a simplified form of the area of a trapezium:
$$f(x) = mx + c$$
$$\text{Area} = \frac{1}{2} \cdot (a + b) \cdot h$$
where $a$ and $b$ can be both $f(\text{juniorSupply})$ or $f(\text{seniorSupply})$ depending if used in minting or redeeming.
Calculates area as:
$$(\text{seniorSupply}^2 - \text{juniorSupply}^2) \cdot \text{halfSlope}$$
where:
$$\text{halfSlope} = \frac{\text{slope}}{2}$$</p>
<pre><code class="language-solidity">function _convertToAssets(UD60x18 juniorSupply, UD60x18 seniorSupply) internal view returns (UD60x18 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>juniorSupply</code></td><td><code>UD60x18</code></td><td>The smaller supply in the operation (the initial supply during mint, or the final supply during a redeem operation).</td></tr>
<tr><td><code>seniorSupply</code></td><td><code>UD60x18</code></td><td>The larger supply in the operation (the final supply during mint, or the initial supply during a redeem operation).</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>UD60x18</code></td><td>The computed assets as an instance of UD60x18 (a fixed-point number).</td></tr>
</tbody></table>
</div>
<h3 id="maxshares-4"><a class="header" href="#maxshares-4">maxShares</a></h3>
<p>The maximum number of shares that this curve can handle without overflowing.</p>
<p><em>Checked by the EthMultiVault before transacting</em></p>
<pre><code class="language-solidity">function maxShares() external view override returns (uint256);
</code></pre>
<h3 id="maxassets-4"><a class="header" href="#maxassets-4">maxAssets</a></h3>
<p>The maximum number of assets that this curve can handle without overflowing.</p>
<p><em>Checked by the EthMultiVault before transacting</em></p>
<pre><code class="language-solidity">function maxAssets() external view override returns (uint256);
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="mermaid.min.js"></script>
        <script src="mermaid-init.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
